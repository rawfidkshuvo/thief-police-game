(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Cd={exports:{}},pl={};var I_;function gS(){if(I_)return pl;I_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var N_;function pS(){return N_||(N_=1,Cd.exports=gS()),Cd.exports}var z=pS(),Id={exports:{}},At={};var D_;function yS(){if(D_)return At;D_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,J={};function mt(O,K,it){this.props=O,this.context=K,this.refs=J,this.updater=it||W}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=mt.prototype;function _t(O,K,it){this.props=O,this.context=K,this.refs=J,this.updater=it||W}var jt=_t.prototype=new Tt;jt.constructor=_t,st(jt,mt.prototype),jt.isPureReactComponent=!0;var $t=Array.isArray;function Ot(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,K,it){var rt=it.ref;return{$$typeof:r,type:O,key:K,ref:rt!==void 0?rt:null,props:it}}function M(O,K){return C(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var w=/\/+/g;function re(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function _e(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ot,Ot):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,it,rt,$){var et=typeof O;(et==="undefined"||et==="boolean")&&(O=null);var at=!1;if(O===null)at=!0;else switch(et){case"bigint":case"string":case"number":at=!0;break;case"object":switch(O.$$typeof){case r:case t:at=!0;break;case E:return at=O._init,G(at(O._payload),K,it,rt,$)}}if(at)return $=$(O),at=rt===""?"."+re(O,0):rt,$t($)?(it="",at!=null&&(it=at.replace(w,"$&/")+"/"),G($,K,it,"",function(ve){return ve})):$!=null&&(N($)&&($=M($,it+($.key==null||O&&O.key===$.key?"":(""+$.key).replace(w,"$&/")+"/")+at)),K.push($)),1;at=0;var ht=rt===""?".":rt+":";if($t(O))for(var pt=0;pt<O.length;pt++)rt=O[pt],et=ht+re(rt,pt),at+=G(rt,K,it,et,$);else if(pt=H(O),typeof pt=="function")for(O=pt.call(O),pt=0;!(rt=O.next()).done;)rt=rt.value,et=ht+re(rt,pt++),at+=G(rt,K,it,et,$);else if(et==="object"){if(typeof O.then=="function")return G(_e(O),K,it,rt,$);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return at}function nt(O,K,it){if(O==null)return O;var rt=[],$=0;return G(O,rt,"","",function(et){return K.call(it,et,$++)}),rt}function ft(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:nt,forEach:function(O,K,it){nt(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return nt(O,function(){K++}),K},toArray:function(O){return nt(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=b,At.Children=Ht,At.Component=mt,At.Fragment=i,At.Profiler=l,At.PureComponent=_t,At.StrictMode=a,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=st({},O.props),$=O.key;if(K!=null)for(et in K.key!==void 0&&($=""+K.key),K)!A.call(K,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&K.ref===void 0||(rt[et]=K[et]);var et=arguments.length-2;if(et===1)rt.children=it;else if(1<et){for(var at=Array(et),ht=0;ht<et;ht++)at[ht]=arguments[ht+2];rt.children=at}return C(O.type,$,rt)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,K,it){var rt,$={},et=null;if(K!=null)for(rt in K.key!==void 0&&(et=""+K.key),K)A.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&($[rt]=K[rt]);var at=arguments.length-2;if(at===1)$.children=it;else if(1<at){for(var ht=Array(at),pt=0;pt<at;pt++)ht[pt]=arguments[pt+2];$.children=ht}if(O&&O.defaultProps)for(rt in at=O.defaultProps,at)$[rt]===void 0&&($[rt]=at[rt]);return C(O,et,$)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:p,render:O}},At.isValidElement=N,At.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ft}},At.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},At.startTransition=function(O){var K=I.T,it={};I.T=it;try{var rt=O(),$=I.S;$!==null&&$(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ot,Lt)}catch(et){Lt(et)}finally{K!==null&&it.types!==null&&(K.types=it.types),I.T=K}},At.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},At.use=function(O){return I.H.use(O)},At.useActionState=function(O,K,it){return I.H.useActionState(O,K,it)},At.useCallback=function(O,K){return I.H.useCallback(O,K)},At.useContext=function(O){return I.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},At.useEffect=function(O,K){return I.H.useEffect(O,K)},At.useEffectEvent=function(O){return I.H.useEffectEvent(O)},At.useId=function(){return I.H.useId()},At.useImperativeHandle=function(O,K,it){return I.H.useImperativeHandle(O,K,it)},At.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},At.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},At.useMemo=function(O,K){return I.H.useMemo(O,K)},At.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},At.useReducer=function(O,K,it){return I.H.useReducer(O,K,it)},At.useRef=function(O){return I.H.useRef(O)},At.useState=function(O){return I.H.useState(O)},At.useSyncExternalStore=function(O,K,it){return I.H.useSyncExternalStore(O,K,it)},At.useTransition=function(){return I.H.useTransition()},At.version="19.2.0",At}var O_;function Em(){return O_||(O_=1,Id.exports=yS()),Id.exports}var se=Em(),Nd={exports:{}},yl={},Dd={exports:{}},Od={};var x_;function _S(){return x_||(x_=1,(function(r){function t(G,nt){var ft=G.length;G.push(nt);t:for(;0<ft;){var Lt=ft-1>>>1,Ht=G[Lt];if(0<l(Ht,nt))G[Lt]=nt,G[ft]=Ht,ft=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var nt=G[0],ft=G.pop();if(ft!==nt){G[0]=ft;t:for(var Lt=0,Ht=G.length,O=Ht>>>1;Lt<O;){var K=2*(Lt+1)-1,it=G[K],rt=K+1,$=G[rt];if(0>l(it,ft))rt<Ht&&0>l($,it)?(G[Lt]=$,G[rt]=ft,Lt=rt):(G[Lt]=it,G[K]=ft,Lt=K);else if(rt<Ht&&0>l($,ft))G[Lt]=$,G[rt]=ft,Lt=rt;else break t}}return nt}function l(G,nt){var ft=G.sortIndex-nt.sortIndex;return ft!==0?ft:G.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,b=null,x=3,H=!1,W=!1,st=!1,J=!1,mt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function jt(G){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=G)a(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function $t(G){if(st=!1,jt(G),!W)if(i(y)!==null)W=!0,Ot||(Ot=!0,U());else{var nt=i(_);nt!==null&&_e($t,nt.startTime-G)}}var Ot=!1,I=-1,A=5,C=-1;function M(){return J?!0:!(r.unstable_now()-C<A)}function N(){if(J=!1,Ot){var G=r.unstable_now();C=G;var nt=!0;try{t:{W=!1,st&&(st=!1,Tt(I),I=-1),H=!0;var ft=x;try{e:{for(jt(G),b=i(y);b!==null&&!(b.expirationTime>G&&M());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,x=b.priorityLevel;var Ht=Lt(b.expirationTime<=G);if(G=r.unstable_now(),typeof Ht=="function"){b.callback=Ht,jt(G),nt=!0;break e}b===i(y)&&a(y),jt(G)}else a(y);b=i(y)}if(b!==null)nt=!0;else{var O=i(_);O!==null&&_e($t,O.startTime-G),nt=!1}}break t}finally{b=null,x=ft,H=!1}nt=void 0}}finally{nt?U():Ot=!1}}}var U;if(typeof _t=="function")U=function(){_t(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,re=w.port2;w.port1.onmessage=N,U=function(){re.postMessage(null)}}else U=function(){mt(N,0)};function _e(G,nt){I=mt(function(){G(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(G){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var ft=x;x=nt;try{return G()}finally{x=ft}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=x;x=G;try{return nt()}finally{x=ft}},r.unstable_scheduleCallback=function(G,nt,ft){var Lt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Lt+ft:Lt):ft=Lt,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,G={id:E++,callback:nt,priorityLevel:G,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>Lt?(G.sortIndex=ft,t(_,G),i(y)===null&&G===i(_)&&(st?(Tt(I),I=-1):st=!0,_e($t,ft-Lt))):(G.sortIndex=Ht,t(y,G),W||H||(W=!0,Ot||(Ot=!0,U()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var nt=x;return function(){var ft=x;x=nt;try{return G.apply(this,arguments)}finally{x=ft}}}})(Od)),Od}var M_;function vS(){return M_||(M_=1,Dd.exports=_S()),Dd.exports}var xd={exports:{}},We={};var V_;function ES(){if(V_)return We;V_=1;var r=Em();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},We.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},We.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},We.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},We.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,b=p(E,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:H}):E==="script"&&a.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},We.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},We.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,b=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},We.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},We.requestFormReset=function(y){a.d.r(y)},We.unstable_batchedUpdates=function(y,_){return y(_)},We.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.2.0",We}var U_;function TS(){if(U_)return xd.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=ES(),xd.exports}var k_;function SS(){if(k_)return yl;k_=1;var r=vS(),t=Em(),i=TS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case mt:return"Profiler";case J:return"StrictMode";case $t:return"Suspense";case Ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case _t:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}var _e=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function O(e){return{current:e}}function K(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function it(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var rt=O(null),$=O(null),et=O(null),at=O(null);function ht(e,n){switch(it(et,n),it($,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=Jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),it(rt,e)}function pt(){K(rt),K($),K(et)}function ve(e){e.memoizedState!==null&&it(at,e);var n=rt.current,s=Jy(n,e.type);n!==s&&(it($,e),it(rt,s))}function an(e){$.current===e&&(K(rt),K($)),at.current===e&&(K(at),fl._currentValue=ft)}var ee,he;function wt(e){if(ee===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ee=n&&n[1]||"",he=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+e+he}var on=!1;function ke(e,n){if(!e||on)return"";on=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),P=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{on=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?wt(s):""}function ln(e,n){switch(e.tag){case 26:case 27:case 5:return wt(e.type);case 16:return wt("Lazy");case 13:return e.child!==n&&n!==null?wt("Suspense Fallback"):wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return ke(e.type,!1);case 11:return ke(e.type.render,!1);case 1:return ke(e.type,!0);case 31:return wt("Activity");default:return""}}function fe(e){try{var n="",s=null;do n+=ln(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ne=Object.prototype.hasOwnProperty,ge=r.unstable_scheduleCallback,ys=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,$l=r.unstable_requestPaint,un=r.unstable_now,pr=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,po=r.unstable_UserBlockingPriority,_s=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Zl=r.unstable_IdlePriority,Jl=r.log,Wl=r.unstable_setDisableYieldValue,$n=null,Ge=null;function Un(e){if(typeof Jl=="function"&&Wl(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode($n,e)}catch{}}var Ee=Math.clz32?Math.clz32:eu,tu=Math.log,ta=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/ta|0)|0}var ci=256,yr=262144,we=4194304;function hi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=hi(o):(g&=T,g!==0?h=hi(g):s||(s=T&~e,s!==0&&(h=hi(s))))):(T=o&~f,T!==0?h=hi(T):g!==0?h=hi(g):s||(s=o&~e,s!==0&&(h=hi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function di(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function _r(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-Ee(s),Y=1<<F;T[F]=0,R[F]=-1;var j=P[F];if(j!==null)for(P[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&vr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function vr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ee(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function yo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Ee(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function _o(e,n){var s=n&-n;return s=(s&42)!==0?1:Er(s),(s&(e.suspendedLanes|n))!==0?0:s}function Er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:T_(e.type))}function Jn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Wn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Wn,je="__reactProps$"+Wn,mi="__reactContainer$"+Wn,ea="__reactEvents$"+Wn,xh="__reactListeners$"+Wn,su="__reactHandles$"+Wn,ru="__reactResources$"+Wn,gi="__reactMarker$"+Wn;function na(e){delete e[Re],delete e[je],delete e[ea],delete e[xh],delete e[su]}function pi(e){var n=e[Re];if(n)return n;for(var s=e.parentNode;s;){if(n=s[mi]||s[Re]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=r_(e);e!==null;){if(s=e[Re])return s;e=r_(e)}return n}e=s,s=e.parentNode}return null}function kn(e){if(e=e[Re]||e[mi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function yi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(e){e[gi]=!0}var vo=new Set,Eo={};function _i(e,n){vi(e,n),vi(e+"Capture",n)}function vi(e,n){for(Eo[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},Ao={};function au(e){return ne.call(Ao,e)?!0:ne.call(So,e)?!1:To.test(e)?Ao[e]=!0:(So[e]=!0,!1)}function ia(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function An(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ie(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=vs(e)?"checked":"value";e._valueTracker=bo(e,n,""+e[n])}}function Tr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=vs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sr=/[\n"\\]/g;function dn(e){return e.replace(Sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?wo(e,g,Be(n)):s!=null?wo(e,g,Be(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Be(T):e.removeAttribute("name")}function ou(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+Be(s):"",n=n!=null?""+Be(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function wo(e,n,s){n==="number"&&Ei(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Es(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Be(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Be(s):""}function Ts(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(_e(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Be(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function mn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Co(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Ro(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return Ss.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var Io=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,Ti=null;function Ar(e){var n=kn(e);if(n&&(e=n.stateNode)){var s=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(sa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Tr(o)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Es(e,!!s.multiple,n,!1)}}}var oa=!1;function bs(e,n,s){if(oa)return e(n,s);oa=!0;try{var o=e(n);return o}finally{if(oa=!1,(As!==null||Ti!==null)&&(ic(),As&&(n=As,e=Ti,Ti=As=null,Ar(n),e)))for(n=0;n<e.length;n++)Ar(e[n])}}function ei(e,n){var s=e.stateNode;if(s===null)return null;var o=s[je]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Pn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){br=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{br=!1}var Si=null,No=null,wr=null;function Do(){if(wr)return wr;var e,n=No,s=n.length,o,h="value"in Si?Si.value:Si.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return wr=h.slice(e,1<o?1-o:void 0)}function Rr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function ni(){return!1}function Fe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:ni,this.isPropagationStopped=ni,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Fe(Gi),ws=b({},Gi,{view:0,detail:0}),Oo=Fe(ws),Rs,la,bi,ua=b({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Rs=e.screenX-bi.screenX,la=e.screenY-bi.screenY):la=Rs=0,bi=e),Rs)},movementY:function(e){return"movementY"in e?e.movementY:la}}),xo=Fe(ua),Cr=b({},ua,{dataTransfer:0}),hu=Fe(Cr),fu=b({},ws,{relatedTarget:0}),Ir=Fe(fu),Mo=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=Fe(Mo),ca=b({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=Fe(ca),gu=b({},Gi,{data:0}),wi=Fe(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function Cs(){return vu}var cn=b({},ws,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=Fe(cn),Tu=b({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Fe(Tu),u=b({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=Fe(u),v=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Fe(v),k=b({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Fe(k),tt=b({},Gi,{newState:0,oldState:0}),Rt=Fe(tt),Te=[9,13,27,32],Gt=Pn&&"CompositionEvent"in window,ue=null;Pn&&"documentMode"in document&&(ue=document.documentMode);var zn=Pn&&"TextEvent"in window&&!ue,Ri=Pn&&(!Gt||ue&&8<ue&&11>=ue),ii=" ",si=!1;function Nr(e,n){switch(e){case"keyup":return Te.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function zT(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return e=n.data,e===ii&&si?null:e;default:return null}}function jT(e,n){if(fa)return e==="compositionend"||!Gt&&Nr(e,n)?(e=Do(),wr=No=Si=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ri&&n.locale!=="ko"?null:n.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!BT[e.type]:n==="textarea"}function ug(e,n,s,o){As?Ti?Ti.push(o):Ti=[o]:As=o,n=cc(n,"onChange"),0<n.length&&(s=new Ai("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Vo=null,Uo=null;function qT(e){Fy(e,0)}function Su(e){var n=Sn(e);if(Tr(n))return e}function cg(e,n){if(e==="change")return n}var hg=!1;if(Pn){var Mh;if(Pn){var Vh="oninput"in document;if(!Vh){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Vh=typeof fg.oninput=="function"}Mh=Vh}else Mh=!1;hg=Mh&&(!document.documentMode||9<document.documentMode)}function dg(){Vo&&(Vo.detachEvent("onpropertychange",mg),Uo=Vo=null)}function mg(e){if(e.propertyName==="value"&&Su(Uo)){var n=[];ug(n,Uo,e,Ln(e)),bs(qT,n)}}function HT(e,n,s){e==="focusin"?(dg(),Vo=n,Uo=s,Vo.attachEvent("onpropertychange",mg)):e==="focusout"&&dg()}function GT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Uo)}function FT(e,n){if(e==="click")return Su(n)}function QT(e,n){if(e==="input"||e==="change")return Su(n)}function KT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var bn=typeof Object.is=="function"?Object.is:KT;function ko(e,n){if(bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ne.call(n,h)||!bn(e[h],n[h]))return!1}return!0}function gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pg(e,n){var s=gg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=gg(s)}}function yg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _g(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ei(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ei(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var YT=Pn&&"documentMode"in document&&11>=document.documentMode,da=null,kh=null,Lo=null,Lh=!1;function vg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||da==null||da!==Ei(o)||(o=da,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&ko(Lo,o)||(Lo=o,o=cc(kh,"onSelect"),0<o.length&&(n=new Ai("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=da)))}function Dr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ma={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},Ph={},Eg={};Pn&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Or(e){if(Ph[e])return Ph[e];if(!ma[e])return e;var n=ma[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Eg)return Ph[e]=n[s];return e}var Tg=Or("animationend"),Sg=Or("animationiteration"),Ag=Or("animationstart"),XT=Or("transitionrun"),$T=Or("transitionstart"),ZT=Or("transitioncancel"),bg=Or("transitionend"),wg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function ri(e,n){wg.set(e,n),_i(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],ga=0,jh=0;function bu(){for(var e=ga,n=jh=ga=0;n<e;){var s=jn[n];jn[n++]=null;var o=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Rg(s,h,f)}}function wu(e,n,s,o){jn[ga++]=e,jn[ga++]=n,jn[ga++]=s,jn[ga++]=o,jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Bh(e,n,s,o){return wu(e,n,s,o),Ru(e)}function xr(e,n){return wu(e,null,null,n),Ru(e)}function Rg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ee(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(e){if(50<rl)throw rl=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function JT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,s,o){return new JT(e,n,s,o)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var s=e.alternate;return s===null?(s=wn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Cg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")qh(e)&&(g=1);else if(typeof e=="string")g=iS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=wn(31,s,n,h),e.elementType=C,e.lanes=f,e;case st:return Mr(s.children,h,f,n);case J:g=8,h|=24;break;case mt:return e=wn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case $t:return e=wn(13,s,n,h),e.elementType=$t,e.lanes=f,e;case Ot:return e=wn(19,s,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case Tt:g=9;break t;case jt:g=11;break t;case I:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=wn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Mr(e,n,s,o){return e=wn(7,e,o,n),e.lanes=s,e}function Hh(e,n,s){return e=wn(6,e,null,n),e.lanes=s,e}function Ig(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ng=new WeakMap;function Bn(e,n){if(typeof e=="object"&&e!==null){var s=Ng.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fe(n)},Ng.set(e,n),n)}return{value:e,source:n,stack:fe(n)}}var ya=[],_a=0,Iu=null,Po=0,qn=[],Hn=0,Is=null,Ci=1,Ii="";function Ki(e,n){ya[_a++]=Po,ya[_a++]=Iu,Iu=e,Po=n}function Dg(e,n,s){qn[Hn++]=Ci,qn[Hn++]=Ii,qn[Hn++]=Is,Is=e;var o=Ci;e=Ii;var h=32-Ee(o)-1;o&=~(1<<h),s+=1;var f=32-Ee(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ci=1<<32-Ee(n)+h|s<<h|o,Ii=f+e}else Ci=1<<f|s<<h|o,Ii=e}function Fh(e){e.return!==null&&(Ki(e,1),Dg(e,1,0))}function Qh(e){for(;e===Iu;)Iu=ya[--_a],ya[_a]=null,Po=ya[--_a],ya[_a]=null;for(;e===Is;)Is=qn[--Hn],qn[Hn]=null,Ii=qn[--Hn],qn[Hn]=null,Ci=qn[--Hn],qn[Hn]=null}function Og(e,n){qn[Hn++]=Ci,qn[Hn++]=Ii,qn[Hn++]=Is,Ci=n.id,Ii=n.overflow,Is=e}var Qe=null,ae=null,Pt=!1,Ns=null,Gn=!1,Kh=Error(a(519));function Ds(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Bn(n,e)),Kh}function xg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Re]=e,n[je]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<ol.length;s++)Dt(ol[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Xy(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||Ds(e,!0)}function Mg(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Qe=Qe.return}}function va(e){if(e!==Qe)return!1;if(!Pt)return Mg(e),Pt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&ae&&Ds(e),Mg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=s_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=s_(e)}else n===27?(n=ae,Gs(e.type)?(e=yd,yd=null,ae=e):ae=n):ae=Qe?Qn(e.stateNode.nextSibling):null;return!0}function Vr(){ae=Qe=null,Pt=!1}function Yh(){var e=Ns;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),Ns=null),e}function zo(e){Ns===null?Ns=[e]:Ns.push(e)}var Xh=O(null),Ur=null,Yi=null;function Os(e,n,s){it(Xh,n._currentValue),n._currentValue=s}function Xi(e){e._currentValue=Xh.current,K(Xh)}function $h(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Zh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),$h(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),$h(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ea(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;bn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===at.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&Zh(n,e,s,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){Ur=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Vg(Ur,e)}function Du(e,n){return Ur===null&&kr(e),Vg(e,n)}function Vg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Yi===null){if(e===null)throw Error(a(308));Yi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yi=Yi.next=n;return s}var WT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},t1=r.unstable_scheduleCallback,e1=r.unstable_NormalPriority,Ne={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new WT,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&t1(e1,function(){e.controller.abort()})}var Bo=null,Wh=0,Ta=0,Sa=null;function n1(e,n){if(Bo===null){var s=Bo=[];Wh=0,Ta=id(),Sa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Wh++,n.then(Ug,Ug),n}function Ug(){if(--Wh===0&&Bo!==null){Sa!==null&&(Sa.status="fulfilled");var e=Bo;Bo=null,Ta=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function i1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var kg=G.S;G.S=function(e,n){vy=un(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n1(e,n),kg!==null&&kg(e,n)};var Lr=O(null);function tf(){var e=Lr.current;return e!==null?e:ie.pooledCache}function Ou(e,n){n===null?it(Lr,Lr.current):it(Lr,n.pool)}function Lg(){var e=tf();return e===null?null:{parent:Ne._currentValue,pool:e}}var Aa=Error(a(460)),ef=Error(a(474)),xu=Error(a(542)),Mu={then:function(){}};function Pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ti,ti),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bg(e),e;default:if(typeof n.status=="string")n.then(ti,ti);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bg(e),e}throw zr=n,Aa}}function Pr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(zr=s,Aa):s}}var zr=null;function jg(){if(zr===null)throw Error(a(459));var e=zr;return zr=null,e}function Bg(e){if(e===Aa||e===xu)throw Error(a(483))}var ba=null,qo=0;function Vu(e){var n=qo;return qo+=1,ba===null&&(ba=[]),zg(ba,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function qg(e){function n(V,D){if(e){var L=V.deletions;L===null?(V.deletions=[D],V.flags|=16):L.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Qi(V,D),V.index=0,V.sibling=null,V}function f(V,D,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<D?(V.flags|=67108866,D):L):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,D,L,Q){return D===null||D.tag!==6?(D=Hh(L,V.mode,Q),D.return=V,D):(D=h(D,L),D.return=V,D)}function R(V,D,L,Q){var dt=L.type;return dt===st?F(V,D,L.props.children,Q,L.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Pr(dt)===D.type)?(D=h(D,L.props),Ho(D,L),D.return=V,D):(D=Cu(L.type,L.key,L.props,null,V.mode,Q),Ho(D,L),D.return=V,D)}function P(V,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Gh(L,V.mode,Q),D.return=V,D):(D=h(D,L.children||[]),D.return=V,D)}function F(V,D,L,Q,dt){return D===null||D.tag!==7?(D=Mr(L,V.mode,Q,dt),D.return=V,D):(D=h(D,L),D.return=V,D)}function Y(V,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Hh(""+D,V.mode,L),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return L=Cu(D.type,D.key,D.props,null,V.mode,L),Ho(L,D),L.return=V,L;case W:return D=Gh(D,V.mode,L),D.return=V,D;case A:return D=Pr(D),Y(V,D,L)}if(_e(D)||U(D))return D=Mr(D,V.mode,L,null),D.return=V,D;if(typeof D.then=="function")return Y(V,Vu(D),L);if(D.$$typeof===_t)return Y(V,Du(V,D),L);Uu(V,D)}return null}function j(V,D,L,Q){var dt=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return dt!==null?null:T(V,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===dt?R(V,D,L,Q):null;case W:return L.key===dt?P(V,D,L,Q):null;case A:return L=Pr(L),j(V,D,L,Q)}if(_e(L)||U(L))return dt!==null?null:F(V,D,L,Q,null);if(typeof L.then=="function")return j(V,D,Vu(L),Q);if(L.$$typeof===_t)return j(V,D,Du(V,L),Q);Uu(V,L)}return null}function q(V,D,L,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(L)||null,T(D,V,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return V=V.get(Q.key===null?L:Q.key)||null,R(D,V,Q,dt);case W:return V=V.get(Q.key===null?L:Q.key)||null,P(D,V,Q,dt);case A:return Q=Pr(Q),q(V,D,L,Q,dt)}if(_e(Q)||U(Q))return V=V.get(L)||null,F(D,V,Q,dt,null);if(typeof Q.then=="function")return q(V,D,L,Vu(Q),dt);if(Q.$$typeof===_t)return q(V,D,L,Du(D,Q),dt);Uu(D,Q)}return null}function lt(V,D,L,Q){for(var dt=null,Bt=null,ut=D,It=D=0,Mt=null;ut!==null&&It<L.length;It++){ut.index>It?(Mt=ut,ut=null):Mt=ut.sibling;var qt=j(V,ut,L[It],Q);if(qt===null){ut===null&&(ut=Mt);break}e&&ut&&qt.alternate===null&&n(V,ut),D=f(qt,D,It),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt,ut=Mt}if(It===L.length)return s(V,ut),Pt&&Ki(V,It),dt;if(ut===null){for(;It<L.length;It++)ut=Y(V,L[It],Q),ut!==null&&(D=f(ut,D,It),Bt===null?dt=ut:Bt.sibling=ut,Bt=ut);return Pt&&Ki(V,It),dt}for(ut=o(ut);It<L.length;It++)Mt=q(ut,V,It,L[It],Q),Mt!==null&&(e&&Mt.alternate!==null&&ut.delete(Mt.key===null?It:Mt.key),D=f(Mt,D,It),Bt===null?dt=Mt:Bt.sibling=Mt,Bt=Mt);return e&&ut.forEach(function(Xs){return n(V,Xs)}),Pt&&Ki(V,It),dt}function yt(V,D,L,Q){if(L==null)throw Error(a(151));for(var dt=null,Bt=null,ut=D,It=D=0,Mt=null,qt=L.next();ut!==null&&!qt.done;It++,qt=L.next()){ut.index>It?(Mt=ut,ut=null):Mt=ut.sibling;var Xs=j(V,ut,qt.value,Q);if(Xs===null){ut===null&&(ut=Mt);break}e&&ut&&Xs.alternate===null&&n(V,ut),D=f(Xs,D,It),Bt===null?dt=Xs:Bt.sibling=Xs,Bt=Xs,ut=Mt}if(qt.done)return s(V,ut),Pt&&Ki(V,It),dt;if(ut===null){for(;!qt.done;It++,qt=L.next())qt=Y(V,qt.value,Q),qt!==null&&(D=f(qt,D,It),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return Pt&&Ki(V,It),dt}for(ut=o(ut);!qt.done;It++,qt=L.next())qt=q(ut,V,It,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ut.delete(qt.key===null?It:qt.key),D=f(qt,D,It),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return e&&ut.forEach(function(mS){return n(V,mS)}),Pt&&Ki(V,It),dt}function te(V,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===st&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var dt=L.key;D!==null;){if(D.key===dt){if(dt=L.type,dt===st){if(D.tag===7){s(V,D.sibling),Q=h(D,L.props.children),Q.return=V,V=Q;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Pr(dt)===D.type){s(V,D.sibling),Q=h(D,L.props),Ho(Q,L),Q.return=V,V=Q;break t}s(V,D);break}else n(V,D);D=D.sibling}L.type===st?(Q=Mr(L.props.children,V.mode,Q,L.key),Q.return=V,V=Q):(Q=Cu(L.type,L.key,L.props,null,V.mode,Q),Ho(Q,L),Q.return=V,V=Q)}return g(V);case W:t:{for(dt=L.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(V,D.sibling),Q=h(D,L.children||[]),Q.return=V,V=Q;break t}else{s(V,D);break}else n(V,D);D=D.sibling}Q=Gh(L,V.mode,Q),Q.return=V,V=Q}return g(V);case A:return L=Pr(L),te(V,D,L,Q)}if(_e(L))return lt(V,D,L,Q);if(U(L)){if(dt=U(L),typeof dt!="function")throw Error(a(150));return L=dt.call(L),yt(V,D,L,Q)}if(typeof L.then=="function")return te(V,D,Vu(L),Q);if(L.$$typeof===_t)return te(V,D,Du(V,L),Q);Uu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(V,D.sibling),Q=h(D,L),Q.return=V,V=Q):(s(V,D),Q=Hh(L,V.mode,Q),Q.return=V,V=Q),g(V)):s(V,D)}return function(V,D,L,Q){try{qo=0;var dt=te(V,D,L,Q);return ba=null,dt}catch(ut){if(ut===Aa||ut===xu)throw ut;var Bt=wn(29,ut,null,V.mode);return Bt.lanes=Q,Bt.return=V,Bt}finally{}}}var jr=qg(!0),Hg=qg(!1),xs=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Rg(e,null,s),n}return wu(e,o,n,s),Ru(e)}function Go(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,yo(e,s)}}function rf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function Fo(){if(af){var e=Sa;if(e!==null)throw e}}function Qo(e,n,s,o){af=!1;var h=e.updateQueue;xs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=P:T.next=P,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,F=P=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(xt&j)===j:(o&j)===j){j!==0&&j===Ta&&(af=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,yt=T;j=n;var te=s;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){Y=lt.call(te,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,j=typeof lt=="function"?lt.call(te,Y,j):lt,j==null)break t;Y=b({},Y,j);break t;case 2:xs=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(P=F=q,R=Y):F=F.next=q,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),zs|=g,e.lanes=g,e.memoizedState=Y}}function Gg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Fg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Gg(s[e],n)}var wa=O(null),ku=O(0);function Qg(e,n){e=ss,it(ku,e),it(wa,n),ss=e|n.baseLanes}function of(){it(ku,ss),it(wa,wa.current)}function lf(){ss=ku.current,K(wa),K(ku)}var Rn=O(null),Fn=null;function Us(e){var n=e.alternate;it(Se,Se.current&1),it(Rn,e),Fn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Fn=e)}function uf(e){it(Se,Se.current),it(Rn,e),Fn===null&&(Fn=e)}function Kg(e){e.tag===22?(it(Se,Se.current),it(Rn,e),Fn===null&&(Fn=e)):ks()}function ks(){it(Se,Se.current),it(Rn,Rn.current)}function Cn(e){K(Rn),Fn===e&&(Fn=null),K(Se)}var Se=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,Ct=null,Jt=null,De=null,Pu=!1,Ra=!1,Br=!1,zu=0,Ko=0,Ca=null,s1=0;function pe(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!bn(e[s],n[s]))return!1;return!0}function hf(e,n,s,o,h,f){return $i=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Dp:Rf,Br=!1,f=s(o,h),Br=!1,Ra&&(f=Xg(n,s,o,h)),Yg(e),f}function Yg(e){G.H=$o;var n=Jt!==null&&Jt.next!==null;if($i=0,De=Jt=Ct=null,Pu=!1,Ko=0,Ca=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&Nu(e)&&(Oe=!0))}function Xg(e,n,s,o){Ct=e;var h=0;do{if(Ra&&(Ca=null),Ko=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,De=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Op,f=n(s,o)}while(Ra);return f}function r1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Yo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function ff(){var e=zu!==0;return zu=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}$i=0,De=Jt=Ct=null,Ra=!1,Ko=zu=0,Ca=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ct.memoizedState=De=e:De=De.next=e,De}function Ae(){if(Jt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=De===null?Ct.memoizedState:De.next;if(n!==null)De=n,Jt=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},De===null?Ct.memoizedState=De=e:De=De.next=e}return De}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var n=Ko;return Ko+=1,Ca===null&&(Ca=[]),e=zg(Ca,e,n),n=Ct,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Dp:Rf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===_t)return Ke(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ju(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Zi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=Ae();return pf(n,Jt,e)}function pf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,R=null,P=n,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(xt&Y)===Y:($i&Y)===Y){var j=P.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ta&&(F=!0);else if(($i&j)===j){P=P.next,j===Ta&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=Y,g=f):R=R.next=Y,Ct.lanes|=j,zs|=j;Y=P.action,Br&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else j={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=j,g=f):R=R.next=j,Ct.lanes|=Y,zs|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=T,!bn(f,e.memoizedState)&&(Oe=!0,F&&(s=Sa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function yf(e){var n=Ae(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);bn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function $g(e,n,s){var o=Ct,h=Ae(),f=Pt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!bn((Jt||h).memoizedState,s);if(g&&(h.memoizedState=s,Oe=!0),h=h.queue,Ef(Wg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},Jg.bind(null,o,h,s,n),null),ie===null)throw Error(a(349));f||($i&127)!==0||Zg(o,n,s)}return s}function Zg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=ju(),Ct.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Jg(e,n,s,o){n.value=s,n.getSnapshot=o,tp(n)&&ep(e)}function Wg(e,n,s){return s(function(){tp(n)&&ep(e)})}function tp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!bn(e,s)}catch{return!0}}function ep(e){var n=xr(e,2);n!==null&&vn(n,e,2)}function _f(e){var n=hn();if(typeof e=="function"){var s=e;if(e=s(),Br){Un(!0);try{s()}finally{Un(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},n}function np(e,n,s,o){return e.baseState=s,pf(e,Jt,typeof o=="function"?o:Zi)}function a1(e,n,s,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ip(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ip(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=s(h,o),R=G.S;R!==null&&R(g,T),sp(e,n,T)}catch(P){vf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),sp(e,n,f)}catch(P){vf(e,n,P)}}function sp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){rp(e,n,o)},function(o){return vf(e,n,o)}):rp(e,n,s)}function rp(e,n,s){n.status="fulfilled",n.value=s,ap(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ip(e,s)))}function vf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ap(n),n=n.next;while(n!==o)}e.action=null}function ap(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function op(e,n){return n}function lp(e,n){if(Pt){var s=ie.formState;if(s!==null){t:{var o=Ct;if(Pt){if(ae){e:{for(var h=ae,f=Gn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Qn(h.nextSibling),o=h.data==="F!";break t}}Ds(o)}o=!1}o&&(n=s[0])}}return s=hn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:n},s.queue=o,s=Cp.bind(null,Ct,o),o.dispatch=s,o=_f(!1),f=wf.bind(null,Ct,!1,o.queue),o=hn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=a1.bind(null,Ct,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function up(e){var n=Ae();return cp(n,Jt,e)}function cp(e,n,s){if(n=pf(e,n,op)[0],e=qu(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(g){throw g===Aa?xu:g}else o=n;n=Ae();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,Ia(9,{destroy:void 0},o1.bind(null,h,s),null)),[o,f,e]}function o1(e,n){e.action=n}function hp(e){var n=Ae(),s=Jt;if(s!==null)return cp(n,s,e);Ae(),n=n.memoizedState,s=Ae();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ia(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=ju(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function fp(){return Ae().memoizedState}function Hu(e,n,s,o){var h=hn();Ct.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,n,s,o){var h=Ae();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&cf(o,Jt.memoizedState.deps)?h.memoizedState=Ia(n,f,s,o):(Ct.flags|=e,h.memoizedState=Ia(1|n,f,s,o))}function dp(e,n){Hu(8390656,8,e,n)}function Ef(e,n){Gu(2048,8,e,n)}function l1(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=ju(),Ct.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function mp(e){var n=Ae().memoizedState;return l1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gp(e,n){return Gu(4,2,e,n)}function pp(e,n){return Gu(4,4,e,n)}function yp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function _p(e,n,s){s=s!=null?s.concat([e]):null,Gu(4,4,yp.bind(null,n,e),s)}function Tf(){}function vp(e,n){var s=Ae();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&cf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Ep(e,n){var s=Ae();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&cf(n,o[1]))return o[0];if(o=e(),Br){Un(!0);try{e()}finally{Un(!1)}}return s.memoizedState=[o,n],o}function Sf(e,n,s){return s===void 0||($i&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ty(),Ct.lanes|=e,zs|=e,s)}function Tp(e,n,s,o){return bn(s,n)?s:wa.current!==null?(e=Sf(e,s,o),bn(e,n)||(Oe=!0),e):($i&42)===0||($i&1073741824)!==0&&(xt&261930)===0?(Oe=!0,e.memoizedState=s):(e=Ty(),Ct.lanes|=e,zs|=e,n)}function Sp(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,wf(e,!1,n,s);try{var R=h(),P=G.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=i1(R,o);Xo(e,n,F,Dn(e))}else Xo(e,n,o,Dn(e))}catch(Y){Xo(e,n,{then:function(){},status:"rejected",reason:Y},Dn())}finally{nt.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function u1(){}function Af(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ap(e).queue;Sp(e,h,n,ft,s===null?u1:function(){return bp(e),s(o)})}function Ap(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bp(e){var n=Ap(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},Dn())}function bf(){return Ke(fl)}function wp(){return Ae().memoizedState}function Rp(){return Ae().memoizedState}function c1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Dn();e=Ms(s);var o=Vs(n,e,s);o!==null&&(vn(o,n,s),Go(o,n,s)),n={cache:Jh()},e.payload=n;return}n=n.return}}function h1(e,n,s){var o=Dn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Ip(n,s):(s=Bh(e,n,s,o),s!==null&&(vn(s,e,o),Np(s,n,o)))}function Cp(e,n,s){var o=Dn();Xo(e,n,s,o)}function Xo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Ip(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,bn(T,g))return wu(e,n,h,0),ie===null&&bu(),!1}catch{}finally{}if(s=Bh(e,n,h,o),s!==null)return vn(s,e,o),Np(s,n,o),!0}return!1}function wf(e,n,s,o){if(o={lane:2,revertLane:id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=Bh(e,s,o,2),n!==null&&vn(n,e,2)}function Fu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Ip(e,n){Ra=Pu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Np(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,yo(e,s)}}var $o={readContext:Ke,use:Bu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};$o.useEffectEvent=pe;var Dp={readContext:Ke,use:Bu,useCallback:function(e,n){return hn().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:dp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,yp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=hn();n=n===void 0?null:n;var o=e();if(Br){Un(!0);try{e()}finally{Un(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=hn();if(s!==void 0){var h=s(n);if(Br){Un(!0);try{s(n)}finally{Un(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=h1.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=hn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=Cp.bind(null,Ct,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=hn();return Sf(s,e,n)},useTransition:function(){var e=_f(!1);return e=Sp.bind(null,Ct,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Ct,h=hn();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ie===null)throw Error(a(349));(xt&127)!==0||Zg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,dp(Wg.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},Jg.bind(null,o,f,s,n),null),s},useId:function(){var e=hn(),n=ie.identifierPrefix;if(Pt){var s=Ii,o=Ci;s=(o&~(1<<32-Ee(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=s1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:bf,useFormState:lp,useActionState:lp,useOptimistic:function(e){var n=hn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,Ct,!0,s),s.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return hn().memoizedState=c1.bind(null,Ct)},useEffectEvent:function(e){var n=hn(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:Ke,use:Bu,useCallback:vp,useContext:Ke,useEffect:Ef,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:qu,useRef:fp,useState:function(){return qu(Zi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=Ae();return Tp(s,Jt.memoizedState,e,n)},useTransition:function(){var e=qu(Zi)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:$g,useId:wp,useHostTransitionStatus:bf,useFormState:up,useActionState:up,useOptimistic:function(e,n){var s=Ae();return np(s,Jt,e,n)},useMemoCache:gf,useCacheRefresh:Rp};Rf.useEffectEvent=mp;var Op={readContext:Ke,use:Bu,useCallback:vp,useContext:Ke,useEffect:Ef,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:yf,useRef:fp,useState:function(){return yf(Zi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=Ae();return Jt===null?Sf(s,e,n):Tp(s,Jt.memoizedState,e,n)},useTransition:function(){var e=yf(Zi)[0],n=Ae().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:$g,useId:wp,useHostTransitionStatus:bf,useFormState:hp,useActionState:hp,useOptimistic:function(e,n){var s=Ae();return Jt!==null?np(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Rp};Op.useEffectEvent=mp;function Cf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var If={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Dn(),h=Ms(o);h.payload=n,s!=null&&(h.callback=s),n=Vs(e,h,o),n!==null&&(vn(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Dn(),h=Ms(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Vs(e,h,o),n!==null&&(vn(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Dn(),o=Ms(s);o.tag=2,n!=null&&(o.callback=n),n=Vs(e,o,s),n!==null&&(vn(n,e,s),Go(n,e,s))}};function xp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ko(s,o)||!ko(h,f):!0}function Mp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function qr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Vp(e){Au(e)}function Up(e){console.error(e)}function kp(e){Au(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Lp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function Pp(e){return e=Ms(e),e.tag=3,e}function zp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Lp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Lp(n,s,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function f1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ea(n,s,h,!0),s=Rn.current,s!==null){switch(s.tag){case 31:case 13:return Fn===null?sc():s.alternate===null&&ye===0&&(ye=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),td(e,o,h)),!1;case 22:return s.flags|=65536,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),td(e,o,h)),!1}throw Error(a(435,s.tag))}return td(e,o,h),sc(),!1}if(Pt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(e=Error(a(422),{cause:o}),zo(Bn(e,s)))):(o!==Kh&&(n=Error(a(423),{cause:o}),zo(Bn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Bn(o,s),h=Nf(e.stateNode,o,h),rf(e,h),ye!==4&&(ye=2)),!1;var f=Error(a(520),{cause:o});if(f=Bn(f,s),sl===null?sl=[f]:sl.push(f),ye!==4&&(ye=2),n===null)return!0;o=Bn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,o,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Pp(h),zp(h,e,s,o),rf(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),Oe=!1;function Ye(e,n,s,o){n.child=e===null?Hg(n,null,s,o):jr(n,e.child,s,o)}function jp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return kr(n),o=hf(e,n,s,g,f,h),T=ff(),e!==null&&!Oe?(df(e,n,h),Ji(e,n,h)):(Pt&&T&&Fh(n),n.flags|=1,Ye(e,n,o,h),n.child)}function Bp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,qp(e,n,f,o,h)):(e=Cu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:ko,s(g,o)&&e.ref===n.ref)return Ji(e,n,h)}return n.flags|=1,e=Qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function qp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,Pf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Ji(e,n,h)}return Of(e,n,s,o,h)}function Hp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Gp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Qg(n,f):of(),Kg(n);else return o=n.lanes=536870912,Gp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),Qg(n,f),ks(),n.memoizedState=null):(e!==null&&Ou(n,null),of(),ks());return Ye(e,n,h,s),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gp(e,n,s,o,h){var f=tf();return f=f===null?null:{parent:Ne._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),of(),Kg(n),e!==null&&Ea(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Fp(e,n,s){return jr(n,e.child,null,s),e=Ku(n,n.pendingProps),e.flags|=2,Cn(n),n.memoizedState=null,e}function d1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Zo(null,e);if(uf(n),(e=ae)?(e=i_(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Ig(e),s.return=n,n.child=s,Qe=n,ae=null)):e=null,e===null)throw Ds(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Fp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Oe||Ea(e,n,s,!1),h=(s&e.childLanes)!==0,Oe||h){if(o=ie,o!==null&&(g=_o(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,xr(e,g),vn(o,e,g),Df;sc(),n=Fp(e,n,s)}else e=f.treeContext,ae=Qn(g.nextSibling),Qe=n,Pt=!0,Ns=null,Gn=!1,e!==null&&Og(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Of(e,n,s,o,h){return kr(n),s=hf(e,n,s,o,void 0,h),o=ff(),e!==null&&!Oe?(df(e,n,h),Ji(e,n,h)):(Pt&&o&&Fh(n),n.flags|=1,Ye(e,n,s,h),n.child)}function Qp(e,n,s,o,h,f){return kr(n),n.updateQueue=null,s=Xg(n,o,s,h),Yg(e),o=ff(),e!==null&&!Oe?(df(e,n,f),Ji(e,n,f)):(Pt&&o&&Fh(n),n.flags|=1,Ye(e,n,s,f),n.child)}function Kp(e,n,s,o,h){if(kr(n),n.stateNode===null){var f=pa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ke(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ke(g):pa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Cf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&If.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=qr(s,T);f.props=R;var P=f.context,F=s.contextType;g=pa,typeof F=="object"&&F!==null&&(g=Ke(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Mp(n,f,o,g),xs=!1;var j=n.memoizedState;f.state=j,Qo(n,o,f,h),Fo(),P=n.memoizedState,T||j!==P||xs?(typeof Y=="function"&&(Cf(n,s,Y,o),P=n.memoizedState),(R=xs||xp(n,s,R,o,j,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(e,n),g=n.memoizedProps,F=qr(s,g),f.props=F,Y=n.pendingProps,j=f.context,P=s.contextType,R=pa,typeof P=="object"&&P!==null&&(R=Ke(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&Mp(n,f,o,R),xs=!1,j=n.memoizedState,f.state=j,Qo(n,o,f,h),Fo();var q=n.memoizedState;g!==Y||j!==q||xs||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof T=="function"&&(Cf(n,s,T,o),q=n.memoizedState),(F=xs||xp(n,s,F,o,j,q,R)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=jr(n,e.child,null,h),n.child=jr(n,null,s,h)):Ye(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Ji(e,n,h),e}function Yp(e,n,s,o){return Vr(),n.flags|=256,Ye(e,n,s,o),n.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Lg()}}function Vf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Nn),e}function Xp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Us(n):ks(),(e=ae)?(e=i_(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Ig(e),s.return=n,n.child=s,Qe=n,ae=null)):e=null,e===null)throw Ds(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(ks(),h=n.mode,T=Xu({mode:"hidden",children:T},h),o=Mr(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Mf(s),o.childLanes=Vf(e,g,s),n.memoizedState=xf,Zo(null,o)):(Us(n),Uf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=kf(e,n,s)):n.memoizedState!==null?(ks(),n.child=e.child,n.flags|=128,n=null):(ks(),T=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),T=Mr(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,jr(n,e.child,null,s),o=n.child,o.memoizedState=Mf(s),o.childLanes=Vf(e,g,s),n.memoizedState=xf,n=Zo(null,o));else if(Us(n),pd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,zo({value:o,source:null,stack:null}),n=kf(e,n,s)}else if(Oe||Ea(e,n,s,!1),g=(s&e.childLanes)!==0,Oe||g){if(g=ie,g!==null&&(o=_o(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,xr(e,o),vn(g,e,o),Df;gd(T)||sc(),n=kf(e,n,s)}else gd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ae=Qn(T.nextSibling),Qe=n,Pt=!0,Ns=null,Gn=!1,e!==null&&Og(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(ks(),T=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=Qi(P,T):(T=Mr(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Zo(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Mf(s):(h=T.cachePool,h!==null?(R=Ne._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Lg(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=Vf(e,g,s),n.memoizedState=xf,Zo(e.child,o)):(Us(n),s=e.child,e=s.sibling,s=Qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function kf(e,n,s){return jr(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $p(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),$h(e.return,n,s)}function Lf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Zp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Se.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,it(Se,g),Ye(e,n,o,s),o=Pt?Po:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$p(e,s,n);else if(e.tag===19)$p(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Lf(n,!0,s,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),zs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ea(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function m1(e,n,s){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),Os(n,Ne,e.memoizedState.cache),Vr();break;case 27:case 5:ve(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Xp(e,n,s):(Us(n),e=Ji(e,n,s),e!==null?e.sibling:null);Us(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ea(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Zp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Se,Se.current),o)break;return null;case 22:return n.lanes=0,Hp(e,n,s,n.pendingProps);case 24:Os(n,Ne,e.memoizedState.cache)}return Ji(e,n,s)}function Jp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Pf(e,s)&&(n.flags&128)===0)return Oe=!1,m1(e,n,s);Oe=(e.flags&131072)!==0}else Oe=!1,Pt&&(n.flags&1048576)!==0&&Dg(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Pr(n.elementType),n.type=e,typeof e=="function")qh(e)?(o=qr(e,o),n.tag=1,n=Kp(null,n,e,o,s)):(n.tag=0,n=Of(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===jt){n.tag=11,n=jp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Bp(null,n,e,o,s);break t}}throw n=re(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=qr(o,n.pendingProps),Kp(e,n,o,h,s);case 3:t:{if(ht(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Qo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Os(n,Ne,o),o!==f.cache&&Zh(n,[Ne],s,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yp(e,n,o,s);break t}else if(o!==h){h=Bn(Error(a(424)),n),zo(h),n=Yp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Qn(e.firstChild),Qe=n,Pt=!0,Ns=null,Gn=!0,s=Hg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Vr(),o===h){n=Ji(e,n,s);break t}Ye(e,n,o,s)}n=n.child}return n;case 26:return Yu(e,n),e===null?(s=u_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,e=n.pendingProps,o=hc(et.current).createElement(s),o[Re]=n,o[je]=e,Xe(o,s,e),Ce(o),n.stateNode=o):n.memoizedState=u_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ve(n),e===null&&Pt&&(o=n.stateNode=a_(n.type,n.pendingProps,et.current),Qe=n,Gn=!0,h=ae,Gs(n.type)?(yd=h,ae=Qn(o.firstChild)):ae=h),Ye(e,n,n.pendingProps.children,s),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=ae)&&(o=G1(o,n.type,n.pendingProps,Gn),o!==null?(n.stateNode=o,Qe=n,ae=Qn(o.firstChild),Gn=!1,h=!0):h=!1),h||Ds(n)),ve(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,fd(h,f)?o=null:g!==null&&fd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,r1,null,null,s),fl._currentValue=h),Yu(e,n),Ye(e,n,o,s),n.child;case 6:return e===null&&Pt&&((e=s=ae)&&(s=F1(s,n.pendingProps,Gn),s!==null?(n.stateNode=s,Qe=n,ae=null,e=!0):e=!1),e||Ds(n)),null;case 13:return Xp(e,n,s);case 4:return ht(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=jr(n,null,o,s):Ye(e,n,o,s),n.child;case 11:return jp(e,n,n.type,n.pendingProps,s);case 7:return Ye(e,n,n.pendingProps,s),n.child;case 8:return Ye(e,n,n.pendingProps.children,s),n.child;case 12:return Ye(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Os(n,n.type,o.value),Ye(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,kr(n),h=Ke(h),o=o(h),n.flags|=1,Ye(e,n,o,s),n.child;case 14:return Bp(e,n,n.type,n.pendingProps,s);case 15:return qp(e,n,n.type,n.pendingProps,s);case 19:return Zp(e,n,s);case 31:return d1(e,n,s);case 22:return Hp(e,n,s,n.pendingProps);case 24:return kr(n),o=Ke(Ne),e===null?(h=tf(),h===null&&(h=ie,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},nf(n),Os(n,Ne,h)):((e.lanes&s)!==0&&(sf(e,n),Qo(n,null,null,s),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,Ne,o)):(o=f.cache,Os(n,Ne,o),o!==h.cache&&Zh(n,[Ne],s,!0))),Ye(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Wi(e){e.flags|=4}function zf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(wy())e.flags|=8192;else throw zr=Mu,ef}else e.flags&=-16777217}function Wp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!m_(n))if(wy())e.flags|=8192;else throw zr=Mu,ef}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,xa|=n)}function Jo(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function g1(e,n,s){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(Ne),pt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(va(n)?Wi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),oe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Wi(n),f!==null?(oe(n),Wp(n,f)):(oe(n),zf(n,h,null,o,s))):f?f!==e.memoizedState?(Wi(n),oe(n),Wp(n,f)):(oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Wi(n),oe(n),zf(n,h,e,o,s)),null;case 27:if(an(n),s=et.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}e=rt.current,va(n)?xg(n):(e=a_(h,o,s),n.stateNode=e,Wi(n))}return oe(n),null;case 5:if(an(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}if(f=rt.current,va(n))xg(n);else{var g=hc(et.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Re]=n,f[je]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Xe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Wi(n)}}return oe(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=et.current,va(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Xy(e.nodeValue,s)),e||Ds(n,!0)}else e=hc(e).createTextNode(o),e[Re]=n,n.stateNode=e}return oe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=va(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),e=!1}else s=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return oe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),oe(n),null);case 4:return pt(),e===null&&od(n.stateNode.containerInfo),oe(n),null;case 10:return Xi(n.type),oe(n),null;case 19:if(K(Se),o=n.memoizedState,o===null)return oe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Cg(s,e),s=s.sibling;return it(Se,Se.current&1|2),Pt&&Ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&un()>ec&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return oe(n),null}else 2*un()-o.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=un(),e.sibling=null,s=Se.current,it(Se,h?s&1|2:s&1),Pt&&Ki(n,o.treeForkCount),e):(oe(n),null);case 22:case 23:return Cn(n),lf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Lr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Xi(Ne),oe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function p1(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Ne),pt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return an(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Cn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Se),null;case 4:return pt(),null;case 10:return Xi(n.type),null;case 22:case 23:return Cn(n),lf(),e!==null&&K(Lr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Ne),null;case 25:return null;default:return null}}function ty(e,n){switch(Qh(n),n.tag){case 3:Xi(Ne),pt();break;case 26:case 27:case 5:an(n);break;case 4:pt();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:K(Se);break;case 10:Xi(n.type);break;case 22:case 23:Cn(n),lf(),e!==null&&K(Lr);break;case 24:Xi(Ne)}}function Wo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){Xt(n,n.return,T)}}function Ls(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=s,P=T;try{P()}catch(F){Xt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Xt(n,n.return,F)}}function ey(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Fg(n,s)}catch(o){Xt(e,e.return,o)}}}function ny(e,n,s){s.props=qr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function tl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Xt(e,n,h)}}function Ni(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function iy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function jf(e,n,s){try{var o=e.stateNode;P1(o,e.type,s,n),o[je]=n}catch(h){Xt(e,e.return,h)}}function sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ti));else if(o!==4&&(o===27&&Gs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Gs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function ry(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,o,s),n[Re]=e,n[je]=s}catch(f){Xt(e,e.return,f)}}var ts=!1,xe=!1,Hf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,qe=null;function y1(e,n){if(e=e.containerInfo,cd=_c,e=_g(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,R=-1,P=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(T=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===s&&++P===h&&(T=g),j===f&&++F===o&&(R=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},_c=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=qr(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Xt(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function oy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ns(e,s),o&4&&Wo(5,s);break;case 1:if(ns(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var h=qr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}o&64&&ey(s),o&512&&tl(s,s.return);break;case 3:if(ns(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Fg(e,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&o&4&&ry(s);case 26:case 5:ns(e,s),n===null&&o&4&&iy(s),o&512&&tl(s,s.return);break;case 12:ns(e,s);break;case 31:ns(e,s),o&4&&cy(e,s);break;case 13:ns(e,s),o&4&&hy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=R1.bind(null,s),Q1(e,s))));break;case 22:if(o=s.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||xe,h=ts;var f=xe;ts=o,(xe=n)&&!f?is(e,s,(s.subtreeFlags&8772)!==0):ns(e,s),ts=h,xe=f}break;case 30:break;default:ns(e,s)}}function ly(e){var n=e.alternate;n!==null&&(e.alternate=null,ly(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,gn=!1;function es(e,n,s){for(s=s.child;s!==null;)uy(e,n,s),s=s.sibling}function uy(e,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:xe||Ni(s,n),es(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||Ni(s,n);var o=ce,h=gn;Gs(s.type)&&(ce=s.stateNode,gn=!1),es(e,n,s),ul(s.stateNode),ce=o,gn=h;break;case 5:xe||Ni(s,n);case 6:if(o=ce,h=gn,ce=null,es(e,n,s),ce=o,gn=h,ce!==null)if(gn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{ce.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:ce!==null&&(gn?(e=ce,e_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ja(e)):e_(ce,s.stateNode));break;case 4:o=ce,h=gn,ce=s.stateNode.containerInfo,gn=!0,es(e,n,s),ce=o,gn=h;break;case 0:case 11:case 14:case 15:Ls(2,s,n),xe||Ls(4,s,n),es(e,n,s);break;case 1:xe||(Ni(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ny(s,n,o)),es(e,n,s);break;case 21:es(e,n,s);break;case 22:xe=(o=xe)||s.memoizedState!==null,es(e,n,s),xe=o;break;default:es(e,n,s)}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(s){Xt(n,n.return,s)}}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(s){Xt(n,n.return,s)}}function _1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ay),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=_1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=C1.bind(null,e,o);o.then(h,h)}})}function pn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Gs(T.type)){ce=T.stateNode,gn=!1;break t}break;case 5:ce=T.stateNode,gn=!1;break t;case 3:case 4:ce=T.stateNode.containerInfo,gn=!0;break t}T=T.return}if(ce===null)throw Error(a(160));uy(f,g,h),ce=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,e),n=n.sibling}var ai=null;function fy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(n,e),yn(e),o&4&&(Ls(3,e,e.return),Wo(3,e),Ls(5,e,e.return));break;case 1:pn(n,e),yn(e),o&512&&(xe||s===null||Ni(s,s.return)),o&64&&ts&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ai;if(pn(n,e),yn(e),o&512&&(xe||s===null||Ni(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[gi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,s),f[Re]=e,Ce(f),o=f;break t;case"link":var g=f_("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=f_("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Xe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Re]=e,Ce(f),o=f}e.stateNode=o}else d_(h,e.type,e.stateNode);else e.stateNode=h_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?d_(h,e.type,e.stateNode):h_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&jf(e,e.memoizedProps,s.memoizedProps)}break;case 27:pn(n,e),yn(e),o&512&&(xe||s===null||Ni(s,s.return)),s!==null&&o&4&&jf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(pn(n,e),yn(e),o&512&&(xe||s===null||Ni(s,s.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(lt){Xt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(pn(n,e),yn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){Xt(e,e.return,lt)}}break;case 3:if(mc=null,h=ai,ai=fc(n.containerInfo),pn(n,e),ai=h,yn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(lt){Xt(e,e.return,lt)}Hf&&(Hf=!1,dy(e));break;case 4:o=ai,ai=fc(e.stateNode.containerInfo),pn(n,e),yn(e),ai=o;break;case 12:pn(n,e),yn(e);break;case 31:pn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:pn(n,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=un()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=ts,F=xe;if(ts=P||h,xe=F||R,pn(n,e),xe=F,ts=P,yn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||ts||xe||Hr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Xt(R,R.return,lt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Xt(R,R.return,lt)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?n_(q,!0):n_(R.stateNode,!1)}catch(lt){Xt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(e,s))));break;case 19:pn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:pn(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(sy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(mn(g,""),s.flags&=-33);var T=Bf(e);Zu(e,T,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=Bf(e);qf(e,P,R);break;default:throw Error(a(161))}}catch(F){Xt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function Hr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Hr(n);break;case 1:Ni(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ny(n,n.return,s),Hr(n);break;case 27:ul(n.stateNode);case 26:case 5:Ni(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}e=e.sibling}}function is(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:is(h,f,s),Wo(4,f);break;case 1:if(is(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Gg(R[h],T)}catch(P){Xt(o,o.return,P)}}s&&g&64&&ey(f),tl(f,f.return);break;case 27:ry(f);case 26:case 5:is(h,f,s),s&&o===null&&g&4&&iy(f),tl(f,f.return);break;case 12:is(h,f,s);break;case 31:is(h,f,s),s&&g&4&&cy(h,f);break;case 13:is(h,f,s),s&&g&4&&hy(h,f);break;case 22:f.memoizedState===null&&is(h,f,s),tl(f,f.return);break;case 30:break;default:is(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&jo(s))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e))}function oi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(e,n,s,o),n=n.sibling}function my(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n,s,o),h&2048&&Wo(9,n);break;case 1:oi(e,n,s,o);break;case 3:oi(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){oi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else oi(e,n,s,o);break;case 31:oi(e,n,s,o);break;case 13:oi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?oi(e,n,s,o):el(e,n):f._visibility&2?oi(e,n,s,o):(f._visibility|=2,Na(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:oi(e,n,s,o),h&2048&&Ff(n.alternate,n);break;default:oi(e,n,s,o)}}function Na(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Na(f,g,T,R,h),Wo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Na(f,g,T,R,h):el(f,g):(F._visibility|=2,Na(f,g,T,R,h)),h&&P&2048&&Gf(g.alternate,g);break;case 24:Na(f,g,T,R,h),h&&P&2048&&Ff(g.alternate,g);break;default:Na(f,g,T,R,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:el(s,o),h&2048&&Gf(o.alternate,o);break;case 24:el(s,o),h&2048&&Ff(o.alternate,o);break;default:el(s,o)}n=n.sibling}}var nl=8192;function Da(e,n,s){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)gy(e,n,s),e=e.sibling}function gy(e,n,s){switch(e.tag){case 26:Da(e,n,s),e.flags&nl&&e.memoizedState!==null&&sS(s,ai,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,s);break;case 3:case 4:var o=ai;ai=fc(e.stateNode.containerInfo),Da(e,n,s),ai=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,Da(e,n,s),nl=o):Da(e,n,s));break;default:Da(e,n,s)}}function py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,_y(o,e)}py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):il(e);break;default:il(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,_y(o,e)}py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function _y(e,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Ls(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(ly(o),o===s){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var v1={getCacheForType:function(e){var n=Ke(Ne),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ke(Ne).controller.signal}},E1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ie=null,Nt=null,xt=0,Yt=0,In=null,Ps=!1,Oa=!1,Qf=!1,ss=0,ye=0,zs=0,Gr=0,Kf=0,Nn=0,xa=0,sl=null,_n=null,Yf=!1,tc=0,vy=0,ec=1/0,nc=null,js=null,Le=0,Bs=null,Ma=null,rs=0,Xf=0,$f=null,Ey=null,rl=0,Zf=null;function Dn(){return(Ft&2)!==0&&xt!==0?xt&-xt:G.T!==null?id():iu()}function Ty(){if(Nn===0)if((xt&536870912)===0||Pt){var e=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),Nn=e}else Nn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),Nn}function vn(e,n,s){(e===ie&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),qs(e,xt,Nn,!1)),_r(e,s),((Ft&2)===0||e!==ie)&&(e===ie&&((Ft&2)===0&&(Gr|=s),ye===4&&qs(e,xt,Nn,!1)),Di(e))}function Sy(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Zn(e,n),h=o?A1(e,n):Wf(e,n,!0),f=o;do{if(h===0){Oa&&!o&&qs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!T1(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=sl;var R=T.current.memoizedState.isDehydrated;if(R&&(Va(T,g).flags|=256),g=Wf(T,g,!1),g!==2){if(Qf&&!R){T.errorRecoveryDisabledLanes|=f,Gr|=f,h=4;break t}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,Nn,!Ps);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-un(),10<h)){if(qs(o,n,Nn,!Ps),fi(o,0,!0)!==0)break t;rs=n,o.timeoutHandle=Wy(Ay.bind(null,o,s,_n,nc,Yf,n,Nn,Gr,xa,Ps,f,"Throttled",-0,0),h);break t}Ay(o,s,_n,nc,Yf,n,Nn,Gr,xa,Ps,f,null,-0,0)}}break}while(!0);Di(e)}function Ay(e,n,s,o,h,f,g,T,R,P,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},gy(n,f,Y);var lt=(f&62914560)===f?tc-un():(f&4194048)===f?vy-un():0;if(lt=rS(Y,lt),lt!==null){rs=f,e.cancelPendingCommit=lt(Oy.bind(null,e,n,f,s,o,h,g,T,R,F,Y,null,j,q)),qs(e,f,g,!P);return}}Oy(e,n,f,s,o,h,g,T,R)}function T1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,s,o){n&=~Kf,n&=~Gr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ee(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&vr(e,s,n)}function ic(){return(Ft&6)===0?(al(0),!1):!0}function Jf(){if(Nt!==null){if(Yt===0)var e=Nt.return;else e=Nt,Yi=Ur=null,mf(e),ba=null,qo=0,e=Nt;for(;e!==null;)ty(e.alternate,e),e=e.return;Nt=null}}function Va(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,B1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),rs=0,Jf(),ie=e,Nt=s=Qi(e.current,null),xt=n,Yt=0,In=null,Ps=!1,Oa=Zn(e,n),Qf=!1,xa=Nn=Kf=Gr=zs=ye=0,_n=sl=null,Yf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ee(o),f=1<<h;n|=e[h],o&=~f}return ss=n,bu(),s}function by(e,n){Ct=null,G.H=$o,n===Aa||n===xu?(n=jg(),Yt=3):n===ef?(n=jg(),Yt=4):Yt=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,Nt===null&&(ye=1,Qu(e,Bn(n,e.current)))}function wy(){var e=Rn.current;return e===null?!0:(xt&4194048)===xt?Fn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Fn:!1}function Ry(){var e=G.H;return G.H=$o,e===null?$o:e}function Cy(){var e=G.A;return G.A=v1,e}function sc(){ye=4,Ps||(xt&4194048)!==xt&&Rn.current!==null||(Oa=!0),(zs&134217727)===0&&(Gr&134217727)===0||ie===null||qs(ie,xt,Nn,!1)}function Wf(e,n,s){var o=Ft;Ft|=2;var h=Ry(),f=Cy();(ie!==e||xt!==n)&&(nc=null,Va(e,n)),n=!1;var g=ye;t:do try{if(Yt!==0&&Nt!==null){var T=Nt,R=In;switch(Yt){case 8:Jf(),g=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=Yt;if(Yt=0,In=null,Ua(e,T,R,P),s&&Oa){g=0;break t}break;default:P=Yt,Yt=0,In=null,Ua(e,T,R,P)}}S1(),g=ye;break}catch(F){by(e,F)}while(!0);return n&&e.shellSuspendCounter++,Yi=Ur=null,Ft=o,G.H=h,G.A=f,Nt===null&&(ie=null,xt=0,bu()),g}function S1(){for(;Nt!==null;)Iy(Nt)}function A1(e,n){var s=Ft;Ft|=2;var o=Ry(),h=Cy();ie!==e||xt!==n?(nc=null,ec=un()+500,Va(e,n)):Oa=Zn(e,n);t:do try{if(Yt!==0&&Nt!==null){n=Nt;var f=In;e:switch(Yt){case 1:Yt=0,In=null,Ua(e,n,f,1);break;case 2:case 9:if(Pg(f)){Yt=0,In=null,Ny(n);break}n=function(){Yt!==2&&Yt!==9||ie!==e||(Yt=7),Di(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Pg(f)?(Yt=0,In=null,Ny(n)):(Yt=0,In=null,Ua(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var T=Nt;if(g?m_(g):T.stateNode.complete){Yt=0,In=null;var R=T.sibling;if(R!==null)Nt=R;else{var P=T.return;P!==null?(Nt=P,rc(P)):Nt=null}break e}}Yt=0,In=null,Ua(e,n,f,5);break;case 6:Yt=0,In=null,Ua(e,n,f,6);break;case 8:Jf(),ye=6;break t;default:throw Error(a(462))}}b1();break}catch(F){by(e,F)}while(!0);return Yi=Ur=null,G.H=o,G.A=h,Ft=s,Nt!==null?0:(ie=null,xt=0,bu(),ye)}function b1(){for(;Nt!==null&&!Ih();)Iy(Nt)}function Iy(e){var n=Jp(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?rc(e):Nt=n}function Ny(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Qp(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Qp(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:mf(n);default:ty(s,n),n=Nt=Cg(n,ss),n=Jp(s,n,ss)}e.memoizedProps=e.pendingProps,n===null?rc(e):Nt=n}function Ua(e,n,s,o){Yi=Ur=null,mf(n),ba=null,qo=0;var h=n.return;try{if(f1(e,h,n,s,xt)){ye=1,Qu(e,Bn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;ye=1,Qu(e,Bn(s,e.current)),Nt=null;return}n.flags&32768?(Pt||o===1?e=!0:Oa||(xt&536870912)!==0?e=!1:(Ps=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,Ps);return}e=n.return;var s=g1(n.alternate,n,ss);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);ye===0&&(ye=5)}function Dy(e,n){do{var s=p1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);ye=6,Nt=null}function Oy(e,n,s,o,h,f,g,T,R){e.cancelPendingCommit=null;do ac();while(Le!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,Oh(e,s,f,g,T,R),e===ie&&(Nt=ie=null,xt=0),Ma=n,Bs=e,rs=s,Xf=f,$f=h,Ey=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I1(_s,function(){return ky(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,g=Ft,Ft|=4;try{y1(e,n,s)}finally{Ft=g,nt.p=h,G.T=o}}Le=1,xy(),My(),Vy()}}function xy(){if(Le===1){Le=0;var e=Bs,n=Ma,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Ft;Ft|=4;try{fy(n,e);var f=hd,g=_g(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&yg(T.ownerDocument.documentElement,T)){if(R!==null&&Uh(T)){var P=R.start,F=R.end;if(F===void 0&&(F=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=T.textContent.length,yt=Math.min(R.start,lt),te=R.end===void 0?yt:Math.min(R.end,lt);!q.extend&&yt>te&&(g=te,te=yt,yt=g);var V=pg(T,yt),D=pg(T,te);if(V&&D&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(V.node,V.offset),q.removeAllRanges(),yt>te?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}_c=!!cd,hd=cd=null}finally{Ft=h,nt.p=o,G.T=s}}e.current=n,Le=2}}function My(){if(Le===2){Le=0;var e=Bs,n=Ma,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Ft;Ft|=4;try{oy(e,n.alternate,n)}finally{Ft=h,nt.p=o,G.T=s}}Le=3}}function Vy(){if(Le===4||Le===3){Le=0,$l();var e=Bs,n=Ma,s=rs,o=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Ma=Bs=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(js=null),qi(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,nt.p=h}}(rs&3)!==0&&ac(),Di(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Zf?rl++:(rl=0,Zf=e):rl=0,al(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,jo(n)))}function ac(){return xy(),My(),Vy(),ky()}function ky(){if(Le!==5)return!1;var e=Bs,n=Xf;Xf=0;var s=qi(rs),o=G.T,h=nt.p;try{nt.p=32>s?32:s,G.T=null,s=$f,$f=null;var f=Bs,g=rs;if(Le=0,Ma=Bs=null,rs=0,(Ft&6)!==0)throw Error(a(331));var T=Ft;if(Ft|=4,yy(f.current),my(f,f.current,g,s),Ft=T,al(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{nt.p=h,G.T=o,Uy(e,n)}}function Ly(e,n,s){n=Bn(s,n),n=Nf(e.stateNode,n,2),e=Vs(e,n,2),e!==null&&(_r(e,2),Di(e))}function Xt(e,n,s){if(e.tag===3)Ly(e,e,s);else for(;n!==null;){if(n.tag===3){Ly(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){e=Bn(s,e),s=Pp(2),o=Vs(n,s,2),o!==null&&(zp(s,o,n,e),_r(o,2),Di(o));break}}n=n.return}}function td(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new E1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=w1.bind(null,e,n,s),n.then(e,e))}function w1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ie===e&&(xt&s)===s&&(ye===4||ye===3&&(xt&62914560)===xt&&300>un()-tc?(Ft&2)===0&&Va(e,0):Kf|=s,xa===xt&&(xa=0)),Di(e)}function Py(e,n){n===0&&(n=nu()),e=xr(e,n),e!==null&&(_r(e,n),Di(e))}function R1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Py(e,s)}function C1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Py(e,s)}function I1(e,n){return ge(e,n)}var oc=null,ka=null,ed=!1,lc=!1,nd=!1,Hs=0;function Di(e){e!==ka&&e.next===null&&(ka===null?oc=ka=e:ka=ka.next=e),lc=!0,ed||(ed=!0,D1())}function al(e,n){if(!nd&&lc){nd=!0;do for(var s=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Ee(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,qy(o,f))}else f=xt,f=fi(o,o===ie?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zn(o,f)||(s=!0,qy(o,f));o=o.next}while(s);nd=!1}}function N1(){zy()}function zy(){lc=ed=!1;var e=0;Hs!==0&&j1()&&(e=Hs);for(var n=un(),s=null,o=oc;o!==null;){var h=o.next,f=jy(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(ka=s)):(s=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}Le!==0&&Le!==5||al(e),Hs!==0&&(Hs=0)}function jy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ee(f),T=1<<g,R=h[g];R===-1?((T&s)===0||(T&o)!==0)&&(h[g]=Dh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=ie,s=xt,s=fi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ys(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ys(o),qi(s)){case 2:case 8:s=po;break;case 32:s=_s;break;case 268435456:s=Zl;break;default:s=_s}return o=By.bind(null,e),s=ge(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ys(o),e.callbackPriority=2,e.callbackNode=null,2}function By(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var o=xt;return o=fi(e,e===ie?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Sy(e,o,n),jy(e,un()),e.callbackNode!=null&&e.callbackNode===s?By.bind(null,e):null)}function qy(e,n){if(ac())return null;Sy(e,n,!0)}function D1(){q1(function(){(Ft&6)!==0?ge(go,N1):zy()})}function id(){if(Hs===0){var e=Ta;e===0&&(e=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Hs=e}return Hs}function Hy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Gy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function O1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Hy((h[je]||null).action),g=o.submitter;g&&(n=(n=g[je]||null)?Hy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ai("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var R=g?Gy(h,g):new FormData(h);Af(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?Gy(h,g):new FormData(h),Af(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],x1=rd.toLowerCase(),M1=rd[0].toUpperCase()+rd.slice(1);ri(x1,"on"+M1)}ri(Tg,"onAnimationEnd"),ri(Sg,"onAnimationIteration"),ri(Ag,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(XT,"onTransitionRun"),ri($T,"onTransitionStart"),ri(ZT,"onTransitionCancel"),ri(bg,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Fy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(T=o[g],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=R}}}}function Dt(e,n){var s=n[ea];s===void 0&&(s=n[ea]=new Set);var o=e+"__bubble";s.has(o)||(Qy(n,e,2,!1),s.add(o))}function ad(e,n,s){var o=0;n&&(o|=4),Qy(s,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[uc]){e[uc]=!0,vo.forEach(function(s){s!=="selectionchange"&&(V1.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,ad("selectionchange",!1,n))}}function Qy(e,n,s,o){switch(T_(n)){case 2:var h=lS;break;case 8:h=uS;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ld(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=pi(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}T=T.parentNode}}o=o.return}bs(function(){var P=f,F=Ln(s),Y=[];t:{var j=wg.get(e);if(j!==void 0){var q=Ai,lt=e;switch(e){case"keypress":if(Rr(s)===0)break t;case"keydown":case"keyup":q=Eu;break;case"focusin":lt="focus",q=Ir;break;case"focusout":lt="blur",q=Ir;break;case"beforeblur":case"afterblur":q=Ir;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Tg:case Sg:case Ag:q=du;break;case bg:q=S;break;case"scroll":case"scrollend":q=Oo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Fi;break;case"toggle":case"beforetoggle":q=Rt}var yt=(n&4)!==0,te=!yt&&(e==="scroll"||e==="scrollend"),V=yt?j!==null?j+"Capture":null:j;yt=[];for(var D=P,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||V===null||(Q=ei(D,V),Q!=null&&yt.push(ll(D,Q,L))),te)break;D=D.return}0<yt.length&&(j=new q(j,lt,null,s,F),Y.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Io&&(lt=s.relatedTarget||s.fromElement)&&(pi(lt)||lt[mi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=s.relatedTarget||s.toElement,q=P,lt=lt?pi(lt):null,lt!==null&&(te=c(lt),yt=lt.tag,lt!==te||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(q=null,lt=P),q!==lt)){if(yt=xo,Q="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Fi,Q="onPointerLeave",V="onPointerEnter",D="pointer"),te=q==null?j:Sn(q),L=lt==null?j:Sn(lt),j=new yt(Q,D+"leave",q,s,F),j.target=te,j.relatedTarget=L,Q=null,pi(F)===P&&(yt=new yt(V,D+"enter",lt,s,F),yt.target=L,yt.relatedTarget=te,Q=yt),te=Q,q&&lt)e:{for(yt=U1,V=q,D=lt,L=0,Q=V;Q;Q=yt(Q))L++;Q=0;for(var dt=D;dt;dt=yt(dt))Q++;for(;0<L-Q;)V=yt(V),L--;for(;0<Q-L;)D=yt(D),Q--;for(;L--;){if(V===D||D!==null&&V===D.alternate){yt=V;break e}V=yt(V),D=yt(D)}yt=null}else yt=null;q!==null&&Ky(Y,j,q,yt,!1),lt!==null&&te!==null&&Ky(Y,te,lt,yt,!0)}}t:{if(j=P?Sn(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Bt=cg;else if(lg(j))if(hg)Bt=QT;else{Bt=GT;var ut=HT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&ra(P.elementType)&&(Bt=cg):Bt=FT;if(Bt&&(Bt=Bt(e,P))){ug(Y,Bt,s,F);break t}ut&&ut(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&wo(j,"number",j.value)}switch(ut=P?Sn(P):window,e){case"focusin":(lg(ut)||ut.contentEditable==="true")&&(da=ut,kh=P,Lo=null);break;case"focusout":Lo=kh=da=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,vg(Y,s,F);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":vg(Y,s,F)}var It;if(Gt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else fa?Nr(e,s)&&(Mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ri&&s.locale!=="ko"&&(fa||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&fa&&(It=Do()):(Si=F,No="value"in Si?Si.value:Si.textContent,fa=!0)),ut=cc(P,Mt),0<ut.length&&(Mt=new wi(Mt,e,null,s,F),Y.push({event:Mt,listeners:ut}),It?Mt.data=It:(It=ha(s),It!==null&&(Mt.data=It)))),(It=zn?zT(e,s):jT(e,s))&&(Mt=cc(P,"onBeforeInput"),0<Mt.length&&(ut=new wi("onBeforeInput","beforeinput",null,s,F),Y.push({event:ut,listeners:Mt}),ut.data=It)),O1(Y,e,P,s,F)}Fy(Y,n)})}function ll(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ei(e,s),h!=null&&o.unshift(ll(e,h,f)),h=ei(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function U1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=ei(s,f),P!=null&&g.unshift(ll(s,P,R))):h||(P=ei(s,f),P!=null&&g.push(ll(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var k1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(k1,`
`).replace(L1,"")}function Xy(e,n){return n=Yy(n),Yy(e)===n}function Wt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":An(e,"class",o);break;case"tabIndex":An(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,s,o);break;case"style":Co(e,o,f);break;case"data":if(n!=="object"){An(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=aa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=aa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ti);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=aa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),ia(e,"popover",o);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,ia(e,s,o))}}function ud(e,n,s,o,h,f){switch(s){case"style":Co(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ia(e,s,o)}}}function Xe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,g,s,null)}}h&&Wt(e,n,"srcSet",s.srcSet,s,null),o&&Wt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var T=f=g=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Wt(e,n,o,F,s,null)}}ou(e,f,T,R,P,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:Wt(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Es(e,!!o,n,!1):s!=null&&Es(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Wt(e,n,g,T,s,null)}Ts(e,o,h,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,n,R,o,s,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)Dt(ol[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,P,o,s,null)}return;default:if(ra(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&ud(e,n,F,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Wt(e,n,T,o,s,null))}function P1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,P=null,F=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||Wt(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Wt(e,n,j,q,o,Y)}}sa(e,g,T,R,P,F,f,h);return;case"select":q=g=T=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&Wt(e,n,h,f,o,R)}n=T,s=g,o=q,j!=null?Es(e,!!s,j,!1):!!o!=!!s&&(n!=null?Es(e,!!s,n,!0):Es(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,g,h,o,f)}lu(e,j,q);return;case"option":for(var lt in s)if(j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:Wt(e,n,lt,null,o,j)}for(R in o)if(j=o[R],q=s[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Wt(e,n,R,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)j=s[yt],s.hasOwnProperty(yt)&&j!=null&&!o.hasOwnProperty(yt)&&Wt(e,n,yt,null,o,j);for(P in o)if(j=o[P],q=s[P],o.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Wt(e,n,P,j,o,q)}return;default:if(ra(n)){for(var te in s)j=s[te],s.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&ud(e,n,te,void 0,o,j);for(F in o)j=o[F],q=s[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||ud(e,n,F,j,o,q);return}}for(var V in s)j=s[V],s.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&Wt(e,n,V,null,o,j);for(Y in o)j=o[Y],q=s[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||Wt(e,n,Y,j,o,q)}function $y(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&$y(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>T)break;var F=R.transferSize,Y=R.initiatorType;F&&$y(Y)&&(R=R.responseEnd,g+=F*(R<T?1:(T-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function j1(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(e){return t_.resolve(null).then(e).catch(H1)}:Wy;function H1(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function e_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ul(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ul(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[gi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ul(e.ownerDocument.body);s=h}while(s);ja(n)}function n_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),na(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function G1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[gi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function F1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qn(e.nextSibling),e===null))return null;return e}function i_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qn(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Q1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function s_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Qn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function r_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function a_(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var Kn=new Map,o_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=nt.d;nt.d={f:K1,r:Y1,D:X1,C:$1,L:Z1,m:J1,X:tS,S:W1,M:eS};function K1(){var e=as.f(),n=ic();return e||n}function Y1(e){var n=kn(e);n!==null&&n.tag===5&&n.type==="form"?bp(n):as.r(e)}var La=typeof document>"u"?null:document;function l_(e,n,s){var o=La;if(o&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xe(n,"link",e),Ce(n),o.head.appendChild(n)))}}function X1(e){as.D(e),l_("dns-prefetch",e,null)}function $1(e,n){as.C(e,n),l_("preconnect",e,n)}function Z1(e,n,s){as.L(e,n,s);var o=La;if(o&&e&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+dn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+dn(s.imageSizes)+'"]')):h+='[href="'+dn(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=za(e)}Kn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),Xe(n,"link",e),Ce(n),o.head.appendChild(n)))}}function J1(e,n){as.m(e,n);var s=La;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Kn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Kn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hl(f)))return}o=s.createElement("link"),Xe(o,"link",e),Ce(o),s.head.appendChild(o)}}}function W1(e,n,s){as.S(e,n,s);var o=La;if(o&&e){var h=yi(o).hoistableStyles,f=Pa(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(cl(f)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Kn.get(f))&&_d(e,s);var R=g=o.createElement("link");Ce(R),Xe(R,"link",e),R._p=new Promise(function(P,F){R.onload=P,R.onerror=F}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function tS(e,n){as.X(e,n);var s=La;if(s&&e){var o=yi(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(hl(h)),f||(e=b({src:e,async:!0},n),(n=Kn.get(h))&&vd(e,n),f=s.createElement("script"),Ce(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function eS(e,n){as.M(e,n);var s=La;if(s&&e){var o=yi(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(hl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Kn.get(h))&&vd(e,n),f=s.createElement("script"),Ce(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function u_(e,n,s,o){var h=(h=et.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Pa(s.href),s=yi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Pa(s.href);var f=yi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(cl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Kn.set(e,s),f||nS(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(s),s=yi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pa(e){return'href="'+dn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function c_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function nS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xe(n,"link",s),Ce(n),e.head.appendChild(n))}function za(e){return'[src="'+dn(e)+'"]'}function hl(e){return"script[async]"+e}function h_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+dn(s.href)+'"]');if(o)return n.instance=o,Ce(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ce(o),Xe(o,"style",h),dc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Pa(s.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,Ce(f),f;o=c_(s),(h=Kn.get(h))&&_d(o,h),f=(e.ownerDocument||e).createElement("link"),Ce(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Xe(f,"link",o),n.state.loading|=4,dc(f,s.precedence,e),n.instance=f;case"script":return f=za(s.src),(h=e.querySelector(hl(f)))?(n.instance=h,Ce(h),h):(o=s,(h=Kn.get(f))&&(o=b({},s),vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),Xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,e));return n.instance}function dc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function f_(e,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[gi]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function d_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function iS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Pa(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ce(f);return}f=n.ownerDocument||n,o=c_(o),(h=Kn.get(h))&&_d(o,h),f=f.createElement("link"),Ce(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Xe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function rS(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*z1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(aS,e),pc=null,gc.call(e))}function aS(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function oS(e,n,s,o,h,f,g,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function g_(e,n,s,o,h,f,g,T,R,P,F,Y){return e=new oS(e,n,s,g,R,P,F,Y,T),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},nf(f),e}function p_(e){return e?(e=pa,e):pa}function y_(e,n,s,o,h,f){h=p_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Vs(e,o,n),s!==null&&(vn(s,e,n),Go(s,e,n))}function __(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){__(e,n),(e=e.alternate)&&__(e,n)}function v_(e){if(e.tag===13||e.tag===31){var n=xr(e,67108864);n!==null&&vn(n,e,67108864),Td(e,67108864)}}function E_(e){if(e.tag===13||e.tag===31){var n=Dn();n=Er(n);var s=xr(e,n);s!==null&&vn(s,e,n),Td(e,n)}}var _c=!0;function lS(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,Sd(e,n,s,o)}finally{nt.p=f,G.T=h}}function uS(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,Sd(e,n,s,o)}finally{nt.p=f,G.T=h}}function Sd(e,n,s,o){if(_c){var h=Ad(o);if(h===null)ld(e,n,o,vc,s),S_(e,o);else if(hS(h,e,n,s,o))o.stopPropagation();else if(S_(e,o),n&4&&-1<cS.indexOf(e)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=hi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-Ee(g);T.entanglements[1]|=R,g&=~R}Di(f),(Ft&6)===0&&(ec=un()+500,al(0))}}break;case 31:case 13:T=xr(f,2),T!==null&&vn(T,f,2),ic(),Td(f,2)}if(f=Ad(o),f===null&&ld(e,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ld(e,n,o,null,s)}}function Ad(e){return e=Ln(e),bd(e)}var vc=null;function bd(e){if(vc=null,e=pi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function T_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case go:return 2;case po:return 8;case _s:case Nh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var wd=!1,Fs=null,Qs=null,Ks=null,dl=new Map,ml=new Map,Ys=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&v_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function hS(e,n,s,o,h){switch(n){case"focusin":return Fs=gl(Fs,e,n,s,o,h),!0;case"dragenter":return Qs=gl(Qs,e,n,s,o,h),!0;case"mouseover":return Ks=gl(Ks,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,gl(dl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,gl(ml.get(f)||null,e,n,s,o,h)),!0}return!1}function A_(e){var n=pi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){E_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){E_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ad(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Io=o,s.target.dispatchEvent(o),Io=null}else return n=kn(s),n!==null&&v_(n),e.blockedOn=s,!1;n.shift()}return!0}function b_(e,n,s){Ec(e)&&s.delete(n)}function fS(){wd=!1,Fs!==null&&Ec(Fs)&&(Fs=null),Qs!==null&&Ec(Qs)&&(Qs=null),Ks!==null&&Ec(Ks)&&(Ks=null),dl.forEach(b_),ml.forEach(b_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fS)))}var Sc=null;function w_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(bd(o||s)===null)continue;break}var f=kn(s);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ja(e){function n(R){return Tc(R,e)}Fs!==null&&Tc(Fs,e),Qs!==null&&Tc(Qs,e),Ks!==null&&Tc(Ks,e),dl.forEach(n),ml.forEach(n);for(var s=0;s<Ys.length;s++){var o=Ys[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ys.length&&(s=Ys[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&Ys.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[je]||null;if(typeof f=="function")g||w_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)T=g.formAction;else if(bd(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),w_(s)}}}function R_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}Ac.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Dn();y_(s,o,e,n,null,null)},Ac.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;y_(e.current,2,null,e,null,null),ic(),n[mi]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ys.length&&n!==0&&n<Ys[s].priority;s++);Ys.splice(s,0,e),s===0&&A_(e)}};var C_=t.version;if(C_!=="19.2.0")throw Error(a(527,C_,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var dS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{$n=bc.inject(dS),Ge=bc}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Vp,f=Up,g=kp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=g_(e,1,!1,null,null,s,o,null,h,f,g,R_),e[mi]=n.current,od(e),new Rd(n)},yl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Vp,g=Up,T=kp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=g_(e,1,!0,n,s??null,o,h,R,f,g,T,R_),n.context=p_(null),s=n.current,o=Dn(),o=Er(o),h=Ms(o),h.callback=null,Vs(s,h,o),s=o,n.current.lanes=s,_r(n,s),Di(n),e[mi]=n.current,od(e),new Ac(n)},yl.version="19.2.0",yl}var L_;function AS(){if(L_)return Nd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=SS(),Nd.exports}var bS=AS();const wS=()=>{};var P_={};const d0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},RS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},m0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,E=c>>2,b=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,H=_&63;y||(H=64,d||(x=64)),a.push(i[E],i[b],i[x],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(d0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):RS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new CS;const x=c<<2|p>>4;if(a.push(x),_!==64){const H=p<<4&240|_>>2;if(a.push(H),b!==64){const W=_<<6&192|b;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class CS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IS=function(r){const t=d0(r);return m0.encodeByteArray(t,!0)},Bc=function(r){return IS(r).replace(/\./g,"")},g0=function(r){try{return m0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DS=()=>NS().__FIREBASE_DEFAULTS__,OS=()=>{if(typeof process>"u"||typeof P_>"u")return;const r=P_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&g0(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return wS()||DS()||OS()||xS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},p0=r=>oh()?.emulatorHosts?.[r],MS=r=>{const t=p0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},y0=()=>oh()?.config,_0=r=>oh()?.[`_${r}`];class VS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v0(r){return(await fetch(r,{credentials:"include"})).ok}function US(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const Al={};function kS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?r.emulator.push(t):r.prod.push(t);return r}function LS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let z_=!1;function E0(r,t){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Al[r]===t||Al[r]||z_)return;Al[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=kS().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,H){x.setAttribute("width","24"),x.setAttribute("id",H),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{z_=!0,d()},x}function E(x,H){x.setAttribute("id",H),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=LS(a),H=i("text"),W=document.getElementById(H)||document.createElement("span"),st=i("learnmore"),J=document.getElementById(st)||document.createElement("a"),mt=i("preprendIcon"),Tt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const _t=x.element;p(_t),E(J,st);const jt=_();y(Tt,mt),_t.append(Tt,W,J,jt),document.body.appendChild(_t)}c?(W.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function zS(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HS(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function GS(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FS(){try{return typeof indexedDB=="object"}catch{return!1}}function QS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const KS="FirebaseError";class ps extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=KS,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?YS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ps(l,p,a)}}function YS(r,t){return r.replace(XS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const XS=/\{\$([^}]+)}/g;function $S(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function or(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(j_(c)&&j_(d)){if(!or(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}function Pl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ZS(r,t){const i=new JS(r,t);return i.subscribe.bind(i)}class JS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");WS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}function fn(r){return r&&r._delegate?r._delegate:r}class Yr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fr="[DEFAULT]";class tA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new VS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nA(t))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fr){return this.instances.has(t)}getOptions(t=Fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:eA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fr){return this.component?this.component.multipleInstances?t:Fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eA(r){return r===Fr?void 0:r}function nA(r){return r.instantiationMode==="EAGER"}class iA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new tA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const sA={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},rA=Vt.INFO,aA={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},oA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=aA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=rA,this._logHandler=oA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const lA=(r,t)=>t.some(i=>r instanceof i);let B_,q_;function uA(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cA(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Yd=new WeakMap,S0=new WeakMap,Vd=new WeakMap,Sm=new WeakMap;function hA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(nr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&T0.set(i,r)}).catch(()=>{}),Sm.set(t,r),t}function fA(r){if(Yd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Yd.set(r,t)}let Xd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Yd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||S0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function dA(r){Xd=r(Xd)}function mA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return S0.set(a,t.sort?t.sort():[t]),nr(a)}:cA().includes(r)?function(...t){return r.apply(Ud(this),t),nr(T0.get(this))}:function(...t){return nr(r.apply(Ud(this),t))}}function gA(r){return typeof r=="function"?mA(r):(r instanceof IDBTransaction&&fA(r),lA(r,uA())?new Proxy(r,Xd):r)}function nr(r){if(r instanceof IDBRequest)return hA(r);if(Vd.has(r))return Vd.get(r);const t=gA(r);return t!==r&&(Vd.set(r,t),Sm.set(t,r)),t}const Ud=r=>Sm.get(r);function pA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=nr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(nr(d.result),y.oldVersion,y.newVersion,nr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const yA=["get","getKey","getAll","getAllKeys","count"],_A=["put","add","delete","clear"],kd=new Map;function H_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=_A.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||yA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return kd.set(t,c),c}dA(r=>({...r,get:(t,i,a)=>H_(t,i)||r.get(t,i,a),has:(t,i)=>!!H_(t,i)||r.has(t,i)}));class vA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(EA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function EA(r){return r.getComponent()?.type==="VERSION"}const $d="@firebase/app",G_="0.14.6";const cs=new Tm("@firebase/app"),TA="@firebase/app-compat",SA="@firebase/analytics-compat",AA="@firebase/analytics",bA="@firebase/app-check-compat",wA="@firebase/app-check",RA="@firebase/auth",CA="@firebase/auth-compat",IA="@firebase/database",NA="@firebase/data-connect",DA="@firebase/database-compat",OA="@firebase/functions",xA="@firebase/functions-compat",MA="@firebase/installations",VA="@firebase/installations-compat",UA="@firebase/messaging",kA="@firebase/messaging-compat",LA="@firebase/performance",PA="@firebase/performance-compat",zA="@firebase/remote-config",jA="@firebase/remote-config-compat",BA="@firebase/storage",qA="@firebase/storage-compat",HA="@firebase/firestore",GA="@firebase/ai",FA="@firebase/firestore-compat",QA="firebase",KA="12.6.0";const Zd="[DEFAULT]",YA={[$d]:"fire-core",[TA]:"fire-core-compat",[AA]:"fire-analytics",[SA]:"fire-analytics-compat",[wA]:"fire-app-check",[bA]:"fire-app-check-compat",[RA]:"fire-auth",[CA]:"fire-auth-compat",[IA]:"fire-rtdb",[NA]:"fire-data-connect",[DA]:"fire-rtdb-compat",[OA]:"fire-fn",[xA]:"fire-fn-compat",[MA]:"fire-iid",[VA]:"fire-iid-compat",[UA]:"fire-fcm",[kA]:"fire-fcm-compat",[LA]:"fire-perf",[PA]:"fire-perf-compat",[zA]:"fire-rc",[jA]:"fire-rc-compat",[BA]:"fire-gcs",[qA]:"fire-gcs-compat",[HA]:"fire-fst",[FA]:"fire-fst-compat",[GA]:"fire-vertex","fire-js":"fire-js",[QA]:"fire-js-all"};const qc=new Map,XA=new Map,Jd=new Map;function F_(r,t){try{r.container.addComponent(t)}catch(i){cs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ja(r){const t=r.name;if(Jd.has(t))return cs.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,r);for(const i of qc.values())F_(i,r);for(const i of XA.values())F_(i,r);return!0}function Am(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const $A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Ll("app","Firebase",$A);class ZA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const lo=KA;function A0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Zd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=y0()),!i)throw ir.create("no-options");const c=qc.get(l);if(c){if(or(i,c.options)&&or(a,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new iA(l);for(const y of Jd.values())d.addComponent(y);const p=new ZA(i,a,d);return qc.set(l,p),p}function b0(r=Zd){const t=qc.get(r);if(!t&&r===Zd&&y0())return A0();if(!t)throw ir.create("no-app",{appName:r});return t}function sr(r,t,i){let a=YA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}Ja(new Yr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const JA="firebase-heartbeat-database",WA=1,Nl="firebase-heartbeat-store";let Ld=null;function w0(){return Ld||(Ld=pA(JA,WA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ir.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function tb(r){try{const i=(await w0()).transaction(Nl),a=await i.objectStore(Nl).get(R0(r));return await i.done,a}catch(t){if(t instanceof ps)cs.warn(t.message);else{const i=ir.create("idb-get",{originalErrorMessage:t?.message});cs.warn(i.message)}}}async function Q_(r,t){try{const a=(await w0()).transaction(Nl,"readwrite");await a.objectStore(Nl).put(t,R0(r)),await a.done}catch(i){if(i instanceof ps)cs.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i?.message});cs.warn(a.message)}}}function R0(r){return`${r.name}!${r.options.appId}`}const eb=1024,nb=30;class ib{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>nb){const l=ab(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){cs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:a}=sb(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return cs.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function sb(r,t=eb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Y_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Y_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class rb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FS()?QS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Y_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function ab(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function ob(r){Ja(new Yr("platform-logger",t=>new vA(t),"PRIVATE")),Ja(new Yr("heartbeat",t=>new ib(t),"PRIVATE")),sr($d,G_,r),sr($d,G_,"esm2020"),sr("fire-js","")}ob("");var lb="firebase",ub="12.6.0";sr(lb,ub,"app");function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cb=C0,I0=new Ll("auth","Firebase",C0());const Hc=new Tm("@firebase/auth");function hb(r,...t){Hc.logLevel<=Vt.WARN&&Hc.warn(`Auth (${lo}): ${r}`,...t)}function Oc(r,...t){Hc.logLevel<=Vt.ERROR&&Hc.error(`Auth (${lo}): ${r}`,...t)}function hs(r,...t){throw bm(r,...t)}function xi(r,...t){return bm(r,...t)}function N0(r,t,i){const a={...cb(),[t]:i};return new Ll("auth","Firebase",a).create(t,{appName:r.name})}function us(r){return N0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return I0.create(r,...t)}function Et(r,t,...i){if(!r)throw bm(t,...i)}function os(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Oc(t),new Error(t)}function fs(r,t){r||os(t)}function Wd(){return typeof self<"u"&&self.location?.href||""}function fb(){return X_()==="http:"||X_()==="https:"}function X_(){return typeof self<"u"&&self.location?.protocol||null}function db(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fb()||BS()||"connection"in navigator)?navigator.onLine:!0}function mb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,fs(i>t,"Short delay should be less than long delay!"),this.isMobile=PS()||qS()}get(){return db()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(r,t){fs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class D0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yb=new zl(3e4,6e4);function jl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function uo(r,t,i,a,l={}){return O0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Pl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return jS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(_.credentials="include"),D0.fetch()(await x0(r,r.config.apiHost,i,p),_)})}async function O0(r,t,i){r._canInitEmulator=!1;const a={...gb,...t};try{const l=new _b(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw wc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw N0(r,E,_);hs(r,E)}}catch(l){if(l instanceof ps)throw l;hs(r,"network-request-failed",{message:String(l)})}}async function Rm(r,t,i,a,l={}){const c=await uo(r,t,i,a,l);return"mfaPendingCredential"in c&&hs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function x0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?wm(r.config,l):`${r.config.apiScheme}://${l}`;return pb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class _b{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(xi(this.auth,"network-request-failed")),yb.get())})}}function wc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=xi(r,t,a);return l.customData._tokenResponse=i,l}async function vb(r,t){return uo(r,"POST","/v1/accounts:delete",t)}async function Gc(r,t){return uo(r,"POST","/v1/accounts:lookup",t)}function bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Eb(r,t=!1){const i=fn(r),a=await i.getIdToken(t),l=Cm(a);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:bl(Pd(l.auth_time)),issuedAtTime:bl(Pd(l.iat)),expirationTime:bl(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function Cm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=g0(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function $_(r){const t=Cm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Dl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ps&&Tb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Tb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Sb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fc(r){const t=r.auth,i=await r.getIdToken(),a=await Dl(r,Gc(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?M0(l.providerUserInfo):[],d=bb(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function Ab(r){const t=fn(r);await Fc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function M0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function wb(r,t){const i=await O0(r,{},async()=>{const a=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await x0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(y.credentials="include"),D0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Rb(r,t){return uo(r,"POST","/v2/accounts:revokeToken",jl(r,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=$_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await wb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ka;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return os("not implemented")}}function $s(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Sb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Eb(this,t)}reload(){return Ab(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Fc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(us(this.auth));const t=await this.getIdToken();return await Dl(this,vb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:H,providerData:W,stsTokenManager:st}=i;Et(b&&st,t,"internal-error");const J=Ka.fromJSON(this.name,st);Et(typeof b=="string",t,"internal-error"),$s(a,t.name),$s(l,t.name),Et(typeof x=="boolean",t,"internal-error"),Et(typeof H=="boolean",t,"internal-error"),$s(c,t.name),$s(d,t.name),$s(p,t.name),$s(y,t.name),$s(_,t.name),$s(E,t.name);const mt=new ui({uid:b,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:E});return W&&Array.isArray(W)&&(mt.providerData=W.map(Tt=>({...Tt}))),y&&(mt._redirectEventId=y),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new ui({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Fc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?M0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(a);const y=new ui({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const Z_=new Map;function ls(r){fs(r instanceof Function,"Expected a class definition");let t=Z_.get(r);return t?(fs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Z_.set(r,t),t)}class V0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}V0.type="NONE";const J_=V0;function xc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=xc(this.userKey,l.apiKey,c),this.fullPersistenceKey=xc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya(ls(J_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ls(J_);const d=xc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let b;if(typeof E=="string"){const x=await Gc(t,{idToken:E}).catch(()=>{});if(!x)break;b=await ui._fromGetAccountInfoResponse(t,x,E)}else b=ui._fromJSON(t,E);_!==c&&(p=b),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ya(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ya(c,t,a))}}function W_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(P0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(U0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(j0(t))return"Blackberry";if(B0(t))return"Webos";if(k0(t))return"Safari";if((t.includes("chrome/")||L0(t))&&!t.includes("edge/"))return"Chrome";if(z0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function U0(r=sn()){return/firefox\//i.test(r)}function k0(r=sn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function L0(r=sn()){return/crios\//i.test(r)}function P0(r=sn()){return/iemobile/i.test(r)}function z0(r=sn()){return/android/i.test(r)}function j0(r=sn()){return/blackberry/i.test(r)}function B0(r=sn()){return/webos/i.test(r)}function Im(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Cb(r=sn()){return Im(r)&&!!window.navigator?.standalone}function Ib(){return HS()&&document.documentMode===10}function q0(r=sn()){return Im(r)||z0(r)||B0(r)||j0(r)||/windows phone/i.test(r)||P0(r)}function H0(r,t=[]){let i;switch(r){case"Browser":i=W_(sn());break;case"Worker":i=`${W_(sn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${lo}/${a}`}class Nb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Db(r,t={}){return uo(r,"GET","/v2/passwordPolicy",jl(r,t))}const Ob=6;class xb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Ob,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Mb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new Nb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),a=await ui._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Fc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(us(this));const i=t?fn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Db(this),i=new xb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Rb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ls(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&hb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bl(r){return fn(r)}class tv{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZS(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vb(r){Nm=r}function Ub(r){return Nm.loadJS(r)}function kb(){return Nm.gapiScript}function Lb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Pb(r,t){const i=Am(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(or(c,t??{}))return l;hs(l,"already-initialized")}return i.initialize({options:t})}function zb(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function jb(r,t,i){const a=Bl(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=G0(t),{host:d,port:p}=Bb(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(or(_,a.config.emulator)&&or(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,oo(d)?(v0(`${c}//${d}${y}`),E0("Auth",!0)):qb()}function G0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Bb(r){const t=G0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:ev(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:ev(d)}}}function ev(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function qb(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class F0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,i){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}async function Xa(r,t){return Rm(r,"POST","/v1/accounts:signInWithIdp",jl(r,t))}const Hb="http://localhost";class Xr extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):hs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Xr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Xa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:Hb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}class Q0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ql extends Q0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zs extends ql{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Js extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Ws extends ql{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";class tr extends ql{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";async function Gb(r,t){return Rm(r,"POST","/v1/accounts:signUp",jl(r,t))}class ds{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ui._fromIdTokenResponse(t,a,l),d=nv(a);return new ds({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=nv(a);return new ds({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function nv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Fb(r){if(Yn(r.app))return Promise.reject(us(r));const t=Bl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ds({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Gb(t,{returnSecureToken:!0}),a=await ds._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Qc extends ps{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Qc(t,i,a,l)}}function K0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(r,c,t,a):c})}async function Qb(r,t,i=!1){const a=await Dl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ds._forOperation(r,"link",a)}async function Kb(r,t,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(us(a));const l="reauthenticate";try{const c=await Dl(r,K0(a,l,t,r),i);Et(c.idToken,a,"internal-error");const d=Cm(c.idToken);Et(d,a,"internal-error");const{sub:p}=d;return Et(r.uid===p,a,"user-mismatch"),ds._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&hs(a,"user-mismatch"),c}}async function Yb(r,t,i=!1){if(Yn(r.app))return Promise.reject(us(r));const a="signIn",l=await K0(r,a,t),c=await ds._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function Xb(r,t){return Rm(r,"POST","/v1/accounts:signInWithCustomToken",jl(r,t))}async function $b(r,t){if(Yn(r.app))return Promise.reject(us(r));const i=Bl(r),a=await Xb(i,{token:t,returnSecureToken:!0}),l=await ds._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Zb(r,t,i,a){return fn(r).onIdTokenChanged(t,i,a)}function Jb(r,t,i){return fn(r).beforeAuthStateChanged(t,i)}function Wb(r,t,i,a){return fn(r).onAuthStateChanged(t,i,a)}const Kc="__sak";class Y0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const tw=1e3,ew=10;class X0 extends Y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Ib()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,ew):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}X0.type="LOCAL";const nw=X0;class $0 extends Y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}$0.type="SESSION";const Z0=$0;function iw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new lh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await iw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function Dm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class sw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Dm("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Mi(){return window}function rw(r){Mi().location.href=r}function J0(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function aw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ow(){return navigator?.serviceWorker?.controller||null}function lw(){return J0()?self:null}const W0="firebaseLocalStorageDb",uw=1,Yc="firebaseLocalStorage",tE="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uh(r,t){return r.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function cw(){const r=indexedDB.deleteDatabase(W0);return new Hl(r).toPromise()}function em(){const r=indexedDB.open(W0,uw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Yc,{keyPath:tE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Yc)?t(a):(a.close(),await cw(),t(await em()))})})}async function iv(r,t,i){const a=uh(r,!0).put({[tE]:t,value:i});return new Hl(a).toPromise()}async function hw(r,t){const i=uh(r,!1).get(t),a=await new Hl(i).toPromise();return a===void 0?null:a.value}function sv(r,t){const i=uh(r,!0).delete(t);return new Hl(i).toPromise()}const fw=800,dw=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>dw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(lw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aw(),!this.activeServiceWorker)return;this.sender=new sw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ow()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await em();return await iv(t,Kc,"1"),await sv(t,Kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>iv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>hw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>sv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=uh(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const mw=eE;new zl(3e4,6e4);function gw(r,t){return t?ls(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Om extends F0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function pw(r){return Yb(r.auth,new Om(r),r.bypassAuthState)}function yw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),Kb(i,new Om(r),r.bypassAuthState)}async function _w(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),Qb(i,new Om(r),r.bypassAuthState)}class nE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return pw;case"linkViaPopup":case"linkViaRedirect":return _w;case"reauthViaPopup":case"reauthViaRedirect":return yw;default:hs(this.auth,"internal-error")}}resolve(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vw=new zl(2e3,1e4);class Qa extends nE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const t=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vw.get())};t()}}Qa.currentPopupAction=null;const Ew="pendingRedirect",Mc=new Map;class Tw extends nE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const a=await Sw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sw(r,t){const i=ww(t),a=bw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Aw(r,t){Mc.set(r._key(),t)}function bw(r){return ls(r._redirectPersistence)}function ww(r){return xc(Ew,r.config.apiKey,r.name)}async function Rw(r,t,i=!1){if(Yn(r.app))return Promise.reject(us(r));const a=Bl(r),l=gw(a,t),d=await new Tw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Cw=600*1e3;class Iw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Nw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!iE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Cw&&this.cachedEventUids.clear(),this.cachedEventUids.has(rv(t))}saveEventToCache(t){this.cachedEventUids.add(rv(t)),this.lastProcessedEventTime=Date.now()}}function rv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function iE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Nw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(r);default:return!1}}async function Dw(r,t={}){return uo(r,"GET","/v1/projects",t)}const Ow=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xw=/^https?/;async function Mw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Dw(r);for(const i of t)try{if(Vw(i))return}catch{}hs(r,"unauthorized-domain")}function Vw(r){const t=Wd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!xw.test(i))return!1;if(Ow.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Uw=new zl(3e4,6e4);function av(){const r=Mi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function kw(r){return new Promise((t,i)=>{function a(){av(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{av(),i(xi(r,"network-request-failed"))},timeout:Uw.get()})}if(Mi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Mi().gapi?.load)a();else{const l=Lb("iframefcb");return Mi()[l]=()=>{gapi.load?a():i(xi(r,"network-request-failed"))},Ub(`${kb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function Lw(r){return Vc=Vc||kw(r),Vc}const Pw=new zl(5e3,15e3),zw="__/auth/iframe",jw="emulator/auth/iframe",Bw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hw(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?wm(t,jw):`https://${r.config.authDomain}/${zw}`,a={apiKey:t.apiKey,appName:r.name,v:lo},l=qw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Pl(a).slice(1)}`}async function Gw(r){const t=await Lw(r),i=Mi().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:Hw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=xi(r,"network-request-failed"),p=Mi().setTimeout(()=>{c(d)},Pw.get());function y(){Mi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const Fw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qw=500,Kw=600,Yw="_blank",Xw="http://localhost";class ov{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $w(r,t,i,a=Qw,l=Kw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Fw,width:a.toString(),height:l.toString(),top:c,left:d},_=sn().toLowerCase();i&&(p=L0(_)?Yw:i),U0(_)&&(t=t||Xw,y.scrollbars="yes");const E=Object.entries(y).reduce((x,[H,W])=>`${x}${H}=${W},`,"");if(Cb(_)&&p!=="_self")return Zw(t||"",p),new ov(null);const b=window.open(t||"",p,E);Et(b,r,"popup-blocked");try{b.focus()}catch{}return new ov(b)}function Zw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Jw="__/auth/handler",Ww="emulator/auth/handler",tR=encodeURIComponent("fac");async function lv(r,t,i,a,l,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:lo,eventId:l};if(t instanceof Q0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",$S(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))d[E]=b}if(t instanceof ql){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${tR}=${encodeURIComponent(y)}`:"";return`${eR(r)}?${Pl(p).slice(1)}${_}`}function eR({config:r}){return r.emulator?wm(r,Ww):`https://${r.authDomain}/${Jw}`}const zd="webStorageSupport";class nR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z0,this._completeRedirectFn=Rw,this._overrideRedirectResult=Aw}async _openPopup(t,i,a,l){fs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await lv(t,i,a,Wd(),l);return $w(t,c,Dm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await lv(t,i,a,Wd(),l);return rw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(fs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Gw(t),a=new Iw(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),hs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Mw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return q0()||k0()||Im()}}const iR=nR;var uv="@firebase/auth",cv="1.11.1";class sR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aR(r){Ja(new Yr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(r)},_=new Mb(a,l,c,y);return zb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ja(new Yr("auth-internal",t=>{const i=Bl(t.getProvider("auth").getImmediate());return(a=>new sR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(uv,cv,rR(r)),sr(uv,cv,"esm2020")}const oR=300,lR=_0("authIdTokenMaxAge")||oR;let hv=null;const uR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>lR)return;const l=i?.token;hv!==l&&(hv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function cR(r=b0()){const t=Am(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Pb(r,{popupRedirectResolver:iR,persistence:[mw,nw,Z0]}),a=_0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=uR(c.toString());Jb(i,d,()=>d(i.currentUser)),Zb(i,p=>d(p))}}const l=p0("auth");return l&&jb(i,`http://${l}`),i}function hR(){return document.getElementsByTagName("head")?.[0]??document}Vb({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=xi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",hR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aR("Browser");var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,sE;(function(){var r;function t(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,N,U){for(var w=Array(arguments.length-2),re=2;re<arguments.length;re++)w[re-2]=arguments[re];return A.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)M[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],N=I.g[2];let U=I.g[3],w;w=A+(U^C&(N^U))+M[0]+3614090360&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(N^A&(C^N))+M[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(C^U&(A^C))+M[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(A^N&(U^A))+M[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(U^C&(N^U))+M[4]+4118548399&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(N^A&(C^N))+M[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(C^U&(A^C))+M[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(A^N&(U^A))+M[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(U^C&(N^U))+M[8]+1770035416&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(N^A&(C^N))+M[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(C^U&(A^C))+M[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(A^N&(U^A))+M[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(U^C&(N^U))+M[12]+1804603682&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(N^A&(C^N))+M[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(C^U&(A^C))+M[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=C+(A^N&(U^A))+M[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(N^U&(C^N))+M[1]+4129170786&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(A^C))+M[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(U^A))+M[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(N^U))+M[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(C^N))+M[5]+3593408605&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(A^C))+M[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(U^A))+M[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(N^U))+M[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(C^N))+M[9]+568446438&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(A^C))+M[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(U^A))+M[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(N^U))+M[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(C^N))+M[13]+2850285829&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^N&(A^C))+M[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(U^A))+M[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(N^U))+M[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(C^N^U)+M[5]+4294588738&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^N)+M[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^C)+M[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^A)+M[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^U)+M[1]+2763975236&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^N)+M[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^C)+M[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^A)+M[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^U)+M[13]+681279174&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^N)+M[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^C)+M[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^A)+M[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^U)+M[9]+3654602809&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^N)+M[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^C)+M[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=C+(N^U^A)+M[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(N^(C|~U))+M[0]+4096336452&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~N))+M[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~C))+M[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~A))+M[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~U))+M[12]+1700485571&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~N))+M[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~C))+M[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~A))+M[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~U))+M[8]+1873313359&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~N))+M[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~C))+M[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~A))+M[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~U))+M[4]+4149444226&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~N))+M[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~C))+M[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=C+(U^(N|~A))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=C;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(M[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,M),N=0;break}}else for(;U<A;)if(M[N++]=I[U++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[A++]=this.g[C]>>>M&255;return I};function c(I,A){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let M=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;M&&U==A||(C[N]=U,M=!1)}this.g=C}var p={};function y(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return J(_(-I));const A=[];let C=1;for(let M=0;I>=C;M++)A[M]=I/C|0,C*=4294967296;return new d(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return J(E(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let M=b;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const w=parseInt(I.substring(U,U+N),A);N<8?(N=_(Math.pow(A,N)),M=M.j(N).add(_(w))):(M=M.j(C),M=M.add(_(w)))}return M}var b=y(0),x=y(1),H=y(16777216);r=d.prototype,r.m=function(){if(st(this))return-J(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(st(this))return"-"+J(this).toString(I);const A=_(Math.pow(I,6));var C=this;let M="";for(;;){const N=jt(C,A).g;C=mt(C,N.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,W(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function st(I){return I.h==-1}r.l=function(I){return I=mt(this,I),st(I)?-1:W(I)?0:1};function J(I){const A=I.g.length,C=[];for(let M=0;M<A;M++)C[M]=~I.g[M];return new d(C,~I.h).add(x)}r.abs=function(){return st(this)?J(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let N=0;N<=A;N++){let U=M+(this.i(N)&65535)+(I.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=w>>>16,U&=65535,w&=65535,C[N]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(I,A){return I.add(J(A))}r.j=function(I){if(W(this)||W(I))return b;if(st(this))return st(I)?J(this).j(J(I)):J(J(this).j(I));if(st(I))return J(this.j(J(I)));if(this.l(H)<0&&I.l(H)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const U=this.i(M)>>>16,w=this.i(M)&65535,re=I.i(N)>>>16,_e=I.i(N)&65535;C[2*M+2*N]+=w*_e,Tt(C,2*M+2*N),C[2*M+2*N+1]+=U*_e,Tt(C,2*M+2*N+1),C[2*M+2*N+1]+=w*re,Tt(C,2*M+2*N+1),C[2*M+2*N+2]+=U*re,Tt(C,2*M+2*N+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function Tt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function _t(I,A){this.g=I,this.h=A}function jt(I,A){if(W(A))throw Error("division by zero");if(W(I))return new _t(b,b);if(st(I))return A=jt(J(I),A),new _t(J(A.g),J(A.h));if(st(A))return A=jt(I,J(A)),new _t(J(A.g),A.h);if(I.g.length>30){if(st(I)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var C=x,M=A;M.l(I)<=0;)C=$t(C),M=$t(M);var N=Ot(C,1),U=Ot(M,1);for(M=Ot(M,2),C=Ot(C,2);!W(M);){var w=U.add(M);w.l(I)<=0&&(N=N.add(C),U=w),M=Ot(M,1),C=Ot(C,1)}return A=mt(I,N.j(A)),new _t(N,A)}for(N=b;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(C),w=U.j(A);st(w)||w.l(I)>0;)C-=M,U=_(C),w=U.j(A);W(U)&&(U=x),N=N.add(U),I=mt(I,w)}return new _t(N,I)}r.B=function(I){return jt(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&I.i(M);return new d(C,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|I.i(M);return new d(C,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^I.i(M);return new d(C,this.h^I.h)};function $t(I){const A=I.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(C,I.h)}function Ot(I,A){const C=A>>5;A%=32;const M=I.g.length-C,N=[];for(let U=0;U<M;U++)N[U]=A>0?I.i(U+C)>>>A|I.i(U+C+1)<<32-A:I.i(U+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,sE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,rr=d}).apply(typeof fv<"u"?fv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rE,vl,aE,Uc,nm,oE,lE,uE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var k=u[S];if(!(k in v))break t;v=v[k]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,k,B){for(var tt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)tt[Rt-2]=arguments[Rt];return m.prototype[k].apply(S,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function W(u,m){for(let S=1;S<arguments.length;S++){const k=arguments[S];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=u.length||0;const B=k.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=k[tt]}else u.push(k)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const S=_t.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var _t=new st(()=>new jt,u=>u.reset());class jt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,Ot=!1,I=new Tt,A=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){J(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(re,N),re.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,v,S,k){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=k,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(v in S)u[v]=S[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,S,k){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=et(u,m,S,k);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!S,k),m.fa=v,u.push(m)),m};function $(u,m){const v=m.type;if(v in u.g){var S=u.g[v],k=Array.prototype.indexOf.call(S,m,void 0),B;(B=k>=0)&&Array.prototype.splice.call(S,k,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function et(u,m,v,S){for(let k=0;k<u.length;++k){const B=u[k];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==S)return k}return-1}var at="closure_lm_"+(Math.random()*1e6|0),ht={};function pt(u,m,v,S,k){if(Array.isArray(m)){for(let B=0;B<m.length;B++)pt(u,m[B],v,S,k);return null}return v=fe(v),u&&u[_e]?u.J(m,v,p(S)?!!S.capture:!1,k):ve(u,m,v,!1,S,k)}function ve(u,m,v,S,k,B){if(!m)throw Error("Invalid event type");const tt=p(k)?!!k.capture:!!k;let Rt=ke(u);if(Rt||(u[at]=Rt=new rt(u)),v=Rt.add(m,v,S,tt,B),v.proxy)return v;if(S=an(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)U||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),S,k);else if(u.attachEvent)u.attachEvent(wt(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function an(){function u(v){return m.call(u.src,u.listener,v)}const m=on;return u}function ee(u,m,v,S,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)ee(u,m[B],v,S,k);else S=p(S)?!!S.capture:!!S,v=fe(v),u&&u[_e]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=et(m,v,S,k),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ke(u))&&(m=u.g[m.toString()],u=-1,m&&(u=et(m,v,S,k)),(v=u>-1?m[u]:null)&&he(v))}function he(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[_e])$(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(wt(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=ke(m))?($(v,u),v.h==0&&(v.src=null,m[at]=null)):ft(u)}}}function wt(u){return u in ht?ht[u]:ht[u]="on"+u}function on(u,m){if(u.da)u=!0;else{m=new re(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&he(u),u=v.call(S,m)}return u}function ke(u){return u=u[at],u instanceof rt?u:null}var ln="__closure_events_fn_"+(Math.random()*1e9>>>0);function fe(u){return typeof u=="function"?u:(u[ln]||(u[ln]=function(m){return u.handleEvent(m)}),u[ln])}function ne(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}b(ne,M),ne.prototype[_e]=!0,ne.prototype.removeEventListener=function(u,m,v,S){ee(this,u,m,v,S)};function ge(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var k=m;m=new N(S,u),it(m,k)}k=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],k=ys(B,S,!0,m)&&k;if(B=m.g=u,k=ys(B,S,!0,m)&&k,k=ys(B,S,!1,m)&&k,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],k=ys(B,S,!1,m)&&k}ne.prototype.N=function(){if(ne.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)ft(v[S]);delete u.g[m],u.h--}}this.G=null},ne.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},ne.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function ys(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Rt=tt.listener,Te=tt.ha||tt.src;tt.fa&&$(u.i,tt),k=Rt.call(Te,S)!==!1&&k}}return k&&!S.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class un extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(u){M.call(this),this.h=u,this.g={}}b(pr,M);var go=[];function po(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&he(m)},u),u.g={}}pr.prototype.N=function(){pr.Z.N.call(this),po(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,Nh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function Wl(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){N.call(this,"d")}b(Ge,N);function Un(){N.call(this,"c")}b(Un,N);var Ee={},tu=null;function ta(){return tu=tu||new ne}Ee.Ia="serverreachability";function eu(u){N.call(this,Ee.Ia,u)}b(eu,N);function ci(u){const m=ta();ge(m,new eu(m))}Ee.STAT_EVENT="statevent";function yr(u,m){N.call(this,Ee.STAT_EVENT,u),this.stat=m}b(yr,N);function we(u){const m=ta();ge(m,new yr(m,u))}Ee.Ja="timingevent";function hi(u,m){N.call(this,Ee.Ja,u),this.size=m}b(hi,N);function fi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,S,k,B){u.info(function(){if(u.g)if(B){var tt="",Rt=B.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var Te=Rt[Gt].split("=");if(Te.length>1){const ue=Te[0];Te=Te[1];const zn=ue.split("_");tt=zn.length>=2&&zn[1]=="type"?tt+(ue+"="+Te+"&"):tt+(ue+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+m+`
`+v+`
`+tt})}function nu(u,m,v,S,k,B,tt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+m+`
`+v+`
`+B+" "+tt})}function di(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(S?" "+S:"")})}function _r(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var k=S[0];if(k!="noop"&&k!="stop"&&k!="close")for(let tt=1;tt<S.length;tt++)S[tt]=""}}}}return _s(B)}catch{return m}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function Er(){}b(Er,Jl),Er.prototype.g=function(){return new XMLHttpRequest},_o=new Er;function qi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Re={},je={};function mi(u,m,v){u.M=1,u.A=Tr(Ie(m)),u.u=v,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),gi(u),u.B=Ie(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ra(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Wn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new un(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(go[0]=k.toString()),k=go);for(let B=0;B<k.length;B++){const tt=pt(v,k[B],S||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ci(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=ni(this.g),Te=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||Rt!=4||Te==7||(Te==8||Gt<=0?ci(3):ci(2)),pi(this);var m=this.g.ca();this.X=m;var v=xh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,k=this.g;if((S=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var B=S;break e}}B=null}if(u=B)di(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,u);else{this.o=!1,this.m=3,we(12),Sn(this),kn(this);break t}}if(this.R){u=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=ru(this,v),ue==je){Rt==4&&(this.m=4,we(14),u=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Re){this.m=4,we(15),di(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else di(this.i,this.l,ue,null),yi(this,ue);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)di(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(tt),tt.P=!0,we(11))}}else di(this.i,this.l,v,null),yi(this,v);Rt==4&&Sn(this),this.o&&!this.K&&(Rt==4?mu(this.j,this):(this.o=!1,gi(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),Sn(this),kn(this)}}}catch{}finally{}};function xh(u){if(!su(u))return u.g.la();const m=Fe(u.g);if(m==="")return"";let v="";const S=m.length,k=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<S;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(k&&B==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?je:(v=Number(m.substring(v,S)),isNaN(v)?Re:(S+=1,S+v>m.length?je:(m=m.slice(S,S+v),u.C=S+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function gi(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fi(_(u.aa,u),m)}function pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_r(this.i,this.B),this.M!=2&&(ci(),we(17)),Sn(this),this.m=2,kn(this)):na(this,this.T-u)};function kn(u){u.j.I==0||u.K||mu(u.j,u)}function Sn(u){pi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function yi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||vi(v.h,u))){if(!u.L&&vi(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ca(v),Rs(v);else break t;Ir(v),we(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(_(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((u.L||v.g==u)&&ca(v),!w(m))for(k=v.Ba.g.parse(m),m=0;m<k.length;m++){let Gt=k[m];const ue=Gt[0];if(!(ue<=v.K))if(v.K=ue,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const zn=Gt[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Ri=Gt[4];Ri!=null&&(v.za=Ri,v.j.info("SVER="+v.za));const ii=Gt[5];ii!=null&&typeof ii=="number"&&ii>0&&(S=1.5*ii,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const si=u.g;if(si){const Nr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var B=S.h;B.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(S.G){const ha=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(S.wa=ha,Kt(S.J,S.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var tt=u;if(S.na=yu(S,S.L?S.ba:null,S.W),tt.L){So(S.h,tt);var Rt=tt,Te=S.O;Te&&(Rt.H=Te),Rt.D&&(pi(Rt),gi(Rt)),S.g=tt}else fu(S);v.i.length>0&&bi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||wi(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?wi(v,7):Oo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}ci(4)}catch{}}var Ce=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _i(u){return u.h?1:u.g?u.g.size:0}function vi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let k,B=null;S>=0?(k=u[v].substring(0,S),B=u[v].substring(S+1)):k=u[v],m(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,bo(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Be(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),vs(this,m[4]),this.h=Ei(m[5]||"",!0),bo(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Sr(m,sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Sr(m,sa,!0),"@"),u.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Sr(v,v.charAt(0)=="/"?wo:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Sr(v,lu)),u.join("")},An.prototype.resolve=function(u){const m=Ie(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)vs(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var k=m.h.lastIndexOf("/");k!=-1&&(S=m.h.slice(0,k+1)+S)}if(k=S,k==".."||k==".")S="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){S=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let tt=0;tt<k.length;){const Rt=k[tt++];Rt=="."?S&&tt==k.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&tt==k.length&&B.push("")):(B.push(Rt),S=!0)}S=B.join("/")}else S=k}return v?m.h=S:v=u.i.toString()!=="",v?bo(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ie(u){return new An(u)}function Be(u,m,v){u.j=v?Ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bo(u,m,v){m instanceof Ts?(u.i=m,aa(u.i,u.l)):(v||(m=Sr(m,Es)),u.i=new Ts(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function Tr(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,ou=/[#\?:]/g,wo=/[#\?]/g,Es=/[#\?@]/g,lu=/#/g;function Ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ts.prototype,r.add=function(u,m){mn(this),this.i=null,u=Ss(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){mn(u),m=Ss(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return mn(u),m=Ss(u,m),u.g.has(m)}r.forEach=function(u,m){mn(this),this.g.forEach(function(v,S){v.forEach(function(k){u.call(m,k,S,this)},this)},this)};function Co(u,m){mn(u);let v=[];if(typeof m=="string")Ro(u,m)&&(v=v.concat(u.g.get(Ss(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return mn(this),this.i=null,u=Ss(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Co(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(Ss(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const k=qi(v);v=Co(this,v);for(let B=0;B<v.length;B++){let tt=k;v[B]!==""&&(tt+="="+qi(v[B])),u.push(tt)}}return this.i=u.join("&")};function cu(u){const m=new Ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ss(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,S){const k=S.toLowerCase();S!=k&&(uu(this,S),ra(this,k,v))},u)),u.j=m}function ti(u,m){const v=new Zn;if(d.Image){const S=new Image;S.onload=E(Ln,v,"TestLoadImage: loaded",!0,m,S),S.onerror=E(Ln,v,"TestLoadImage: error",!1,m,S),S.onabort=E(Ln,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(Ln,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Io(u,m){const v=new Zn,S=new AbortController,k=setTimeout(()=>{S.abort(),Ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(B=>{clearTimeout(k),B.ok?Ln(v,"TestPingServer: ok",!0,m):Ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Ln(v,"TestPingServer: error",!1,m)})}function Ln(u,m,v,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(v)}catch{}}function As(){this.g=new Zl}function Ti(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ti,Jl),Ti.prototype.g=function(){return new Ar(this.i,this.h)};function Ar(u,m){ne.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ar,ne),r=Ar.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bs(this):ei(this),this.readyState==3&&oa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,bs(this))},r.Na=function(u){this.g&&(this.response=u,bs(this))},r.ga=function(){this.g&&bs(this)};function bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return Lt(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function br(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Pn(v),typeof u=="string"?v!=null&&qi(v):Kt(u,m,v))}function Zt(u){ne.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Zt,ne);var Si=/^https?$/i,No=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){wr(this,B);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)v.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())v.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(No,m,void 0)>=0)||S||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){wr(this,B)}};function wr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Do(u),Hi(u)}function Do(u){u.A||(u.A=!0,ge(u,"complete"),ge(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ge(this,"complete"),ge(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},r.Xa=function(){Rr(this)};function Rr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(ge(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=B===0){let tt=String(u.D).match(au)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),S=!Si.test(tt?tt.toLowerCase():"")}v=S}if(v)ge(u,"complete"),ge(u,"success");else{u.o=6;try{var k=ni(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",Do(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ge(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function Fe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(w(u[S]))continue;var v=iu(u[S]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[k]||[];m[k]=B,B.push(v)}Ht(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ws(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ws.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,S){we(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=yu(this,null,this.W),bi(this)};function Oo(u){if(la(u),u.I==3){var m=u.V++,v=Ie(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Cr(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=Tr(Ie(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),gi(m)}pu(u)}function Rs(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function la(u){Rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function bi(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||A(),Ot||($t(),Ot=!0),I.add(m,u),u.D=0}}function ua(u,m){return _i(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fi(_(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,k,m),v=Ie(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Cr(this,v),B&&(this.R?m="headers="+qi(Pn(B))+"&"+m:this.u&&br(v,this.u,B)),To(this.h,k),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),k.U=!0,mi(k,v,null)):mi(k,v,m),this.I=2}}else this.I==3&&(u?xo(this,u):this.i.length==0||Eo(this.h)||xo(this))};function xo(u,m){var v;m?v=m.l:v=u.V++;const S=Ie(u.J);Kt(S,"SID",u.M),Kt(S,"RID",v),Kt(S,"AID",u.K),Cr(u,S),u.u&&u.o&&br(S,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,v),mi(v,S,m)}function Cr(u,m){u.H&&Lt(u.H,function(v,S){Kt(m,S,v)}),u.l&&Lt({},function(v,S){Kt(m,S,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var k=u.i;let Rt=-1;for(;;){const Te=["count="+v];Rt==-1?v>0?(Rt=k[0].g,Te.push("ofs="+Rt)):Rt=0:Te.push("ofs="+Rt);let Gt=!0;for(let ue=0;ue<v;ue++){var B=k[ue].g;const zn=k[ue].map;if(B-=Rt,B<0)Rt=Math.max(0,k[ue].g-100),Gt=!1;else try{B="req"+B+"_"||"";try{var tt=zn instanceof Map?zn:Object.entries(zn);for(const[Ri,ii]of tt){let si=ii;p(ii)&&(si=_s(ii)),Te.push(B+Ri+"="+encodeURIComponent(si))}}catch(Ri){throw Te.push(B+"type="+encodeURIComponent("_badmap")),Ri}}catch{S&&S(zn)}}if(Gt){tt=Te.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||A(),Ot||($t(),Ot=!0),I.add(m,u),u.A=0}}function Ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fi(_(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Rs(this),du(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ie(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),Cr(u,m),u.u&&u.o&&br(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Tr(Ie(m)),v.u=null,v.R=!0,ea(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Rs(this),Ir(this),we(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){ca(u),Mo(u),u.g=null;var S=2}else if(vi(u.h,m))v=m.G,So(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;S=ta(),ge(S,new hi(S,v)),bi(u)}else fu(u);else if(k=m.m,k==3||k==0&&m.X>0||!(S==1&&ua(u,m)||S==2&&Ir(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),k){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const k=!S;S=new An(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(S,"https"),Tr(S),k?ti(S.toString(),v):Io(S.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),pu(u),la(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var S=v instanceof An?Ie(v):new An(v);if(S.g!="")m&&(S.g=m+"."+S.g),vs(S,S.u);else{var k=d.location;S=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const B=new An(null);S&&Be(B,S),m&&(B.g=m),k&&vs(B,k),v&&(B.h=v),S=B}return v=u.G,m=u.wa,v&&m&&Kt(S,v,m),Kt(S,"VER",u.ka),Cr(u,S),S}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new Ti({ab:v})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){ne.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fi(this)}b(cn,ne),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Oo(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_s(u),u=v);m.i.push(new Ce(m.Ya++,u)),m.I==3&&bi(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,cn.Z.N.call(this)};function Eu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Eu,Ge);function Tu(){Un.call(this),this.status=1}b(Tu,Un);function Fi(u){this.g=u}b(Fi,vu),Fi.prototype.ra=function(){ge(this.g,"a")},Fi.prototype.qa=function(u){ge(this.g,new Eu(u))},Fi.prototype.pa=function(u){ge(this.g,new Tu)},Fi.prototype.oa=function(){ge(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,uE=function(){return new Cs},lE=function(){return ta()},oE=Ee,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,Uc=vr,yo.COMPLETE="complete",aE=yo,Wl.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",ne.prototype.listen=ne.prototype.J,vl=Wl,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,rE=Zt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const dv="@firebase/firestore",mv="4.9.2";let en=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let co="12.3.0";const $r=new Tm("@firebase/firestore");function qa(){return $r.logLevel}function ot(r,...t){if($r.logLevel<=Vt.DEBUG){const i=t.map(xm);$r.debug(`Firestore (${co}): ${r}`,...i)}}function ms(r,...t){if($r.logLevel<=Vt.ERROR){const i=t.map(xm);$r.error(`Firestore (${co}): ${r}`,...i)}}function Wa(r,...t){if($r.logLevel<=Vt.WARN){const i=t.map(xm);$r.warn(`Firestore (${co}): ${r}`,...i)}}function xm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,cE(r,a,i)}function cE(r,t,i){let a=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ms(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||cE(t,l,a)}function bt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ps{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class hE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class dR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class mR{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ar,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ar)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new hE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class gR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new gR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _R(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Mm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=_R(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ut(r,t){return r<t?-1:r>t?1:0}function im(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?Ut(l,c):jd(l)?1:-1}return Ut(r.length,t.length)}const vR=55296,ER=57343;function jd(r){const t=r.charCodeAt(0);return t>=vR&&t<=ER}function to(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const pv="__name__";class Oi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Oi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Oi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Oi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Oi.isNumericId(t),l=Oi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Oi.extractNumericId(t).compare(Oi.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class de extends Oi{construct(t,i,a){return new de(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new de(i)}static emptyPath(){return new de([])}}const TR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Oi{construct(t,i,a){return new Ze(t,i,a)}static isValidIdentifier(t){return TR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pv}static keyField(){return new Ze([pv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(de.fromString(t))}static fromName(t){return new gt(de.fromString(t).popFirst(5))}static empty(){return new gt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return de.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new de(t.slice()))}}function SR(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function AR(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function yv(r){if(!gt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Vi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ve(r,t){const i={typeString:r};return t&&(i.value=t),i}function Gl(r,t){if(!fE(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const _v=-62135596800,vv=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*vv);return new le(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<_v)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_v;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ve("string",le._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new le(0,0))}static max(){return new St(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function bR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new le(i+1,0):new le(i,a));return new lr(l,gt.empty(),t)}function wR(r){return new lr(r.readTime,r.key,Ol)}class lr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(St.min(),gt.empty(),Ol)}static max(){return new lr(St.max(),gt.empty(),Ol)}}function RR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const CR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ho(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==CR)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function NR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(r){return r.name==="IndexedDbTransactionError"}class ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;const Um=-1;function hh(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function DR(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const dE="";function OR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Ev(t)),t=xR(r.get(i),t);return Ev(t)}function xR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case dE:i+="";break;default:i+=c}}return i}function Ev(r){return r+dE+""}function Tv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function mr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function mE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new $e(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(t){return new Sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class Sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Vn([])}unionWith(t){let i=new ze(Ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Vn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class gE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new gE("Invalid base64 string: "+c):c}})(t);return new Je(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=MR.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:be(r.seconds),nanos:be(r.nanos)}}function be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cr(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}const pE="server_timestamp",yE="__type__",_E="__previous_value__",vE="__local_write_time__";function km(r){return(r?.mapValue?.fields||{})[yE]?.stringValue===pE}function fh(r){const t=r.mapValue.fields[_E];return km(t)?fh(t):t}function xl(r){const t=ur(r.mapValue.fields[vE].timestampValue);return new le(t.seconds,t.nanos)}class VR{constructor(t,i,a,l,c,d,p,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const $c="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||$c}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}const EE="__type__",UR="__max__",Ic={mapValue:{}},TE="__vector__",Zc="value";function hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?km(r)?4:LR(r)?9007199254740991:kR(r)?10:11:vt(28295,{value:r})}function ji(r,t){if(r===t)return!0;const i=hr(r);if(i!==hr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xl(r).isEqual(xl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ur(l.timestampValue),p=ur(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return be(l.geoPointValue.latitude)===be(c.geoPointValue.latitude)&&be(l.geoPointValue.longitude)===be(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return be(l.integerValue)===be(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=be(l.doubleValue),p=be(c.doubleValue);return d===p?Xc(d)===Xc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return to(r.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Tv(d)!==Tv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ji(d[y],p[y])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find((i=>ji(i,t)))!==void 0}function eo(r,t){if(r===t)return 0;const i=hr(r),a=hr(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=be(c.integerValue||c.doubleValue),y=be(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Av(r.timestampValue,t.timestampValue);case 4:return Av(xl(r),xl(t));case 5:return im(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=cr(c),y=cr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=Ut(p[_],y[_]);if(E!==0)return E}return Ut(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(be(c.latitude),be(d.latitude));return p!==0?p:Ut(be(c.longitude),be(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return bv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Zc]?.arrayValue,E=y[Zc]?.arrayValue,b=Ut(_?.values?.length||0,E?.values?.length||0);return b!==0?b:bv(_,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const x=im(y[b],E[b]);if(x!==0)return x;const H=eo(p[y[b]],_[E[b]]);if(H!==0)return H}return Ut(y.length,E.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function Av(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=ur(r),a=ur(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function bv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=eo(i[l],a[l]);if(c)return c}return Ut(i.length,a.length)}function no(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return cr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=sm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${sm(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function kc(r){switch(hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return cr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return mr(a.fields,((c,d)=>{l+=c.length+kc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function rm(r){return!!r&&"integerValue"in r}function Lm(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function kR(r){return(r?.mapValue?.fields||{})[EE]?.stringValue===TE}function wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return mr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=wl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wl(r.arrayValue.values[i]);return t}return{...r}}function LR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===UR}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(i)}setAll(t){let i=Ze.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=wl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){mr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Tn(wl(this.value))}}function SE(r){const t=[];return mr(r.fields,((i,a)=>{const l=new Ze([i]);if(Lc(a)){const c=SE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Vn(t)}class nn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new nn(t,0,St.min(),St.min(),St.min(),Tn.empty(),0)}static newFoundDocument(t,i,a,l){return new nn(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new nn(t,2,i,St.min(),St.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,St.min(),St.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(t,i){this.position=t,this.inclusive=i}}function Cv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=eo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Iv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ji(r.position[i],t.position[i]))return!1;return!0}class Wc{constructor(t,i="asc"){this.field=t,this.dir=i}}function PR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class AE{}class Pe extends AE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new jR(t,i,a):i==="array-contains"?new HR(t,a):i==="in"?new GR(t,a):i==="not-in"?new FR(t,a):i==="array-contains-any"?new QR(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new BR(t,a):new qR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(eo(i,this.value)):i!==null&&hr(this.value)===hr(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends AE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Bi(t,i)}matches(t){return bE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bE(r){return r.op==="and"}function wE(r){return zR(r)&&bE(r)}function zR(r){for(const t of r.filters)if(t instanceof Bi)return!1;return!0}function am(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+no(r.value);if(wE(r))return r.filters.map((t=>am(t))).join(",");{const t=r.filters.map((i=>am(i))).join(",");return`${r.op}(${t})`}}function RE(r,t){return r instanceof Pe?(function(a,l){return l instanceof Pe&&a.op===l.op&&a.field.isEqual(l.field)&&ji(a.value,l.value)})(r,t):r instanceof Bi?(function(a,l){return l instanceof Bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&RE(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function CE(r){return r instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(r):r instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(CE).join(" ,")+"}"})(r):"Filter"}class jR extends Pe{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class BR extends Pe{constructor(t,i){super(t,"in",i),this.keys=IE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class qR extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=IE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function IE(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class HR extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Lm(i)&&Vl(i.arrayValue,this.value)}}class GR extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class FR extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class QR extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class KR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Nv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new KR(r,t,i,a,l,c,d)}function Pm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>am(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),hh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>no(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>no(a))).join(",")),t.Te=i}return t.Te}function zm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!PR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!RE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Iv(r.startAt,t.startAt)&&Iv(r.endAt,t.endAt)}function om(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YR(r,t,i,a,l,c,d,p){return new dh(r,t,i,a,l,c,d,p)}function mh(r){return new dh(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function XR(r){return r.collectionGroup!==null}function Rl(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(Ze.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Wc(c,a))})),i.has(Ze.keyField().canonicalString())||t.Ie.push(new Wc(Ze.keyField(),a))}return t.Ie}function Ui(r){const t=bt(r);return t.Ee||(t.Ee=$R(t,Rl(r))),t.Ee}function $R(r,t){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Wc(l.field,c)}));const i=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function lm(r,t,i){return new dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return zm(Ui(r),Ui(t))&&r.limitType===t.limitType}function NE(r){return`${Pm(Ui(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>CE(l))).join(", ")}]`),hh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>no(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>no(l))).join(",")),`Target(${a})`})(Ui(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Rl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Cv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Rl(a),l)||a.endAt&&!(function(d,p,y){const _=Cv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Rl(a),l))})(r,t)}function ZR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function DE(r){return(t,i)=>{let a=!1;for(const l of Rl(r)){const c=JR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function JR(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?eo(y,_):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){mr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}const WR=new me(gt.comparator);function gs(){return WR}const OE=new me(gt.comparator);function El(...r){let t=OE;for(const i of r)t=t.insert(i.key,i);return t}function xE(r){let t=OE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Qr(){return Cl()}function ME(){return Cl()}function Cl(){return new Jr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const t2=new me(gt.comparator),e2=new ze(gt.comparator);function kt(...r){let t=e2;for(const i of r)t=t.add(i);return t}const n2=new ze(Ut);function i2(){return n2}function jm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(t)?"-0":t}}function VE(r){return{integerValue:""+r}}function s2(r,t){return DR(t)?VE(t):jm(r,t)}class yh{constructor(){this._=void 0}}function r2(r,t,i){return r instanceof th?(function(l,c){const d={fields:{[yE]:{stringValue:pE},[vE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&km(c)&&(c=fh(c)),c&&(d.fields[_E]=c),{mapValue:d}})(i,t):r instanceof io?kE(r,t):r instanceof Ul?LE(r,t):(function(l,c){const d=UE(l,c),p=Ov(d)+Ov(l.Ae);return rm(d)&&rm(l.Ae)?VE(p):jm(l.serializer,p)})(r,t)}function a2(r,t,i){return r instanceof io?kE(r,t):r instanceof Ul?LE(r,t):i}function UE(r,t){return r instanceof eh?(function(a){return rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class th extends yh{}class io extends yh{constructor(t){super(),this.elements=t}}function kE(r,t){const i=PE(t);for(const a of r.elements)i.some((l=>ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends yh{constructor(t){super(),this.elements=t}}function LE(r,t){let i=PE(t);for(const a of r.elements)i=i.filter((l=>!ji(l,a)));return{arrayValue:{values:i}}}class eh extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ov(r){return be(r.integerValue||r.doubleValue)}function PE(r){return Lm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class o2{constructor(t,i){this.field=t,this.transform=i}}function l2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof io&&l instanceof io||a instanceof Ul&&l instanceof Ul?to(a.elements,l.elements,ji):a instanceof eh&&l instanceof eh?ji(a.Ae,l.Ae):a instanceof th&&l instanceof th})(r.transform,t.transform)}class u2{constructor(t,i){this.version=t,this.transformResults=i}}class ki{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ki}static exists(t){return new ki(void 0,t)}static updateTime(t){return new ki(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function zE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new BE(r.key,ki.none()):new Fl(r.key,r.data,ki.none());{const i=r.data,a=Tn.empty();let l=new ze(Ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new gr(r.key,a,new Vn(l.toArray()),ki.none())}}function c2(r,t,i){r instanceof Fl?(function(l,c,d){const p=l.value.clone(),y=Mv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof gr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Mv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(jE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Il(r,t,i,a){return r instanceof Fl?(function(c,d,p,y){if(!Pc(c.precondition,d))return p;const _=c.value.clone(),E=Vv(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof gr?(function(c,d,p,y){if(!Pc(c.precondition,d))return p;const _=Vv(c.fieldTransforms,y,d),E=d.data;return E.setAll(jE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function h2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=UE(a.transform,l||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(a.field,c))}return i||null}function xv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&to(a,l,((c,d)=>l2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gr extends _h{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Mv(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,a2(d,p,i[l]))}return a}function Vv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,r2(c,d,t))}return a}class BE extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f2 extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class d2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&c2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Il(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Il(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=ME();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=zE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((i,a)=>xv(i,a)))&&to(this.baseMutations,t.baseMutations,((i,a)=>xv(i,a)))}}class Bm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return t2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Bm(t,i,a,l)}}class m2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class g2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Me,zt;function p2(r){switch(r){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function qE(r){if(r===void 0)return ms("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Me.OK:return Z.OK;case Me.CANCELLED:return Z.CANCELLED;case Me.UNKNOWN:return Z.UNKNOWN;case Me.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Me.INTERNAL:return Z.INTERNAL;case Me.UNAVAILABLE:return Z.UNAVAILABLE;case Me.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Me.NOT_FOUND:return Z.NOT_FOUND;case Me.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Me.ABORTED:return Z.ABORTED;case Me.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Me.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:r})}}(zt=Me||(Me={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function y2(){return new TextEncoder}const _2=new rr([4294967295,4294967295],0);function Uv(r){const t=y2().encode(r),i=new sE;return i.update(t),new Uint8Array(i.digest())}function kv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new rr([i,a],0),new rr([l,c],0)]}class qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(a<0)throw new Tl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=rr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(rr.fromNumber(a)));return l.compare(_2)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Uv(t),[a,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new qm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Uv(t),[a,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(St.min(),l,new me(Ut),gs(),kt())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,kt(),kt(),kt())}}class zc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class HE{constructor(t,i){this.targetId=t,this.Ce=i}}class GE{constructor(t,i,a=Je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Lv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),a=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Pv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class v2{constructor(t){this.Ge=t,this.ze=new Map,this.je=gs(),this.Je=Nc(),this.He=Nc(),this.Ye=new me(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(om(c))if(a===0){const d=new gt(c.path);this.et(i,d,nn.newNoDocument(d,St.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=cr(a).toUint8Array()}catch(y){if(y instanceof gE)return Wa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new qm(d,l,c)}catch(y){return Wa(y instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&om(p.target)){const y=new gt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,nn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=kt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ye,this.je,a);return this.je=gs(),this.Je=Nc(),this.He=Nc(),this.Ye=new me(Ut),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Lv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Lv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new me(gt.comparator)}function Pv(){return new me(gt.comparator)}const E2={asc:"ASCENDING",desc:"DESCENDING"},T2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S2={and:"AND",or:"OR"};class A2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(r,t){return r.useProto3Json||hh(t)?t:{value:t}}function nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function b2(r,t){return nh(r,t.toTimestamp())}function Li(r){return Qt(!!r,49232),St.fromTimestamp((function(i){const a=ur(i);return new le(a.seconds,a.nanos)})(r))}function Hm(r,t){return cm(r,t).canonicalString()}function cm(r,t){const i=(function(l){return new de(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function QE(r){const t=de.fromString(r);return Qt(ZE(t),10190,{key:t.toString()}),t}function hm(r,t){return Hm(r.databaseId,t.path)}function Bd(r,t){const i=QE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(YE(i))}function KE(r,t){return Hm(r.databaseId,t)}function w2(r){const t=QE(r);return t.length===4?de.emptyPath():YE(t)}function fm(r){return new de(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function YE(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zv(r,t,i){return{name:hm(r,t),fields:i.value.mapValue.fields}}function R2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Qt(E===void 0||typeof E=="string",58123),Je.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Je.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?Z.UNKNOWN:qE(_.code);return new ct(E,_.message||"")})(d);i=new GE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(r,a.document.name),c=Li(a.document.updateTime),d=a.document.createTime?Li(a.document.createTime):St.min(),p=new Tn({mapValue:{fields:a.document.fields}}),y=nn.newFoundDocument(l,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new zc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Bd(r,a.document),c=a.readTime?Li(a.readTime):St.min(),d=nn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Bd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new g2(l,c),p=a.targetId;i=new HE(p,d)}}return i}function C2(r,t){let i;if(t instanceof Fl)i={update:zv(r,t.key,t.value)};else if(t instanceof BE)i={delete:hm(r,t.key)};else if(t instanceof gr)i={update:zv(r,t.key,t.data),updateMask:k2(t.fieldMask)};else{if(!(t instanceof f2))return vt(16599,{Vt:t.type});i={verify:hm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof io)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:b2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function I2(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(St.min())&&(d=Li(c)),new u2(d,l.transformResults||[])})(i,t)))):[]}function N2(r,t){return{documents:[KE(r,t.path)]}}function D2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=KE(r,l);const c=(function(_){if(_.length!==0)return $E(Bi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(x){return{field:Ga(x.field),direction:M2(x.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=um(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function O2(r){let t=w2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(b){const x=XE(b);return x instanceof Bi&&wE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(W){return new Wc(Fa(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let x;return x=typeof b=="object"?b.value:b,hh(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(b){const x=!!b.before,H=b.values||[];return new Jc(H,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,H=b.values||[];return new Jc(H,x)})(i.endAt)),YR(t,l,d,c,p,"F",y,_)}function x2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function XE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Pe.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>XE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function M2(r){return E2[r]}function V2(r){return T2[r]}function U2(r){return S2[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Ze.fromServerFormat(r.fieldPath)}function $E(r){return r instanceof Pe?(function(i){if(i.op==="=="){if(Rv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(wv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Rv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(wv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:V2(i.op),value:i.value}}})(r):r instanceof Bi?(function(i){const a=i.getFilters().map((l=>$E(l)));return a.length===1?a[0]:{compositeFilter:{op:U2(i.op),filters:a}}})(r):vt(54877,{filter:r})}function k2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ZE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class er{constructor(t,i,a,l,c=St.min(),d=St.min(),p=Je.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class L2{constructor(t){this.yt=t}}function P2(r){const t=O2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lm(t,t.limit,"L"):t}class z2{constructor(){this.Cn=new j2}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(lr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class j2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(de.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(de.comparator)).toArray()}}const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JE=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(JE,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class so{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}const Bv="LruGarbageCollector",B2=1048576;function qv([r,t],[i,a]){const l=Ut(r,i);return l===0?Ut(t,a):l}class q2{constructor(t){this.Ir=t,this.buffer=new ze(qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class H2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(Bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?ot(Bv,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Vr(3e5)}))}}class G2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ch.ce);const a=new q2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(jv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),qa()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function F2(r,t){return new G2(r,t)}class Q2{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class K2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Y2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Il(a.mutation,l,Vn.empty(),le.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const l=Qr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=El();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Qr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=gs();const d=Cl(),p=(function(){return Cl()})();return i.forEach(((y,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof gr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Il(E.mutation,_,E.mutation.getFieldMask(),le.now())):d.set(_.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new K2(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Cl();let l=new me(((d,p)=>d-p)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||Vn.empty();E=p.applyToLocalView(_,E),a.set(y,E);const b=(l.get(p.batchId)||kt()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,b=ME();E.forEach((x=>{if(!c.has(x)){const H=zE(i.get(x),a.get(x));H!==null&&b.set(x,H),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):XR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Qr());let p=Ol,y=c;return d.next((_=>X.forEach(_,((E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next((x=>{y=y.insert(E,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,kt()))).next((E=>({batchId:p,changes:xE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=El();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(b,x){return new dh(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((E=>{E.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,nn.newInvalidDocument(E)))}));let p=El();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Il(E.mutation,_,Vn.empty(),le.now()),ph(i,_)&&(p=p.insert(y,_))})),p}))}}class X2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:P2(l.bundledQuery),readTime:Li(l.readTime)}})(i)),X.resolve()}}class $2{constructor(){this.overlays=new me(gt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Qr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Qr(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new me(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=Qr(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Qr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new m2(i,a));let c=this.qr.get(i);c===void 0&&(c=kt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Z2{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Gm{constructor(){this.Qr=new ze(He.$r),this.Ur=new ze(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new gt(new de([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new de([])),a=new He(i,t),l=new He(i,t+1);let c=kt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class J2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(He.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new d2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Ut);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new He(new gt(c),0);let p=new ze(Ut);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new He(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class W2{constructor(t){this.ri=t,this.docs=(function(){return new me(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let a=gs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=gs();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||RR(wR(E),a)<=0||(l.has(E.key)||ph(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new tC(this)}getSize(t){return X.resolve(this.size)}}class tC extends Q2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class eC{constructor(t){this.persistence=t,this.si=new Jr((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Gm,this.targetCount=0,this.ai=so.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new so(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class WE{constructor(t,i){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new Z2,this.referenceDelegate=t(this),this.Pi=new eC(this),this.indexManager=new z2,this.remoteDocumentCache=(function(l){return new W2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new L2(i),this.Ii=new X2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new $2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new J2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new nC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class nC extends IR{constructor(t){super(),this.currentSequenceNumber=t}}class Fm{constructor(t){this.persistence=t,this.Ri=new Gm,this.Vi=null}static mi(t){return new Fm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ih{constructor(t,i){this.persistence=t,this.pi=new Jr((a=>OR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=F2(this,i)}static mi(t,i){return new ih(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Qm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Qm(t,i.fromCache,a,l)}}class iC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class sC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GS()?8:NR(sn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new iC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(qa()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(qa()<=Vt.DEBUG&&ot("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(qa()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(i))):X.resolve())}ys(t,i){if(Dv(i))return X.resolve(null);let a=Ui(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=lm(i,null,"F"),a=Ui(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=kt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,lm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return Dv(i)||l.isEqual(St.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(qa()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.vs(t,d,i,bR(l,Ol)).next((p=>p)))}))}Ds(t,i){let a=new ze(DE(t));return i.forEach(((l,c)=>{ph(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return qa()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(t,i,lr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Km="LocalStore",rC=3e8;class aC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new me(Ut),this.xs=new Jr((c=>Pm(c)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Y2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function oC(r,t,i,a){return new aC(r,t,i,a)}async function tT(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=kt();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function lC(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const b=_.batch,x=b.keys();let H=X.resolve();return x.forEach((W=>{H=H.next((()=>E.getEntry(y,W))).next((st=>{const J=_.docVersions.get(W);Qt(J!==null,48541),st.version.compareTo(J)<0&&(b.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),E.addEntry(st)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=kt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function eT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function uC(r,t){const i=bt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((E,b)=>{const x=l.get(b);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,b))));let H=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(Je.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,a)),l=l.insert(b,H),(function(st,J,mt){return st.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=rC?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(x,H,E)&&p.push(i.Pi.updateTargetData(c,H))}));let y=gs(),_=kt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(cC(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(St.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function cC(r,t,i){let a=kt(),l=kt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=gs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ot(Km,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function hC(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function fC(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new er(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function dm(r,t,i){const a=bt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;ot(Km,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Hv(r,t,i){const a=bt(r);let l=St.min(),c=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const b=bt(y),x=b.xs.get(E);return x!==void 0?X.resolve(b.Ms.get(x)):b.Pi.getTargetData(_,E)})(a,d,Ui(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:kt()))).next((p=>(dC(a,ZR(t),p),{documents:p,Qs:c})))))}function dC(r,t,i){let a=r.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Gv{constructor(){this.activeTargetIds=i2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mC{constructor(){this.Mo=new Gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Gv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gC{Oo(t){}shutdown(){}}const Fv="ConnectivityMonitor";class Qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(Fv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(Fv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function mm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const qd="RestConnection",pC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=mm(),p=this.zo(t,i.toUriEncodedString());ot(qd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),E=oo(_);return this.Jo(t,p,y,a,E).then((b=>(ot(qd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Wa(qd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=pC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class _C{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const tn="WebChannelConnection";class vC extends yC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=mm();return new Promise(((p,y)=>{const _=new rE;_.setWithCredentials(!0),_.listenOnce(aE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uc.NO_ERROR:const b=_.getResponseJson();ot(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Uc.TIMEOUT:ot(tn,`RPC '${t}' ${d} timed out`),y(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const x=_.getStatus();if(ot(tn,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const st=(function(mt){const Tt=mt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Tt)>=0?Tt:Z.UNKNOWN})(W.status);y(new ct(st,W.message))}else y(new ct(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(tn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);ot(tn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=uE(),p=lE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");ot(tn,`Creating RPC '${t}' stream ${l}: ${E}`,y);const b=d.createWebChannel(E,y);this.I_(b);let x=!1,H=!1;const W=new _C({Yo:J=>{H?ot(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(x||(ot(tn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),x=!0),ot(tn,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Zo:()=>b.close()}),st=(J,mt,Tt)=>{J.listen(mt,(_t=>{try{Tt(_t)}catch(jt){setTimeout((()=>{throw jt}),0)}}))};return st(b,vl.EventType.OPEN,(()=>{H||(ot(tn,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),st(b,vl.EventType.CLOSE,(()=>{H||(H=!0,ot(tn,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(b))})),st(b,vl.EventType.ERROR,(J=>{H||(H=!0,Wa(tn,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),st(b,vl.EventType.MESSAGE,(J=>{if(!H){const mt=J.data[0];Qt(!!mt,16349);const Tt=mt,_t=Tt?.error||Tt[0]?.error;if(_t){ot(tn,`RPC '${t}' stream ${l} received error:`,_t);const jt=_t.status;let $t=(function(A){const C=Me[A];if(C!==void 0)return qE(C)})(jt),Ot=_t.message;$t===void 0&&($t=Z.INTERNAL,Ot="Unknown error status: "+jt+" with message "+_t.message),H=!0,W.a_(new ct($t,Ot)),b.close()}else ot(tn,`RPC '${t}' stream ${l} received:`,mt),W.u_(mt)}})),st(p,oE.STAT_EVENT,(J=>{J.stat===nm.PROXY?ot(tn,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===nm.NOPROXY&&ot(tn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Hd(){return typeof document<"u"?document:null}function Eh(r){return new A2(r,!0)}class nT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kv="PersistentStream";class iT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ms(i.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(Kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EC extends iT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=R2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Li(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=om(y)?{documents:N2(c,y)}:{query:D2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=FE(c,d.resumeToken);const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=nh(c,d.snapshotVersion.toTimestamp());const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=x2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.q_(i)}}class TC extends iT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=I2(t.writeResults,t.commitTime),a=Li(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=fm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>C2(this.serializer,a)))};this.q_(i)}}class SC{}class AC extends SC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,cm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,cm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class wC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Wr(this)&&(ot(Zr,"Restarting streams for network reachability change."),await(async function(y){const _=bt(y);_.Ea.add(4),await Kl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Th(_)})(this))}))})),this.Ra=new bC(a,l)}}async function Th(r){if(Wr(r))for(const t of r.da)await t(!0)}async function Kl(r){for(const t of r.da)await t(!1)}function sT(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Zm(i)?$m(i):mo(i).O_()&&Xm(i,t))}function Ym(r,t){const i=bt(r),a=mo(i);i.Ia.delete(t),a.O_()&&rT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Wr(i)&&i.Ra.set("Unknown"))}function Xm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(r).Y_(t)}function rT(r,t){r.Va.Ue(t),mo(r).Z_(t)}function $m(r){r.Va=new v2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Ra.ua()}function Zm(r){return Wr(r)&&!mo(r).x_()&&r.Ia.size>0}function Wr(r){return bt(r).Ea.size===0}function aT(r){r.Va=void 0}async function RC(r){r.Ra.set("Online")}async function CC(r){r.Ia.forEach(((t,i)=>{Xm(r,t)}))}async function IC(r,t){aT(r),Zm(r)?(r.Ra.ha(t),$m(r)):r.Ra.set("Unknown")}async function NC(r,t,i){if(r.Ra.set("Online"),t instanceof GE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){ot(Zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(r,a)}else if(t instanceof zc?r.Va.Ze(t):t instanceof HE?r.Va.st(t):r.Va.tt(t),!i.isEqual(St.min()))try{const a=await eT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Je.EMPTY_BYTE_STRING,E.snapshotVersion)),rT(c,y);const b=new er(E.target,y,_,E.sequenceNumber);Xm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ot(Zr,"Failed to raise snapshot:",a),await sh(r,a)}}async function sh(r,t,i){if(!fo(t))throw t;r.Ea.add(1),await Kl(r),r.Ra.set("Offline"),i||(i=()=>eT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Zr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function oT(r,t){return t().catch((i=>sh(r,i,t)))}async function Sh(r){const t=bt(r),i=fr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Um;for(;DC(t);)try{const l=await hC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,OC(t,l)}catch(l){await sh(t,l)}lT(t)&&uT(t)}function DC(r){return Wr(r)&&r.Ta.length<10}function OC(r,t){r.Ta.push(t);const i=fr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function lT(r){return Wr(r)&&!fr(r).x_()&&r.Ta.length>0}function uT(r){fr(r).start()}async function xC(r){fr(r).ra()}async function MC(r){const t=fr(r);for(const i of r.Ta)t.ea(i.mutations)}async function VC(r,t,i){const a=r.Ta.shift(),l=Bm.from(a,t,i);await oT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Sh(r)}async function UC(r,t){t&&fr(r).X_&&await(async function(a,l){if((function(d){return p2(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await oT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(r,t),lT(r)&&uT(r)}async function Yv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),ot(Zr,"RemoteStore received new credentials");const a=Wr(i);i.Ea.add(3),await Kl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function kC(r,t){const i=bt(r);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function mo(r){return r.ma||(r.ma=(function(i,a,l){const c=bt(i);return c.sa(),new EC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:RC.bind(null,r),t_:CC.bind(null,r),r_:IC.bind(null,r),H_:NC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Zm(r)?$m(r):r.Ra.set("Unknown")):(await r.ma.stop(),aT(r))}))),r.ma}function fr(r){return r.fa||(r.fa=(function(i,a,l){const c=bt(i);return c.sa(),new TC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:xC.bind(null,r),r_:UC.bind(null,r),ta:MC.bind(null,r),na:VC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Zr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Jm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Jm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(r,t){if(ms("AsyncQueue",`${t}: ${r}`),fo(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class $a{static emptySet(t){return new $a(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=El(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof $a)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new $a;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Xv{constructor(){this.ga=new me(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ro{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ro(t,i,$a.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class LC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class PC{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=bt(i),c=l.queries;l.queries=$v(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function $v(){return new Jr((r=>NE(r)),gh)}async function cT(r,t){const i=bt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new LC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Wm(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&tg(i)}async function hT(r,t){const i=bt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function zC(r,t){const i=bt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&tg(i)}function jC(r,t,i){const a=bt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function tg(r){r.Ca.forEach((t=>{t.next()}))}var gm,Zv;(Zv=gm||(gm={})).Ma="default",Zv.Cache="cache";class fT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ro(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gm.Cache}}class dT{constructor(t){this.key=t}}class mT{constructor(t){this.key=t}}class BC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=DE(t),this.tu=new $a(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,b)=>{const x=l.get(E),H=ph(this.query,b)?b:null,W=!!x&&this.mutatedKeys.has(x.key),st=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;x&&H?x.data.isEqual(H.data)?W!==st&&(a.track({type:3,doc:H}),J=!0):this.su(x,H)||(a.track({type:2,doc:H}),J=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(p=!0)):!x&&H?(a.track({type:0,doc:H}),J=!0):x&&!H&&(a.track({type:1,doc:x}),J=!0,(y||_)&&(p=!0)),J&&(H?(d=d.add(H),c=st?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,b)=>(function(H,W){const st=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return st(H)-st(W)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new ro(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new mT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new dT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eg="SyncEngine";class qC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class HC{constructor(t){this.key=t,this.hu=!1}}class GC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((p=>NE(p)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new me(gt.comparator),this.Au=new Map,this.Ru=new Gm,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FC(r,t,i=!0){const a=ET(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await gT(a,t,i,!0),l}async function QC(r,t){const i=ET(r);await gT(i,t,!0,!1)}async function gT(r,t,i,a){const l=await fC(r.localStore,Ui(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await KC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&sT(r.remoteStore,l),p}async function KC(r,t,i,a,l){r.pu=(b,x,H)=>(async function(st,J,mt,Tt){let _t=J.view.ru(mt);_t.Cs&&(_t=await Hv(st.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,_t))));const jt=Tt&&Tt.targetChanges.get(J.targetId),$t=Tt&&Tt.targetMismatches.get(J.targetId)!=null,Ot=J.view.applyChanges(_t,st.isPrimaryClient,jt,$t);return Wv(st,J.targetId,Ot.au),Ot.snapshot})(r,b,x,H);const c=await Hv(r.localStore,t,!0),d=new BC(t,c.Qs),p=d.ru(c.documents),y=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Wv(r,i,_.au);const E=new qC(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function YC(r,t,i){const a=bt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await dm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Ym(a.remoteStore,l.targetId),pm(a,l.targetId)})).catch(ho)):(pm(a,l.targetId),await dm(a.localStore,l.targetId,!0))}async function XC(r,t){const i=bt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ym(i.remoteStore,a.targetId))}async function $C(r,t,i){const a=iI(r);try{const l=await(function(d,p){const y=bt(d),_=le.now(),E=p.reduce(((H,W)=>H.add(W.key)),kt());let b,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=gs(),st=kt();return y.Ns.getEntries(H,E).next((J=>{W=J,W.forEach(((mt,Tt)=>{Tt.isValidDocument()||(st=st.add(mt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,W))).next((J=>{b=J;const mt=[];for(const Tt of p){const _t=h2(Tt,b.get(Tt.key).overlayedDocument);_t!=null&&mt.push(new gr(Tt.key,_t,SE(_t.value.mapValue),ki.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,mt,p)})).next((J=>{x=J;const mt=J.applyToLocalDocumentSet(b,st);return y.documentOverlayCache.saveOverlays(H,J.batchId,mt)}))})).then((()=>({batchId:x.batchId,changes:xE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new me(Ut)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Yl(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=Wm(l,"Failed to persist write");i.reject(c)}}async function pT(r,t){const i=bt(r);try{const a=await uC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await ho(a)}}function Jv(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=bt(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,b)=>{for(const x of b.Sa)x.va(p)&&(_=!0)})),_&&tg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ZC(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new me(gt.comparator);d=d.insert(c,nn.newNoDocument(c,St.min()));const p=kt().add(c),y=new vh(St.min(),new Map,new me(Ut),d,p);await pT(a,y),a.du=a.du.remove(c),a.Au.delete(t),ng(a)}else await dm(a.localStore,t,!1).then((()=>pm(a,t,i))).catch(ho)}async function JC(r,t){const i=bt(r),a=t.batch.batchId;try{const l=await lC(i.localStore,t);_T(i,a,null),yT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await ho(l)}}async function WC(r,t,i){const a=bt(r);try{const l=await(function(d,p){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((b=>(Qt(b!==null,37113),E=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);_T(a,t,i),yT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await ho(l)}}function yT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function _T(r,t,i){const a=bt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function pm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||vT(r,a)}))}function vT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Ym(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ng(r))}function Wv(r,t,i){for(const a of i)a instanceof dT?(r.Ru.addReference(a.key,t),tI(r,a)):a instanceof mT?(ot(eg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||vT(r,a.key)):vt(19791,{wu:a})}function tI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(eg,"New document in limbo: "+i),r.Eu.add(a),ng(r))}function ng(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(de.fromString(t)),a=r.fu.next();r.Au.set(a,new HC(i)),r.du=r.du.insert(i,a),sT(r.remoteStore,new er(Ui(mh(i.path)),a,"TargetPurposeLimboResolution",ch.ce))}}async function Yl(r,t,i){const a=bt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){l.push(_);const E=Qm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const E=bt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(_,(x=>X.forEach(x.Es,(H=>E.persistence.referenceDelegate.addReference(b,x.targetId,H))).next((()=>X.forEach(x.ds,(H=>E.persistence.referenceDelegate.removeReference(b,x.targetId,H)))))))))}catch(b){if(!fo(b))throw b;ot(Km,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const H=E.Ms.get(x),W=H.snapshotVersion,st=H.withLastLimboFreeSnapshotVersion(W);E.Ms=E.Ms.insert(x,st)}}})(a.localStore,c))}async function eI(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){ot(eg,"User change. New user:",t.toKey());const a=await tT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ls)}}function nI(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return kt().add(a.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function ET(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=pT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZC.bind(null,t),t.Pu.H_=zC.bind(null,t.eventManager),t.Pu.yu=jC.bind(null,t.eventManager),t}function iI(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WC.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return oC(this.persistence,new sC,t.initialUser,this.serializer)}Cu(t){return new WE(Fm.mi,this.serializer)}Du(t){return new mC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class sI extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new H2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new WE((a=>ih.mi(a,i)),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Jv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=eI.bind(null,this.syncEngine),await kC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new PC})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=(function(c){return new vC(c)})(t.databaseInfo);return(function(c,d,p,y){return new AC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new wC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Jv(this.syncEngine,i,0)),(function(){return Qv.v()?new Qv:new gC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,E){const b=new GC(l,c,d,p,y,_);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);ot(Zr,"RemoteStore shutting down."),a.Ea.add(5),await Kl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class TT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const dr="FirestoreClient";class rI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Wm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(dr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await tT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function t0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await aI(r);ot(dr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Yv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Yv(t.remoteStore,l))),r._onlineComponents=t}async function aI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(dr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Wa("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new rh)}}else ot(dr,"Using default OfflineComponentProvider"),await Gd(r,new sI(void 0));return r._offlineComponents}async function ST(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(dr,"Using user provided OnlineComponentProvider"),await t0(r,r._uninitializedComponentsProvider._online)):(ot(dr,"Using default OnlineComponentProvider"),await t0(r,new ym))),r._onlineComponents}function oI(r){return ST(r).then((t=>t.syncEngine))}async function _m(r){const t=await ST(r),i=t.eventManager;return i.onListen=FC.bind(null,t.syncEngine),i.onUnlisten=YC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=QC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=XC.bind(null,t.syncEngine),i}function lI(r,t,i={}){const a=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new TT({next:x=>{E.Nu(),d.enqueueAndForget((()=>hT(c,b)));const H=x.docs.has(p);!H&&x.fromCache?_.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&x.fromCache&&y&&y.source==="server"?_.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),b=new fT(mh(p.path),E,{includeMetadataChanges:!0,qa:!0});return cT(c,b)})(await _m(r),r.asyncQueue,t,i,a))),a.promise}function AT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const e0=new Map;const bT="firestore.googleapis.com",n0=!0;class i0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bT,this.ssl=n0}else this.host=t.host,this.ssl=t.ssl??n0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<B2)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ig{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new fR;switch(a.type){case"firstParty":return new pR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=e0.get(i);a&&(ot("ComponentProvider","Removing Datastore"),e0.delete(i),a.terminate())})(this),Promise.resolve()}}function uI(r,t,i,a={}){r=Vi(r,ig);const l=oo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(v0(`https://${p}`),E0("Firestore",!0)),c.host!==bT&&c.host!==p&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!or(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=en.MOCK_USER;else{_=US(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(b)}r._authCredentials=new dR(new hE(_,E))}}class Ah{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ah(this.firestore,t,this._query)}}class Ue{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Gl(i,Ue._jsonSchema))return new Ue(t,a||null,new gt(de.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Ve("string",Ue._jsonSchemaVersion),referencePath:Ve("string")};class kl extends Ah{constructor(t,i,a){super(t,i,mh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new gt(t))}withConverter(t){return new kl(this.firestore,t,this._path)}}function On(r,t,...i){if(r=fn(r),arguments.length===1&&(t=Mm.newId()),SR("doc","path",t),r instanceof ig){const a=de.fromString(t,...i);return yv(a),new Ue(r,null,new gt(a))}{if(!(r instanceof Ue||r instanceof kl))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(de.fromString(t,...i));return yv(a),new Ue(r.firestore,r instanceof kl?r.converter:null,new gt(a))}}const s0="AsyncQueue";class r0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nT(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&ot(s0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;ot(s0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",a0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Jm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:a0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function a0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function o0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ao extends ig{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new r0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new r0(t),this._firestoreClient=void 0,await t}}}function cI(r,t){const i=typeof r=="object"?r:b0(),a=typeof r=="string"?r:$c,l=Am(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=MS("firestore");c&&uI(l,...c)}return l}function sg(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hI(r),r._firestoreClient}function hI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new VR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,AT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new rI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xn(Je.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Xn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,Xn._jsonSchema))return Xn.fromBase64String(t.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ve("string",Xn._jsonSchemaVersion),bytes:Ve("string")};class bh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wh{constructor(t){this._methodName=t}}class Pi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Ve("string",Pi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class zi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new zi(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Ve("string",zi._jsonSchemaVersion),vectorValues:Ve("object")};const fI=/^__.*__$/;class dI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class wT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function RT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Rh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Rh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ah(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(RT(this.Ac)&&fI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class mI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}Cc(t,i,a,l=!1){return new Rh({Ac:t,methodName:i,Dc:a,path:Ze.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CT(r){const t=r._freezeSettings(),i=Eh(r._databaseId);return new mI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function gI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);ag("Data must be an object, but it was:",d,a);const p=IT(a,d);let y,_;if(c.merge)y=new Vn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const x=vm(t,b,i);if(!d.contains(x))throw new ct(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);DT(E,x)||E.push(x)}y=new Vn(E),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new dI(new Tn(p),y,_)}class Ch extends wh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}function pI(r,t,i){return new Rh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class rg extends wh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=pI(this,t,!0),a=this.vc.map((c=>Xl(c,i))),l=new io(a);return new o2(t.path,l)}isEqual(t){return t instanceof rg&&or(this.vc,t.vc)}}function yI(r,t,i,a){const l=r.Cc(1,t,i);ag("Data must be an object, but it was:",l,a);const c=[],d=Tn.empty();mr(a,((y,_)=>{const E=og(t,y,i);_=fn(_);const b=l.yc(E);if(_ instanceof Ch)c.push(E);else{const x=Xl(_,b);x!=null&&(c.push(E),d.set(E,x))}}));const p=new Vn(c);return new wT(d,p,l.fieldTransforms)}function _I(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[vm(t,a,i)],y=[l];if(c.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(vm(t,c[x])),y.push(c[x+1]);const _=[],E=Tn.empty();for(let x=p.length-1;x>=0;--x)if(!DT(_,p[x])){const H=p[x];let W=y[x];W=fn(W);const st=d.yc(H);if(W instanceof Ch)_.push(H);else{const J=Xl(W,st);J!=null&&(_.push(H),E.set(H,J))}}const b=new Vn(_);return new wT(E,b,d.fieldTransforms)}function Xl(r,t){if(NT(r=fn(r)))return ag("Unsupported field value:",t,r),IT(r,t);if(r instanceof wh)return(function(a,l){if(!RT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Xl(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return s2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=le.fromDate(a);return{timestampValue:nh(l.serializer,c)}}if(a instanceof le){const c=new le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(a instanceof Pi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xn)return{bytesValue:FE(l.serializer,a._byteString)};if(a instanceof Ue){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof zi)return(function(d,p){return{mapValue:{fields:{[EE]:{stringValue:TE},[Zc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return jm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Vm(a)}`)})(r,t)}function IT(r,t){const i={};return mE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mr(r,((a,l)=>{const c=Xl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function NT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof Pi||r instanceof Xn||r instanceof Ue||r instanceof wh||r instanceof zi)}function ag(r,t,i){if(!NT(i)||!fE(i)){const a=Vm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function vm(r,t,i){if((t=fn(t))instanceof bh)return t._internalPath;if(typeof t=="string")return og(r,t);throw ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const vI=new RegExp("[~\\*/\\[\\]]");function og(r,t,i){if(t.search(vI)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new bh(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ah(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ct(Z.INVALID_ARGUMENT,p+r+y)}function DT(r,t){return r.some((i=>i.isEqual(t)))}class OT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new EI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(xT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class EI extends OT{data(){return super.data()}}function xT(r,t){return typeof t=="string"?og(r,t):t instanceof bh?t._internalPath:t._delegate._internalPath}function TI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SI{convertValue(t,i="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return mr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>be(a.doubleValue)));return new zi(i)}convertGeoPoint(t){return new Pi(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=fh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(xl(t));default:return null}}convertTimestamp(t){const i=ur(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=de.fromString(t);Qt(ZE(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||ms(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function AI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends OT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(xT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Ve("string",Kr._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class jc extends Kr{data(t={}){return super.data(t)}}class Za{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new Sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:bI(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function bI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function Fd(r){r=Vi(r,Ue);const t=Vi(r.firestore,ao);return lI(sg(t),r._key).then((i=>UT(t,r,i)))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Ve("string",Za._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class MT extends SI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function wI(r,t,i){r=Vi(r,Ue);const a=Vi(r.firestore,ao),l=AI(r.converter,t);return VT(a,[gI(CT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ki.none())])}function li(r,t,i,...a){r=Vi(r,Ue);const l=Vi(r.firestore,ao),c=CT(l);let d;return d=typeof(t=fn(t))=="string"||t instanceof bh?_I(c,"updateDoc",r._key,t,i,a):yI(c,"updateDoc",r._key,t),VT(l,[d.toMutation(r._key,ki.exists(!0))])}function RI(r,...t){r=fn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||o0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(o0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ue)d=Vi(r.firestore,ao),p=mh(r._key.path),c={next:y=>{t[a]&&t[a](UT(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Vi(r,Ah);d=Vi(y.firestore,ao),p=y._query;const _=new MT(d);c={next:E=>{t[a]&&t[a](new Za(d,_,y,E))},error:t[a+1],complete:t[a+2]},TI(r._query)}return(function(_,E,b,x){const H=new TT(x),W=new fT(E,H,b);return _.asyncQueue.enqueueAndForget((async()=>cT(await _m(_),W))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>hT(await _m(_),W)))}})(sg(d),p,l,c)}function VT(r,t){return(function(a,l){const c=new ar;return a.asyncQueue.enqueueAndForget((async()=>$C(await oI(a),l,c))),c.promise})(sg(r),t)}function UT(r,t,i){const a=i.docs.get(t._key),l=new MT(r);return new Kr(r,l,t._key,a,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}function _l(...r){return new rg("arrayUnion",r)}(function(t,i=!0){(function(l){co=l})(lo),Ja(new Yr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ao(new mR(a.getProvider("auth-internal")),new yR(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),sr(dv,mv,t),sr(dv,mv,"esm2020")})();const CI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),II=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),l0=r=>{const t=II(r);return t.charAt(0).toUpperCase()+t.slice(1)},kT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),NI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var DI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OI=se.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>se.createElement("svg",{ref:y,...DI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:kT("lucide",l),...!c&&!NI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>se.createElement(_,E)),...Array.isArray(c)?c:[c]]));const rn=(r,t)=>{const i=se.forwardRef(({className:a,...l},c)=>se.createElement(OI,{ref:c,iconNode:t,className:kT(`lucide-${CI(l0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=l0(r),i};const xI=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Qd=rn("bot",xI);const MI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],VI=rn("circle-check-big",MI);const UI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kI=rn("circle-question-mark",UI);const LI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],LT=rn("crown",LI);const PI=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],zI=rn("footprints",PI);const jI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],BI=rn("history",jI);const qI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],u0=rn("log-out",qI);const HI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],GI=rn("play",HI);const FI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],c0=rn("rotate-ccw",FI);const QI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KI=rn("settings",QI);const YI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],XI=rn("shield",YI);const $I=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],ZI=rn("skull",$I);const JI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],WI=rn("trash-2",JI);const tN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],eN=rn("trophy",tN);const nN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iN=rn("user",nN);const sN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rN=rn("x",sN),aN={apiKey:"AIzaSyDf86JHBvY9Y1B1x8QDbJkASmlANouEvX0",authDomain:"card-games-28729.firebaseapp.com",projectId:"card-games-28729",storageBucket:"card-games-28729.firebasestorage.app",messagingSenderId:"466779458834",appId:"1:466779458834:web:e55fbec522369cc56d37cb"},PT=A0(aN),Kd=cR(PT),xn=cI(PT),Mn="thief-police-v4-refined",Ba={KING:{name:"King",points:10,icon:LT,color:"bg-yellow-600",textColor:"text-yellow-400"},POLICE:{name:"Police",points:8,icon:XI,color:"bg-blue-600",textColor:"text-blue-400"},ROBBER:{name:"Robber",points:6,icon:ZI,color:"bg-red-600",textColor:"text-red-400"},THIEF:{name:"Thief",points:4,icon:zI,color:"bg-gray-600",textColor:"text-gray-400"}},oN=["Terminator","RoboCop","Wall-E","R2-D2","Jarvis","Ultron","Hal-9000","GLaDOS"],lN=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},h0=({onConfirm:r,onCancel:t})=>z.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:z.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[z.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),z.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Are you sure you want to leave? You will be removed from the room."}),z.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[z.jsx("button",{onClick:t,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold",children:"No, Stay"}),z.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Yes, Leave"})]})]})}),f0=({type:r="gold"})=>{const[t,i]=se.useState([]);return se.useEffect(()=>{const a=r==="gold"?["#FFD700","#FFA500","#FFFF00","#B8860B"]:["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF"],l=50,c=[];for(let d=0;d<l;d++)c.push({id:d,x:Math.random()*100,y:-10,color:a[Math.floor(Math.random()*a.length)],delay:Math.random()*.5,duration:1+Math.random()*2,left:Math.random()*100});i(c)},[r]),z.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[t.map(a=>z.jsx("div",{className:"absolute w-2 h-2 rounded-full opacity-80 animate-fall",style:{left:`${a.left}%`,backgroundColor:a.color,animationDuration:`${a.duration}s`,animationDelay:`${a.delay}s`,top:"-10px"}},a.id)),z.jsx("style",{children:`
        @keyframes fall {
          0% { transform: translateY(0) rotate(0deg); opacity: 1; }
          100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        .animate-fall {
          animation-name: fall;
          animation-timing-function: linear;
          animation-fill-mode: forwards;
        }
      `})]})};function uN(){const[r,t]=se.useState(null),[i,a]=se.useState("menu"),[l,c]=se.useState(""),[d,p]=se.useState(""),[y,_]=se.useState(null),[E,b]=se.useState(null),[x,H]=se.useState(""),[W,st]=se.useState(!1),[J,mt]=se.useState(!1),[Tt,_t]=se.useState(25),[jt,$t]=se.useState(""),[Ot,I]=se.useState(!1),[A,C]=se.useState(!1),[M,N]=se.useState(!1),[U,w]=se.useState(!1);se.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await $b(Kd,__initial_auth_token):await Fb(Kd)})();const et=Wb(Kd,at=>t(at));return()=>et()},[]),se.useEffect(()=>{if(!y||!r)return;const $=On(xn,"artifacts",Mn,"public","data","rooms",y),et=RI($,at=>{if(at.exists()){const ht=at.data();if(b({id:at.id,...ht}),ht.maxRounds,!ht.players.some(ve=>ve.id===r.uid)){_(null),a("menu"),H("You have left or were removed from the room.");return}ht.status==="playing"||ht.status==="finished"?a("game"):(a("lobby"),mt(!1))}else _(null),a("menu"),H("Room closed.")});return()=>et()},[y,r,i]),se.useEffect(()=>{if(!E||!r)return;const $=E.players.find(ht=>ht.id===r.uid);if(!$)return;const et=E.gameInstanceId||"default",at=`${E.id}-${et}-${E.currentRound}`;if(E.turnState==="GUESSING"&&$.currentRole==="KING"){const ht=`king-${at}`;sessionStorage.getItem(ht)||(N(!0),setTimeout(()=>N(!1),3e3),sessionStorage.setItem(ht,"true"))}if(E.turnState==="RESULT"){const ht=`result-${at}`;if(!sessionStorage.getItem(ht)){sessionStorage.setItem(ht,"true");const pt=E.roundHistory[E.roundHistory.length-1];if(!pt)return;const ve=pt.winner==="Police",an=$.currentRole==="POLICE",ee=$.currentRole===pt.target;ve?an?(C(!0),setTimeout(()=>C(!1),4e3)):ee&&(w(!0),setTimeout(()=>w(!1),500)):an&&(w(!0),setTimeout(()=>w(!1),500))}}E.status==="finished"&&mt(!0)},[E,r]),se.useEffect(()=>{if(!(!E||!r||E.hostId!==r.uid)){if(E.turnState==="GUESSING"){const $=E.players.find(et=>et.currentRole==="POLICE");if($&&$.isBot){const et=setTimeout(()=>{const at=E.players.filter(pt=>pt.id!==$.id&&pt.currentRole!=="KING"),ht=at[Math.floor(Math.random()*at.length)];ht&&K(ht.id)},2500);return()=>clearTimeout(et)}}if(E.turnState==="RESULT"){const $=E.players.filter(at=>!at.isBot);(E.readyPlayers?.length||0)>=$.length&&$.length>0&&setTimeout(()=>O(),500)}}},[E?.turnState,E?.readyPlayers?.length]);const re=async()=>{if(!r||!l.trim())return H("Enter nickname.");st(!0);const $=Math.random().toString(36).substring(2,6).toUpperCase(),et=On(xn,"artifacts",Mn,"public","data","rooms",$),at={hostId:r.uid,gameInstanceId:Date.now(),maxPlayers:4,maxRounds:25,currentRound:0,status:"lobby",players:[{id:r.uid,name:l,isBot:!1,totalScore:0,currentRole:null,roundScore:0}],roundHistory:[],readyPlayers:[],gameReadyPlayers:[],turnState:"IDLE",roundTarget:null};try{await wI(et,at),_($),_t(25)}catch{H("Failed to create room.")}st(!1)},_e=async()=>{if(!r||!d||!l.trim())return H("Enter details.");st(!0);const $=On(xn,"artifacts",Mn,"public","data","rooms",d);try{const et=await Fd($);if(!et.exists())throw new Error("Room not found.");const at=et.data();if(at.players.length>=4)throw new Error("Room full.");at.players.find(pt=>pt.id===r.uid)||await li($,{players:_l({id:r.uid,name:l,isBot:!1,totalScore:0,currentRole:null,roundScore:0})}),_(d)}catch(et){H(et.message)}st(!1)},G=async()=>{if(!(!y||!r)){try{const $=On(xn,"artifacts",Mn,"public","data","rooms",y),et=await Fd($);if(et.exists()){const ht=et.data().players.filter(pt=>pt.id!==r.uid);await li($,{players:ht})}}catch($){console.error($)}_(null),a("menu"),I(!1)}},nt=async $=>{if(!(!y||!r))try{const et=On(xn,"artifacts",Mn,"public","data","rooms",y),at=await Fd(et);if(at.exists()){const pt=at.data().players.filter(ve=>ve.id!==$);await li(et,{players:pt})}}catch(et){console.error(et)}},ft=async()=>{if(!y||!r||E.hostId!==r.uid)return;const $=parseInt(Tt);if($<5||$>200||isNaN($)){$t("Min 5, Max 200 rounds.");return}$t(""),await li(On(xn,"artifacts",Mn,"public","data","rooms",y),{maxRounds:$})},Lt=async()=>{const $=On(xn,"artifacts",Mn,"public","data","rooms",y);E.readyPlayers?.includes(r.uid)||await li($,{readyPlayers:_l(r.uid)})},Ht=async()=>{const $=On(xn,"artifacts",Mn,"public","data","rooms",y);E.gameReadyPlayers?.includes(r.uid)||await li($,{gameReadyPlayers:_l(r.uid)})},O=async()=>{if(E.currentRound>=E.maxRounds){await li(On(xn,"artifacts",Mn,"public","data","rooms",y),{status:"finished"});return}const $=lN(["KING","POLICE","ROBBER","THIEF"]),et=E.currentRound+1,at=et%2!==0?"THIEF":"ROBBER",ht=E.players.map((pt,ve)=>({...pt,currentRole:$[ve],roundScore:0}));await li(On(xn,"artifacts",Mn,"public","data","rooms",y),{status:"playing",currentRound:et,turnState:"GUESSING",roundTarget:at,players:ht,readyPlayers:[],lastRoundResult:null})},K=async $=>{const et=E.players.find(ee=>ee.id===$),at=E.roundTarget;let ht=[...E.players],pt="",ve=!1;if(et.currentRole===at)ve=!0,pt=`Success! Police caught the ${Ba[at].name}.`,ht=ht.map(ee=>{let he=0;return ee.currentRole==="KING"?he=10:ee.currentRole==="POLICE"?he=8:ee.currentRole===at?he=0:he=Ba[ee.currentRole].points,{...ee,roundScore:he,totalScore:ee.totalScore+he}});else{ve=!1;const ee=Ba[et.currentRole].name;pt=`Failed! Police accused ${et.name} (${ee}).`,ht=ht.map(he=>{let wt=0;return he.currentRole==="KING"?wt=10:he.currentRole==="POLICE"?wt=0:wt=Ba[he.currentRole].points,{...he,roundScore:wt,totalScore:he.totalScore+wt}})}const an={round:E.currentRound,target:E.roundTarget,winner:ve?"Police":"Criminals",scores:ht.map(ee=>({name:ee.name,role:ee.currentRole,score:ee.roundScore}))};await li(On(xn,"artifacts",Mn,"public","data","rooms",y),{players:ht,turnState:"RESULT",lastRoundResult:pt,roundHistory:_l(an)})},it=async()=>{const $=E.players.map(et=>({...et,totalScore:0,currentRole:null,roundScore:0}));await li(On(xn,"artifacts",Mn,"public","data","rooms",y),{gameInstanceId:Date.now(),currentRound:0,status:"lobby",players:$,roundHistory:[],readyPlayers:[],gameReadyPlayers:[],turnState:"IDLE"})},rt=async()=>{const $=`bot-${Date.now()}`,et=E.players.map(pt=>pt.name),at=oN.filter(pt=>!et.includes(pt)),ht=at.length>0?at[0]:`Bot ${E.players.length+1}`;await li(On(xn,"artifacts",Mn,"public","data","rooms",y),{players:_l({id:$,name:ht,isBot:!0,totalScore:0,currentRole:null,roundScore:0})})};if(i==="menu")return z.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center p-4",children:z.jsxs("div",{className:"max-w-md w-full bg-slate-800 p-8 rounded-2xl shadow-2xl border border-slate-700",children:[z.jsx("h1",{className:"text-4xl font-black text-center mb-2 bg-gradient-to-r from-yellow-400 to-red-500 bg-clip-text text-transparent",children:"THIEF POLICE"}),z.jsx("p",{className:"text-center text-slate-400 text-sm mb-8",children:"Babu Police Chor Daakat"}),x&&z.jsx("div",{className:"bg-red-500/20 text-red-200 p-3 rounded mb-4 text-sm text-center",children:x}),z.jsx("input",{className:"w-full bg-slate-700 p-3 rounded mb-4 border border-slate-600 focus:border-yellow-500 outline-none",placeholder:"Your Nickname",value:l,onChange:$=>c($.target.value)}),z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-700",children:[z.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-2",children:"Create Room"}),z.jsx("button",{onClick:re,disabled:W,className:"w-full mt-2 bg-yellow-600 hover:bg-yellow-500 py-2 rounded font-bold",children:"Create Lobby"})]}),z.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-700",children:[z.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-2",children:"Join Room"}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("input",{className:"flex-1 bg-slate-700 p-2 rounded text-sm uppercase",placeholder:"CODE",value:d,onChange:$=>p($.target.value.toUpperCase())}),z.jsx("button",{onClick:_e,disabled:W,className:"bg-blue-600 hover:bg-blue-500 px-4 rounded font-bold",children:"Join"})]})]})]})]})});if(i==="lobby"&&E)return z.jsxs("div",{className:"min-h-screen bg-slate-900 text-white p-4 flex flex-col items-center",children:[Ot&&z.jsx(h0,{onConfirm:G,onCancel:()=>I(!1)}),z.jsxs("div",{className:"w-full max-w-lg",children:[z.jsxs("div",{className:"flex justify-between items-end mb-6",children:[z.jsxs("h2",{className:"text-2xl font-bold text-slate-200",children:["Room:"," ",z.jsx("span",{className:"text-yellow-400 tracking-wider",children:E.id})]}),z.jsx("div",{className:"flex items-center gap-4",children:z.jsx("button",{onClick:()=>I(!0),className:"bg-slate-800 p-2 rounded hover:bg-red-900/50 hover:text-red-400 transition-colors",title:"Leave Room",children:z.jsx(u0,{size:20})})})]}),z.jsx("div",{className:"bg-slate-800 rounded-xl p-4 mb-4 border border-slate-700",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center gap-2 text-slate-400 font-bold",children:[z.jsx(KI,{size:18})," Rounds"]}),E.hostId===r.uid?z.jsxs("div",{className:"flex flex-col items-end",children:[z.jsx("input",{type:"number",className:"bg-slate-700 text-center w-20 p-2 rounded border border-slate-600 focus:border-yellow-500 outline-none font-bold",value:Tt,onChange:$=>_t($.target.value),onBlur:ft,min:"5",max:"200"}),jt&&z.jsx("span",{className:"text-red-400 text-[10px] mt-1",children:jt})]}):z.jsx("div",{className:"font-black text-2xl text-yellow-500",children:E.maxRounds})]})}),z.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700",children:[z.jsxs("div",{className:"flex justify-between mb-4 text-xs font-bold text-slate-500 uppercase",children:[z.jsx("span",{children:"Players"}),z.jsxs("span",{children:[E.players.length," / 4"]})]}),E.players.map($=>z.jsxs("div",{className:"flex items-center justify-between bg-slate-700 p-3 rounded mb-2",children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${$.isBot?"bg-purple-600":"bg-slate-600"}`,children:$.isBot?z.jsx(Qd,{size:16}):z.jsx(iN,{size:16})}),z.jsxs("span",{className:$.id===r.uid?"text-yellow-400 font-bold":"text-white",children:[$.name," ",$.id===E.hostId&&""]})]}),E.hostId===r.uid&&$.id!==r.uid&&z.jsx("button",{onClick:()=>nt($.id),className:"text-slate-500 hover:text-red-500 transition-colors p-1",title:"Kick Player",children:z.jsx(WI,{size:16})})]},$.id))]}),E.hostId===r.uid?z.jsxs(z.Fragment,{children:[E.players.length<4&&z.jsxs("button",{onClick:rt,className:"w-full py-3 mb-4 rounded-xl border-2 border-dashed border-slate-600 text-slate-400 hover:bg-slate-800 flex items-center justify-center gap-2",children:[z.jsx(Qd,{size:18})," Add AI Bot"]}),z.jsxs("button",{onClick:O,disabled:E.players.length!==4||!!jt,className:"w-full bg-green-600 hover:bg-green-500 disabled:opacity-50 disabled:cursor-not-allowed py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2",children:[z.jsx(GI,{size:20})," Start Game"]})]}):z.jsx("div",{className:"text-center text-slate-400 animate-pulse",children:"Waiting for host..."})]})]});if(i==="game"&&E){const $=E.players.find(wt=>wt.id===r.uid);if(!$)return z.jsx("div",{className:"text-white bg-slate-900 min-h-screen p-10 text-center",children:"Loading..."});const et=E.players.find(wt=>wt.currentRole==="POLICE"),at=$.currentRole==="POLICE",ht=E.readyPlayers?.includes(r.uid),pt=E.players.filter(wt=>!wt.isBot).length,ve=E.readyPlayers?.length||0,an=E.gameReadyPlayers?.includes(r.uid),ee=E.gameReadyPlayers?.length||0,he=pt-1;return z.jsxs("div",{className:`min-h-screen bg-slate-900 text-white flex flex-col relative overflow-hidden transition-transform duration-100 ${U?"translate-x-1":""}`,children:[U&&z.jsx("div",{className:"absolute inset-0 bg-red-500/20 z-40 pointer-events-none"}),A&&z.jsx(f0,{type:"colorful"}),M&&z.jsx(f0,{type:"gold"}),Ot&&z.jsx(h0,{onConfirm:G,onCancel:()=>I(!1)}),z.jsxs("div",{className:"bg-slate-800 p-3 flex justify-between items-center shadow-lg z-10",children:[z.jsxs("div",{children:[z.jsx("div",{className:"text-xs text-slate-400",children:"Round"}),z.jsxs("div",{className:"font-bold text-xl leading-none",children:[E.currentRound," ",z.jsxs("span",{className:"text-slate-500 text-sm",children:["/ ",E.maxRounds]})]})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("button",{onClick:()=>mt(!0),className:"bg-slate-700 p-2 rounded hover:bg-slate-600",children:z.jsx(BI,{size:20})}),z.jsx("button",{onClick:()=>I(!0),className:"bg-slate-700 p-2 rounded hover:bg-red-900/50 hover:text-red-400 transition-colors",title:"Leave Game",children:z.jsx(u0,{size:20})})]})]}),z.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center justify-center gap-6",children:[z.jsx("div",{className:"text-center mb-4 w-full max-w-md",children:E.status==="finished"?z.jsx("div",{className:"text-3xl font-bold text-yellow-400 animate-bounce",children:"GAME OVER"}):E.turnState==="GUESSING"?z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"text-slate-400 text-sm uppercase tracking-widest mb-1",children:"Mission"}),z.jsxs("div",{className:"text-2xl font-bold mb-2",children:["Find the"," ",z.jsx("span",{className:E.roundTarget==="THIEF"?"text-slate-300":"text-red-500",children:E.roundTarget})]}),z.jsx("div",{className:"text-sm bg-slate-800/50 p-2 rounded-lg border border-slate-700 animate-pulse text-blue-300",children:at?"Click a player to guess!":`${et?.name} is investigating...`})]}):z.jsxs("div",{className:"bg-slate-800 px-6 py-4 rounded-xl border border-slate-600 shadow-xl w-full",children:[z.jsx("div",{className:"text-lg font-bold mb-1",children:E.lastRoundResult}),E.status!=="finished"&&z.jsxs("div",{className:"mt-4",children:[z.jsx("button",{onClick:Lt,disabled:ht,className:`w-full py-3 rounded-lg font-bold transition-all ${ht?"bg-slate-600 text-slate-400":"bg-green-600 hover:bg-green-500 text-white shadow-lg hover:scale-105"}`,children:ht?"Waiting for others...":"Ready for Next Round"}),z.jsxs("div",{className:"text-xs text-center mt-2 text-slate-500",children:[ve,"/",pt," Players Ready"]})]})]})}),z.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md",children:E.players.map(wt=>{let on=wt.currentRole,ke=!0;(E.turnState==="RESULT"||E.status==="finished"||on==="KING"||on==="POLICE"||wt.id===r.uid)&&(ke=!1);const ln=on?Ba[on]:null,fe=at&&E.turnState==="GUESSING"&&ke,ne=wt.id===r.uid;return z.jsxs("div",{onClick:()=>fe?K(wt.id):null,className:`
                                relative p-4 rounded-xl border-2 flex flex-col items-center justify-center aspect-[3/4] transition-all
                                ${ne?"bg-slate-800 shadow-[0_0_20px_rgba(6,182,212,0.4)] border-cyan-400 ring-2 ring-cyan-400/30 transform scale-105 z-10":"bg-slate-800 border-slate-700"}
                                ${fe?"cursor-pointer hover:scale-105 border-blue-400 bg-blue-900/20 shadow-[0_0_15px_rgba(59,130,246,0.5)]":""}
                            `,children:[z.jsxs("div",{className:`font-bold text-sm mb-2 truncate w-full text-center flex items-center justify-center gap-1 ${ne?"text-cyan-300":"text-white"}`,children:[wt.isBot&&z.jsx(Qd,{size:12,className:"text-purple-400"}),wt.name," ",ne&&"(You)"]}),ke?z.jsxs("div",{className:"flex-1 flex items-center justify-center",children:[z.jsx(kI,{size:48,className:"text-slate-600"}),z.jsx("div",{className:"absolute bottom-4 text-xs font-bold text-slate-500",children:"UNKNOWN"})]}):z.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center animate-in fade-in zoom-in duration-300",children:[z.jsx(ln.icon,{size:48,className:ln.textColor}),z.jsx("div",{className:`mt-2 font-black uppercase ${ln.textColor}`,children:ln.name}),z.jsxs("div",{className:"text-xs text-slate-400",children:[ln.points," pts"]})]}),E.turnState==="RESULT"&&z.jsx("div",{className:`absolute -top-2 -right-2 w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs border-2 border-slate-900 shadow-lg ${wt.roundScore>0?"bg-green-500":"bg-red-500"}`,children:wt.roundScore}),E.turnState==="RESULT"&&E.readyPlayers?.includes(wt.id)&&z.jsx("div",{className:"absolute bottom-2 right-2 text-green-500 bg-slate-900 rounded-full",children:z.jsx(VI,{size:16})})]},wt.id)})}),z.jsxs("div",{className:"mt-auto bg-slate-800 w-full max-w-md p-4 rounded-xl border border-slate-700 flex justify-between items-center shadow-lg",children:[z.jsx("span",{className:"text-slate-400 text-sm font-bold",children:"MY SCORE"}),z.jsx("span",{className:"text-3xl font-black text-yellow-500",children:$.totalScore})]})]}),J&&z.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:z.jsxs("div",{className:"bg-slate-800 w-full max-w-2xl max-h-[85vh] rounded-2xl flex flex-col border border-slate-700 shadow-2xl relative",children:[z.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center",children:[z.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[z.jsx(eN,{className:"text-yellow-400"})," Scoreboard"]}),E.status!=="finished"&&z.jsx("button",{onClick:()=>mt(!1),children:z.jsx(rN,{})})]}),(()=>{const wt=[...E.players].sort((fe,ne)=>ne.totalScore-fe.totalScore),on=wt[0]?.totalScore||0,ke=wt.filter(fe=>fe.totalScore===on),ln=ke.length>1;return z.jsxs(z.Fragment,{children:[E.status==="finished"&&z.jsxs("div",{className:"bg-gradient-to-r from-yellow-600 to-yellow-800 p-4 text-center",children:[z.jsx("div",{className:"text-sm font-bold text-yellow-200 uppercase tracking-widest",children:ln?"Champions":"Champion"}),z.jsx("div",{className:"text-3xl font-black text-white drop-shadow-md",children:ke.map(fe=>fe.name).join(" & ")})]}),z.jsxs("div",{className:"p-4 bg-slate-900/50",children:[z.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs font-bold text-slate-500 uppercase mb-2 text-center",children:[z.jsx("div",{className:"text-left pl-2",children:"Player"}),z.jsx("div",{children:"Role"}),z.jsx("div",{children:"Last"}),z.jsx("div",{children:"Total"})]}),wt.map((fe,ne)=>{const ge=E.status==="finished"&&fe.totalScore===on;return z.jsxs("div",{className:`grid grid-cols-4 gap-2 p-3 rounded mb-1 items-center text-center ${ge?"bg-yellow-900/30 border border-yellow-500/50":"bg-slate-700"}`,children:[z.jsxs("div",{className:"text-left font-bold truncate flex items-center gap-1",children:[ge&&z.jsx(LT,{size:12,className:"text-yellow-400"})," ",fe.name]}),z.jsx("div",{className:"text-xs opacity-70",children:fe.currentRole?Ba[fe.currentRole].name:"-"}),z.jsxs("div",{className:`font-bold ${fe.roundScore>0?"text-green-400":"text-slate-500"}`,children:["+",fe.roundScore]}),z.jsx("div",{className:"font-black text-yellow-400 text-lg",children:fe.totalScore})]},fe.id)})]})]})})(),z.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[z.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"History"}),[...E.roundHistory||[]].reverse().map((wt,on)=>z.jsxs("div",{className:"mb-2 text-sm border-b border-slate-700 pb-2",children:[z.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[z.jsxs("span",{children:["Round ",wt.round,"  Hunted ",wt.target]}),z.jsxs("span",{className:wt.winner==="Police"?"text-blue-400":"text-red-400",children:[wt.winner," Won"]})]}),z.jsx("div",{className:"grid grid-cols-4 gap-1",children:wt.scores.map((ke,ln)=>z.jsxs("div",{className:"bg-slate-800 p-1 rounded text-center",children:[z.jsx("div",{className:"text-[10px] text-slate-500 truncate",children:ke.name}),z.jsxs("div",{className:`font-bold text-xs ${ke.score>0?"text-green-400":"text-slate-600"}`,children:["+",ke.score]})]},ln))})]},on))]}),E.status==="finished"&&z.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-800 rounded-b-2xl",children:E.hostId===r.uid?z.jsx(z.Fragment,{children:z.jsx("button",{onClick:it,disabled:ee<he,className:"w-full bg-green-600 hover:bg-green-500 disabled:bg-slate-600 disabled:text-slate-400 py-3 rounded-xl font-bold flex items-center justify-center gap-2 text-lg shadow-lg",children:ee<he?z.jsxs(z.Fragment,{children:[z.jsx(c0,{className:"animate-spin"})," Waiting for Players (",ee,"/",he,")"]}):z.jsxs(z.Fragment,{children:[z.jsx(c0,{})," Play Again"]})})}):z.jsx("button",{onClick:Ht,disabled:an,className:`w-full py-3 rounded-xl font-bold transition-colors ${an?"bg-slate-600 text-slate-400":"bg-blue-600 hover:bg-blue-500"}`,children:an?"Waiting for Host...":"Ready for Next Game"})})]})})]})}return z.jsx("div",{className:"text-white text-center p-10",children:"Loading Game Resources..."})}bS.createRoot(document.getElementById("root")).render(z.jsx(se.StrictMode,{children:z.jsx(uN,{})}));
