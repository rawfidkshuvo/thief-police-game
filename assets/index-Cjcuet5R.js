(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Cd={exports:{}},_l={};var V_;function Ab(){if(V_)return _l;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var k_;function wb(){return k_||(k_=1,Cd.exports=Ab()),Cd.exports}var w=wb(),Nd={exports:{}},At={};var U_;function Rb(){if(U_)return At;U_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,Z={};function ft(O,K,et){this.props=O,this.context=K,this.refs=Z,this.updater=et||J}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function bt(){}bt.prototype=ft.prototype;function gt(O,K,et){this.props=O,this.context=K,this.refs=Z,this.updater=et||J}var Yt=gt.prototype=new bt;Yt.constructor=gt,nt(Yt,ft.prototype),Yt.isPureReactComponent=!0;var ne=Array.isArray;function Ot(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(O,K,et){var st=et.ref;return{$$typeof:r,type:O,key:K,ref:st!==void 0?st:null,props:et}}function V(O,K){return R(O.type,K,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return K[et]})}var I=/\/+/g;function le(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function ge(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ot,Ot):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,K,et,st,vt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case r:case t:Mt=!0;break;case b:return Mt=O._init,q(Mt(O._payload),K,et,st,vt)}}if(Mt)return vt=vt(O),Mt=st===""?"."+le(O,0):st,ne(vt)?(et="",Mt!=null&&(et=Mt.replace(I,"$&/")+"/"),q(vt,K,et,"",function(it){return it})):vt!=null&&(x(vt)&&(vt=V(vt,et+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(I,"$&/")+"/")+Mt)),K.push(vt)),1;Mt=0;var be=st===""?".":st+":";if(ne(O))for(var ce=0;ce<O.length;ce++)st=O[ce],St=be+le(st,ce),Mt+=q(st,K,et,St,vt);else if(ce=G(O),typeof ce=="function")for(O=ce.call(O),ce=0;!(st=O.next()).done;)st=st.value,St=be+le(st,ce++),Mt+=q(st,K,et,St,vt);else if(St==="object"){if(typeof O.then=="function")return q(ge(O),K,et,st,vt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function tt(O,K,et){if(O==null)return O;var st=[],vt=0;return q(O,st,"","",function(St){return K.call(et,St,vt++)}),st}function ct(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Bt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:tt,forEach:function(O,K,et){tt(O,function(){K.apply(this,arguments)},et)},count:function(O){var K=0;return tt(O,function(){K++}),K},toArray:function(O){return tt(O,function(K){return K})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=S,At.Children=Gt,At.Component=ft,At.Fragment=i,At.Profiler=l,At.PureComponent=gt,At.StrictMode=a,At.Suspense=g,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,K,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=nt({},O.props),vt=O.key;if(K!=null)for(St in K.key!==void 0&&(vt=""+K.key),K)!A.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(st[St]=K[St]);var St=arguments.length-2;if(St===1)st.children=et;else if(1<St){for(var Mt=Array(St),be=0;be<St;be++)Mt[be]=arguments[be+2];st.children=Mt}return R(O.type,vt,st)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,K,et){var st,vt={},St=null;if(K!=null)for(st in K.key!==void 0&&(St=""+K.key),K)A.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(vt[st]=K[st]);var Mt=arguments.length-2;if(Mt===1)vt.children=et;else if(1<Mt){for(var be=Array(Mt),ce=0;ce<Mt;ce++)be[ce]=arguments[ce+2];vt.children=be}if(O&&O.defaultProps)for(st in Mt=O.defaultProps,Mt)vt[st]===void 0&&(vt[st]=Mt[st]);return R(O,St,vt)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:y,render:O}},At.isValidElement=x,At.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ct}},At.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},At.startTransition=function(O){var K=N.T,et={};N.T=et;try{var st=O(),vt=N.S;vt!==null&&vt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ot,Bt)}catch(St){Bt(St)}finally{K!==null&&et.types!==null&&(K.types=et.types),N.T=K}},At.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},At.use=function(O){return N.H.use(O)},At.useActionState=function(O,K,et){return N.H.useActionState(O,K,et)},At.useCallback=function(O,K){return N.H.useCallback(O,K)},At.useContext=function(O){return N.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,K){return N.H.useDeferredValue(O,K)},At.useEffect=function(O,K){return N.H.useEffect(O,K)},At.useEffectEvent=function(O){return N.H.useEffectEvent(O)},At.useId=function(){return N.H.useId()},At.useImperativeHandle=function(O,K,et){return N.H.useImperativeHandle(O,K,et)},At.useInsertionEffect=function(O,K){return N.H.useInsertionEffect(O,K)},At.useLayoutEffect=function(O,K){return N.H.useLayoutEffect(O,K)},At.useMemo=function(O,K){return N.H.useMemo(O,K)},At.useOptimistic=function(O,K){return N.H.useOptimistic(O,K)},At.useReducer=function(O,K,et){return N.H.useReducer(O,K,et)},At.useRef=function(O){return N.H.useRef(O)},At.useState=function(O){return N.H.useState(O)},At.useSyncExternalStore=function(O,K,et){return N.H.useSyncExternalStore(O,K,et)},At.useTransition=function(){return N.H.useTransition()},At.version="19.2.0",At}var L_;function Am(){return L_||(L_=1,Nd.exports=Rb()),Nd.exports}var Kt=Am(),xd={exports:{}},vl={},Dd={exports:{}},Od={};var P_;function Ib(){return P_||(P_=1,(function(r){function t(q,tt){var ct=q.length;q.push(tt);t:for(;0<ct;){var Bt=ct-1>>>1,Gt=q[Bt];if(0<l(Gt,tt))q[Bt]=tt,q[ct]=Gt,ct=Bt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var tt=q[0],ct=q.pop();if(ct!==tt){q[0]=ct;t:for(var Bt=0,Gt=q.length,O=Gt>>>1;Bt<O;){var K=2*(Bt+1)-1,et=q[K],st=K+1,vt=q[st];if(0>l(et,ct))st<Gt&&0>l(vt,et)?(q[Bt]=vt,q[st]=ct,Bt=st):(q[Bt]=et,q[K]=ct,Bt=K);else if(st<Gt&&0>l(vt,ct))q[Bt]=vt,q[st]=ct,Bt=st;else break t}}return tt}function l(q,tt){var ct=q.sortIndex-tt.sortIndex;return ct!==0?ct:q.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var g=[],_=[],b=1,S=null,M=3,G=!1,J=!1,nt=!1,Z=!1,ft=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Yt(q){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=q)a(_),tt.sortIndex=tt.expirationTime,t(g,tt);else break;tt=i(_)}}function ne(q){if(nt=!1,Yt(q),!J)if(i(g)!==null)J=!0,Ot||(Ot=!0,U());else{var tt=i(_);tt!==null&&ge(ne,tt.startTime-q)}}var Ot=!1,N=-1,A=5,R=-1;function V(){return Z?!0:!(r.unstable_now()-R<A)}function x(){if(Z=!1,Ot){var q=r.unstable_now();R=q;var tt=!0;try{t:{J=!1,nt&&(nt=!1,bt(N),N=-1),G=!0;var ct=M;try{e:{for(Yt(q),S=i(g);S!==null&&!(S.expirationTime>q&&V());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,M=S.priorityLevel;var Gt=Bt(S.expirationTime<=q);if(q=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Yt(q),tt=!0;break e}S===i(g)&&a(g),Yt(q)}else a(g);S=i(g)}if(S!==null)tt=!0;else{var O=i(_);O!==null&&ge(ne,O.startTime-q),tt=!1}}break t}finally{S=null,M=ct,G=!1}tt=void 0}}finally{tt?U():Ot=!1}}}var U;if(typeof gt=="function")U=function(){gt(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,le=I.port2;I.port1.onmessage=x,U=function(){le.postMessage(null)}}else U=function(){ft(x,0)};function ge(q,tt){N=ft(function(){q(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(q){switch(M){case 1:case 2:case 3:var tt=3;break;default:tt=M}var ct=M;M=tt;try{return q()}finally{M=ct}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(q,tt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ct=M;M=q;try{return tt()}finally{M=ct}},r.unstable_scheduleCallback=function(q,tt,ct){var Bt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Bt+ct:Bt):ct=Bt,q){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ct+Gt,q={id:b++,callback:tt,priorityLevel:q,startTime:ct,expirationTime:Gt,sortIndex:-1},ct>Bt?(q.sortIndex=ct,t(_,q),i(g)===null&&q===i(_)&&(nt?(bt(N),N=-1):nt=!0,ge(ne,ct-Bt))):(q.sortIndex=Gt,t(g,q),J||G||(J=!0,Ot||(Ot=!0,U()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var tt=M;return function(){var ct=M;M=tt;try{return q.apply(this,arguments)}finally{M=ct}}}})(Od)),Od}var z_;function Cb(){return z_||(z_=1,Dd.exports=Ib()),Dd.exports}var Md={exports:{}},sn={};var j_;function Nb(){if(j_)return sn;j_=1;var r=Am();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(g,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,b)},sn.flushSync=function(g){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=b,a.d.f()}},sn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},sn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},sn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var b=_.as,S=y(b,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:G}):b==="script"&&a.d.X(g,{crossOrigin:S,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},sn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},sn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=y(b,_.crossOrigin);a.d.L(g,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},sn.preloadModule=function(g,_){if(typeof g=="string")if(_){var b=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},sn.requestFormReset=function(g){a.d.r(g)},sn.unstable_batchedUpdates=function(g,_){return g(_)},sn.useFormState=function(g,_,b){return d.H.useFormState(g,_,b)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var B_;function xb(){if(B_)return Md.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=Nb(),Md.exports}var H_;function Db(){if(H_)return vl;H_=1;var r=Cb(),t=Am(),i=xb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Yt=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ft:return"Profiler";case Z:return"StrictMode";case ne:return"Suspense";case Ot:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case gt:return e.displayName||"Context";case bt:return(e._context.displayName||"Context")+".Consumer";case Yt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}var ge=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Bt=[],Gt=-1;function O(e){return{current:e}}function K(e){0>Gt||(e.current=Bt[Gt],Bt[Gt]=null,Gt--)}function et(e,n){Gt++,Bt[Gt]=e.current,e.current=n}var st=O(null),vt=O(null),St=O(null),Mt=O(null);function be(e,n){switch(et(St,n),et(vt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?i_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=i_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),et(st,e)}function ce(){K(st),K(vt),K(St)}function it(e){e.memoizedState!==null&&et(Mt,e);var n=st.current,s=s_(n,e.type);n!==s&&(et(vt,e),et(st,s))}function at(e){vt.current===e&&(K(st),K(vt)),Mt.current===e&&(K(Mt),ml._currentValue=ct)}var pt,Ct;function xt(e){if(pt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);pt=n&&n[1]||"",Ct=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pt+e+Ct}var Se=!1;function dn(e,n){if(!e||Se)return"";Se=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Se=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?xt(s):""}function yt(e,n){switch(e.tag){case 26:case 27:case 5:return xt(e.type);case 16:return xt("Lazy");case 13:return e.child!==n&&n!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return dn(e.type,!1);case 11:return dn(e.type.render,!1);case 1:return dn(e.type,!0);case 31:return xt("Activity");default:return""}}function ie(e){try{var n="",s=null;do n+=yt(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Dt=Object.prototype.hasOwnProperty,Jt=r.unstable_scheduleCallback,he=r.unstable_cancelCallback,di=r.unstable_shouldYield,_r=r.unstable_requestPaint,un=r.unstable_now,vr=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,Es=r.unstable_NormalPriority,xh=r.unstable_LowPriority,Jl=r.unstable_IdlePriority,Wl=r.log,tu=r.unstable_setDisableYieldValue,Jn=null,Ye=null;function Un(e){if(typeof Wl=="function"&&tu(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Jn,e)}catch{}}var Ae=Math.clz32?Math.clz32:nu,eu=Math.log,sa=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/sa|0)|0}var mi=256,Er=262144,Ne=4194304;function gi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=gi(o):(p&=E,p!==0?h=gi(p):s||(s=E&~e,s!==0&&(h=gi(s))))):(E=o&~f,E!==0?h=gi(E):p!==0?h=gi(p):s||(s=o&~e,s!==0&&(h=gi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function yi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-Ae(s),Y=1<<F;E[F]=0,C[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var H=j[F];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&br(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function br(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ae(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function vo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Ae(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Eo(e,n){var s=n&-n;return s=(s&42)!==0?1:Sr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:I_(e.type))}function ti(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var ei=Math.random().toString(36).slice(2),xe="__reactFiber$"+ei,Ge="__reactProps$"+ei,_i="__reactContainer$"+ei,ra="__reactEvents$"+ei,Mh="__reactListeners$"+ei,ru="__reactHandles$"+ei,au="__reactResources$"+ei,vi="__reactMarker$"+ei;function aa(e){delete e[xe],delete e[Ge],delete e[ra],delete e[Mh],delete e[ru]}function Ei(e){var n=e[xe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[_i]||s[xe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=h_(e);e!==null;){if(s=e[xe])return s;e=h_(e)}return n}e=s,s=e.parentNode}return null}function Ln(e){if(e=e[xe]||e[_i]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function wn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ti(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(e){e[vi]=!0}var To=new Set,bo={};function bi(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(bo[e]=n,e=0;e<n.length;e++)To.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},wo={};function ou(e){return Dt.call(wo,e)?!0:Dt.call(Ao,e)?!1:So.test(e)?wo[e]=!0:(Ao[e]=!0,!1)}function oa(e,n,s){if(ou(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Rn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Oe(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Fe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ts(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=Ts(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function Ar(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Ts(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wr=/[\n"\\]/g;function mn(e){return e.replace(wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Fe(n)):e.value!==""+Fe(n)&&(e.value=""+Fe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Io(e,p,Fe(n)):s!=null?Io(e,p,Fe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Fe(E):e.removeAttribute("name")}function lu(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Wt(e);return}s=s!=null?""+Fe(s):"",n=n!=null?""+Fe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Wt(e)}function Io(e,n,s){n==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function bs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Fe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,s){if(n!=null&&(n=""+Fe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Fe(s):""}function Ss(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ge(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Fe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Wt(e)}function gn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||cu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function No(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return As.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var xo=null;function Pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ws=null,wi=null;function Rr(e){var n=Ln(e);if(n&&(e=n.stateNode)){var s=e[Ge]||null;t:switch(e=n.stateNode,n.type){case"input":if(la(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ge]||null;if(!h)throw Error(a(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Ar(o)}break t;case"textarea":uu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&bs(e,!!s.multiple,n,!1)}}}var ha=!1;function Rs(e,n,s){if(ha)return e(n,s);ha=!0;try{var o=e(n);return o}finally{if(ha=!1,(ws!==null||wi!==null)&&(sc(),ws&&(n=ws,e=wi,wi=ws=null,Rr(n),e)))for(n=0;n<e.length;n++)Rr(e[n])}}function ii(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ge]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(zn)try{var se={};Object.defineProperty(se,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{Ir=!1}var Ri=null,Do=null,Cr=null;function Oo(){if(Cr)return Cr;var e,n=Do,s=n.length,o,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Cr=h.slice(e,1<o?1-o:void 0)}function Nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function si(){return!1}function Xe(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fi:si,this.isPropagationStopped=si,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Xe(Qi),Is=S({},Qi,{view:0,detail:0}),Mo=Xe(Is),Cs,fa,Ci,da=S({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Cs=e.screenX-Ci.screenX,fa=e.screenY-Ci.screenY):fa=Cs=0,Ci=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),Vo=Xe(da),xr=S({},da,{dataTransfer:0}),fu=Xe(xr),du=S({},Is,{relatedTarget:0}),Dr=Xe(du),ko=S({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Xe(ko),ma=S({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=Xe(ma),pu=S({},Qi,{data:0}),Ni=Xe(pu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function Ns(){return Eu}var cn=S({},Is,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=Xe(cn),bu=S({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Xe(bu),u=S({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),m=Xe(u),v=S({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xe(v),L=S({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xe(L),W=S({},Qi,{newState:0,oldState:0}),Rt=Xe(W),we=[9,13,27,32],Xt=zn&&"CompositionEvent"in window,pe=null;zn&&"documentMode"in document&&(pe=document.documentMode);var jn=zn&&"TextEvent"in window&&!pe,xi=zn&&(!Xt||pe&&8<pe&&11>=pe),ri=" ",ai=!1;function Or(e,n){switch(e){case"keyup":return we.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function YT(e,n){switch(e){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(ai=!0,ri);case"textInput":return e=n.data,e===ri&&ai?null:e;default:return null}}function XT(e,n){if(pa)return e==="compositionend"||!Xt&&Or(e,n)?(e=Oo(),Cr=Do=Ri=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xi&&n.locale!=="ko"?null:n.data;default:return null}}var $T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$T[e.type]:n==="textarea"}function gg(e,n,s,o){ws?wi?wi.push(o):wi=[o]:ws=o,n=hc(n,"onChange"),0<n.length&&(s=new Ii("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Uo=null,Lo=null;function ZT(e){Zy(e,0)}function Su(e){var n=wn(e);if(Ar(n))return e}function pg(e,n){if(e==="change")return n}var yg=!1;if(zn){var Vh;if(zn){var kh="oninput"in document;if(!kh){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),kh=typeof _g.oninput=="function"}Vh=kh}else Vh=!1;yg=Vh&&(!document.documentMode||9<document.documentMode)}function vg(){Uo&&(Uo.detachEvent("onpropertychange",Eg),Lo=Uo=null)}function Eg(e){if(e.propertyName==="value"&&Su(Lo)){var n=[];gg(n,Lo,e,Pn(e)),Rs(ZT,n)}}function JT(e,n,s){e==="focusin"?(vg(),Uo=n,Lo=s,Uo.attachEvent("onpropertychange",Eg)):e==="focusout"&&vg()}function WT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Lo)}function t1(e,n){if(e==="click")return Su(n)}function e1(e,n){if(e==="input"||e==="change")return Su(n)}function n1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var In=typeof Object.is=="function"?Object.is:n1;function Po(e,n){if(In(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Dt.call(n,h)||!In(e[h],n[h]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bg(e,n){var s=Tg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Tg(s)}}function Sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ai(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ai(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var i1=zn&&"documentMode"in document&&11>=document.documentMode,ya=null,Lh=null,zo=null,Ph=!1;function wg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||ya==null||ya!==Ai(o)||(o=ya,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=hc(Lh,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ya)))}function Mr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var _a={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},zh={},Rg={};zn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Vr(e){if(zh[e])return zh[e];if(!_a[e])return e;var n=_a[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Rg)return zh[e]=n[s];return e}var Ig=Vr("animationend"),Cg=Vr("animationiteration"),Ng=Vr("animationstart"),s1=Vr("transitionrun"),r1=Vr("transitionstart"),a1=Vr("transitioncancel"),xg=Vr("transitionend"),Dg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function oi(e,n){Dg.set(e,n),bi(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],va=0,Bh=0;function wu(){for(var e=va,n=Bh=va=0;n<e;){var s=Bn[n];Bn[n++]=null;var o=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Og(s,h,f)}}function Ru(e,n,s,o){Bn[va++]=e,Bn[va++]=n,Bn[va++]=s,Bn[va++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Hh(e,n,s,o){return Ru(e,n,s,o),Iu(e)}function kr(e,n){return Ru(e,null,null,n),Iu(e)}function Og(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ae(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Iu(e){if(50<ol)throw ol=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ea={};function o1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,n,s,o){return new o1(e,n,s,o)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yi(e,n){var s=e.alternate;return s===null?(s=Cn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Mg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")qh(e)&&(p=1);else if(typeof e=="string")p=fb(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Cn(31,s,n,h),e.elementType=R,e.lanes=f,e;case nt:return Ur(s.children,h,f,n);case Z:p=8,h|=24;break;case ft:return e=Cn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case ne:return e=Cn(13,s,n,h),e.elementType=ne,e.lanes=f,e;case Ot:return e=Cn(19,s,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:p=10;break t;case bt:p=9;break t;case Yt:p=11;break t;case N:p=14;break t;case A:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Cn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ur(e,n,s,o){return e=Cn(7,e,o,n),e.lanes=s,e}function Gh(e,n,s){return e=Cn(6,e,null,n),e.lanes=s,e}function Vg(e){var n=Cn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=Cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kg=new WeakMap;function Hn(e,n){if(typeof e=="object"&&e!==null){var s=kg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ie(n)},kg.set(e,n),n)}return{value:e,source:n,stack:ie(n)}}var Ta=[],ba=0,Nu=null,jo=0,qn=[],Gn=0,xs=null,Di=1,Oi="";function Xi(e,n){Ta[ba++]=jo,Ta[ba++]=Nu,Nu=e,jo=n}function Ug(e,n,s){qn[Gn++]=Di,qn[Gn++]=Oi,qn[Gn++]=xs,xs=e;var o=Di;e=Oi;var h=32-Ae(o)-1;o&=~(1<<h),s+=1;var f=32-Ae(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Di=1<<32-Ae(n)+h|s<<h|o,Oi=f+e}else Di=1<<f|s<<h|o,Oi=e}function Qh(e){e.return!==null&&(Xi(e,1),Ug(e,1,0))}function Kh(e){for(;e===Nu;)Nu=Ta[--ba],Ta[ba]=null,jo=Ta[--ba],Ta[ba]=null;for(;e===xs;)xs=qn[--Gn],qn[Gn]=null,Oi=qn[--Gn],qn[Gn]=null,Di=qn[--Gn],qn[Gn]=null}function Lg(e,n){qn[Gn++]=Di,qn[Gn++]=Oi,qn[Gn++]=xs,Di=n.id,Oi=n.overflow,xs=e}var $e=null,fe=null,Ht=!1,Ds=null,Fn=!1,Yh=Error(a(519));function Os(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Hn(n,e)),Yh}function Pg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[xe]=e,n[Ge]=o,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)kt(ul[s],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),Ss(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||e_(n.textContent,s)?(o.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),o.onScroll!=null&&kt("scroll",n),o.onScrollEnd!=null&&kt("scrollend",n),o.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||Os(e,!0)}function zg(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:$e=$e.return}}function Sa(e){if(e!==$e)return!1;if(!Ht)return zg(e),Ht=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&fe&&Os(e),zg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=c_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=c_(e)}else n===27?(n=fe,Qs(e.type)?(e=_d,_d=null,fe=e):fe=n):fe=$e?Kn(e.stateNode.nextSibling):null;return!0}function Lr(){fe=$e=null,Ht=!1}function Xh(){var e=Ds;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),Ds=null),e}function Bo(e){Ds===null?Ds=[e]:Ds.push(e)}var $h=O(null),Pr=null,$i=null;function Ms(e,n,s){et($h,n._currentValue),n._currentValue=s}function Zi(e){e._currentValue=$h.current,K($h)}function Zh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Zh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Zh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Aa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;In(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&Jh(n,e,s,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!In(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zr(e){Pr=e,$i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return jg(Pr,e)}function Du(e,n){return Pr===null&&zr(e),jg(e,n)}function jg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},$i===null){if(e===null)throw Error(a(308));$i=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else $i=$i.next=n;return s}var l1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},u1=r.unstable_scheduleCallback,c1=r.unstable_NormalPriority,Me={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new l1,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&u1(c1,function(){e.controller.abort()})}var qo=null,tf=0,wa=0,Ra=null;function h1(e,n){if(qo===null){var s=qo=[];tf=0,wa=sd(),Ra={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,n.then(Bg,Bg),n}function Bg(){if(--tf===0&&qo!==null){Ra!==null&&(Ra.status="fulfilled");var e=qo;qo=null,wa=0,Ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function f1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Hg=q.S;q.S=function(e,n){wy=un(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&h1(e,n),Hg!==null&&Hg(e,n)};var jr=O(null);function ef(){var e=jr.current;return e!==null?e:ue.pooledCache}function Ou(e,n){n===null?et(jr,jr.current):et(jr,n.pool)}function qg(){var e=ef();return e===null?null:{parent:Me._currentValue,pool:e}}var Ia=Error(a(460)),nf=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function Gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ni,ni),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e;default:if(typeof n.status=="string")n.then(ni,ni);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e}throw Hr=n,Ia}}function Br(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Hr=s,Ia):s}}var Hr=null;function Qg(){if(Hr===null)throw Error(a(459));var e=Hr;return Hr=null,e}function Kg(e){if(e===Ia||e===Mu)throw Error(a(483))}var Ca=null,Go=0;function ku(e){var n=Go;return Go+=1,Ca===null&&(Ca=[]),Fg(Ca,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Yi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Q){return D===null||D.tag!==6?(D=Gh(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,Q){var ht=P.type;return ht===nt?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Br(ht)===D.type)?(D=h(D,P.props),Fo(D,P),D.return=k,D):(D=Cu(P.type,P.key,P.props,null,k.mode,Q),Fo(D,P),D.return=k,D)}function z(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Fh(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,ht){return D===null||D.tag!==7?(D=Ur(P,k.mode,Q,ht),D.return=k,D):(D=h(D,P),D.return=k,D)}function Y(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Gh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Cu(D.type,D.key,D.props,null,k.mode,P),Fo(P,D),P.return=k,P;case J:return D=Fh(D,k.mode,P),D.return=k,D;case A:return D=Br(D),Y(k,D,P)}if(ge(D)||U(D))return D=Ur(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Y(k,ku(D),P);if(D.$$typeof===gt)return Y(k,Du(k,D),P);Uu(k,D)}return null}function j(k,D,P,Q){var ht=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ht?C(k,D,P,Q):null;case J:return P.key===ht?z(k,D,P,Q):null;case A:return P=Br(P),j(k,D,P,Q)}if(ge(P)||U(P))return ht!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return j(k,D,ku(P),Q);if(P.$$typeof===gt)return j(k,D,Du(k,P),Q);Uu(k,P)}return null}function H(k,D,P,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(D,k,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return k=k.get(Q.key===null?P:Q.key)||null,C(D,k,Q,ht);case J:return k=k.get(Q.key===null?P:Q.key)||null,z(D,k,Q,ht);case A:return Q=Br(Q),H(k,D,P,Q,ht)}if(ge(Q)||U(Q))return k=k.get(P)||null,F(D,k,Q,ht,null);if(typeof Q.then=="function")return H(k,D,P,ku(Q),ht);if(Q.$$typeof===gt)return H(k,D,P,Du(D,Q),ht);Uu(D,Q)}return null}function ot(k,D,P,Q){for(var ht=null,Ft=null,lt=D,Nt=D=0,Lt=null;lt!==null&&Nt<P.length;Nt++){lt.index>Nt?(Lt=lt,lt=null):Lt=lt.sibling;var Qt=j(k,lt,P[Nt],Q);if(Qt===null){lt===null&&(lt=Lt);break}e&&lt&&Qt.alternate===null&&n(k,lt),D=f(Qt,D,Nt),Ft===null?ht=Qt:Ft.sibling=Qt,Ft=Qt,lt=Lt}if(Nt===P.length)return s(k,lt),Ht&&Xi(k,Nt),ht;if(lt===null){for(;Nt<P.length;Nt++)lt=Y(k,P[Nt],Q),lt!==null&&(D=f(lt,D,Nt),Ft===null?ht=lt:Ft.sibling=lt,Ft=lt);return Ht&&Xi(k,Nt),ht}for(lt=o(lt);Nt<P.length;Nt++)Lt=H(lt,k,Nt,P[Nt],Q),Lt!==null&&(e&&Lt.alternate!==null&&lt.delete(Lt.key===null?Nt:Lt.key),D=f(Lt,D,Nt),Ft===null?ht=Lt:Ft.sibling=Lt,Ft=Lt);return e&&lt.forEach(function(Zs){return n(k,Zs)}),Ht&&Xi(k,Nt),ht}function mt(k,D,P,Q){if(P==null)throw Error(a(151));for(var ht=null,Ft=null,lt=D,Nt=D=0,Lt=null,Qt=P.next();lt!==null&&!Qt.done;Nt++,Qt=P.next()){lt.index>Nt?(Lt=lt,lt=null):Lt=lt.sibling;var Zs=j(k,lt,Qt.value,Q);if(Zs===null){lt===null&&(lt=Lt);break}e&&lt&&Zs.alternate===null&&n(k,lt),D=f(Zs,D,Nt),Ft===null?ht=Zs:Ft.sibling=Zs,Ft=Zs,lt=Lt}if(Qt.done)return s(k,lt),Ht&&Xi(k,Nt),ht;if(lt===null){for(;!Qt.done;Nt++,Qt=P.next())Qt=Y(k,Qt.value,Q),Qt!==null&&(D=f(Qt,D,Nt),Ft===null?ht=Qt:Ft.sibling=Qt,Ft=Qt);return Ht&&Xi(k,Nt),ht}for(lt=o(lt);!Qt.done;Nt++,Qt=P.next())Qt=H(lt,k,Nt,Qt.value,Q),Qt!==null&&(e&&Qt.alternate!==null&&lt.delete(Qt.key===null?Nt:Qt.key),D=f(Qt,D,Nt),Ft===null?ht=Qt:Ft.sibling=Qt,Ft=Qt);return e&&lt.forEach(function(Sb){return n(k,Sb)}),Ht&&Xi(k,Nt),ht}function oe(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ht=P.key;D!==null;){if(D.key===ht){if(ht=P.type,ht===nt){if(D.tag===7){s(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Br(ht)===D.type){s(k,D.sibling),Q=h(D,P.props),Fo(Q,P),Q.return=k,k=Q;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===nt?(Q=Ur(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Cu(P.type,P.key,P.props,null,k.mode,Q),Fo(Q,P),Q.return=k,k=Q)}return p(k);case J:t:{for(ht=P.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Fh(P,k.mode,Q),Q.return=k,k=Q}return p(k);case A:return P=Br(P),oe(k,D,P,Q)}if(ge(P))return ot(k,D,P,Q);if(U(P)){if(ht=U(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),mt(k,D,P,Q)}if(typeof P.then=="function")return oe(k,D,ku(P),Q);if(P.$$typeof===gt)return oe(k,D,Du(k,P),Q);Uu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(s(k,D),Q=Gh(P,k.mode,Q),Q.return=k,k=Q),p(k)):s(k,D)}return function(k,D,P,Q){try{Go=0;var ht=oe(k,D,P,Q);return Ca=null,ht}catch(lt){if(lt===Ia||lt===Mu)throw lt;var Ft=Cn(29,lt,null,k.mode);return Ft.lanes=Q,Ft.return=k,Ft}finally{}}}var qr=Yg(!0),Xg=Yg(!1),Vs=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Us(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($t&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Og(e,null,s),n}return Ru(e,o,n,s),Iu(e)}function Qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}function af(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var of=!1;function Ko(){if(of){var e=Ra;if(e!==null)throw e}}function Yo(e,n,s,o){of=!1;var h=e.updateQueue;Vs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,p===null?f=z:p.next=z,p=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;p=0,F=z=C=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Ut&j)===j:(o&j)===j){j!==0&&j===wa&&(of=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,mt=E;j=n;var oe=s;switch(mt.tag){case 1:if(ot=mt.payload,typeof ot=="function"){Y=ot.call(oe,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=mt.payload,j=typeof ot=="function"?ot.call(oe,Y,j):ot,j==null)break t;Y=S({},Y,j);break t;case 2:Vs=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,C=Y):F=F.next=H,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Bs|=p,e.lanes=p,e.memoizedState=Y}}function $g(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Zg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)$g(s[e],n)}var Na=O(null),Lu=O(0);function Jg(e,n){e=as,et(Lu,e),et(Na,n),as=e|n.baseLanes}function lf(){et(Lu,as),et(Na,Na.current)}function uf(){as=Lu.current,K(Na),K(Lu)}var Nn=O(null),Qn=null;function Ls(e){var n=e.alternate;et(Re,Re.current&1),et(Nn,e),Qn===null&&(n===null||Na.current!==null||n.memoizedState!==null)&&(Qn=e)}function cf(e){et(Re,Re.current),et(Nn,e),Qn===null&&(Qn=e)}function Wg(e){e.tag===22?(et(Re,Re.current),et(Nn,e),Qn===null&&(Qn=e)):Ps()}function Ps(){et(Re,Re.current),et(Nn,Nn.current)}function xn(e){K(Nn),Qn===e&&(Qn=null),K(Re)}var Re=O(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=0,It=null,re=null,Ve=null,zu=!1,xa=!1,Gr=!1,ju=0,Xo=0,Da=null,d1=0;function Ee(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!In(e[s],n[s]))return!1;return!0}function ff(e,n,s,o,h,f){return Ji=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Up:If,Gr=!1,f=s(o,h),Gr=!1,xa&&(f=ep(n,s,o,h)),tp(e),f}function tp(e){q.H=Jo;var n=re!==null&&re.next!==null;if(Ji=0,Ve=re=It=null,zu=!1,Xo=0,Da=null,n)throw Error(a(300));e===null||ke||(e=e.dependencies,e!==null&&xu(e)&&(ke=!0))}function ep(e,n,s,o){It=e;var h=0;do{if(xa&&(Da=null),Xo=0,xa=!1,25<=h)throw Error(a(301));if(h+=1,Ve=re=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Lp,f=n(s,o)}while(xa);return f}function m1(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(re!==null?re.memoizedState:null)!==e&&(It.flags|=1024),n}function df(){var e=ju!==0;return ju=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}Ji=0,Ve=re=It=null,xa=!1,Xo=ju=0,Da=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ie(){if(re===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var n=Ve===null?It.memoizedState:Ve.next;if(n!==null)Ve=n,re=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,Da===null&&(Da=[]),e=Fg(Da,e,n),n=It,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Up:If),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===gt)return Ze(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=It.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Bu(),It.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Wi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=Ie();return yf(n,re,e)}function yf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,C=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Ut&Y)===Y:(Ji&Y)===Y){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===wa&&(F=!0);else if((Ji&j)===j){z=z.next,j===wa&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=Y,p=f):C=C.next=Y,It.lanes|=j,Bs|=j;Y=z.action,Gr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,p=f):C=C.next=j,It.lanes|=Y,Bs|=Y;z=z.next}while(z!==null&&z!==n);if(C===null?p=f:C.next=E,!In(f,e.memoizedState)&&(ke=!0,F&&(s=Ra,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=Ie(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);In(f,n.memoizedState)||(ke=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function np(e,n,s){var o=It,h=Ie(),f=Ht;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!In((re||h).memoizedState,s);if(p&&(h.memoizedState=s,ke=!0),h=h.queue,Tf(rp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ve!==null&&Ve.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},sp.bind(null,o,h,s,n),null),ue===null)throw Error(a(349));f||(Ji&127)!==0||ip(o,n,s)}return s}function ip(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=It.updateQueue,n===null?(n=Bu(),It.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function sp(e,n,s,o){n.value=s,n.getSnapshot=o,ap(n)&&op(e)}function rp(e,n,s){return s(function(){ap(n)&&op(e)})}function ap(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!In(e,s)}catch{return!0}}function op(e){var n=kr(e,2);n!==null&&En(n,e,2)}function vf(e){var n=hn();if(typeof e=="function"){var s=e;if(e=s(),Gr){Un(!0);try{s()}finally{Un(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},n}function lp(e,n,s,o){return e.baseState=s,yf(e,re,typeof o=="function"?o:Wi)}function g1(e,n,s,o,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,up(n,f)):(f.next=s.next,n.pending=s.next=f)}}function up(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var E=s(h,o),C=q.S;C!==null&&C(p,E),cp(e,n,E)}catch(z){Ef(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=s(h,o),cp(e,n,f)}catch(z){Ef(e,n,z)}}function cp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){hp(e,n,o)},function(o){return Ef(e,n,o)}):hp(e,n,s)}function hp(e,n,s){n.status="fulfilled",n.value=s,fp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,up(e,s)))}function Ef(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,fp(n),n=n.next;while(n!==o)}e.action=null}function fp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dp(e,n){return n}function mp(e,n){if(Ht){var s=ue.formState;if(s!==null){t:{var o=It;if(Ht){if(fe){e:{for(var h=fe,f=Fn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){fe=Kn(h.nextSibling),o=h.data==="F!";break t}}Os(o)}o=!1}o&&(n=s[0])}}return s=hn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:n},s.queue=o,s=Mp.bind(null,It,o),o.dispatch=s,o=vf(!1),f=Rf.bind(null,It,!1,o.queue),o=hn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=g1.bind(null,It,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function gp(e){var n=Ie();return pp(n,re,e)}function pp(e,n,s){if(n=yf(e,n,dp)[0],e=qu(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(p){throw p===Ia?Mu:p}else o=n;n=Ie();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(It.flags|=2048,Oa(9,{destroy:void 0},p1.bind(null,h,s),null)),[o,f,e]}function p1(e,n){e.action=n}function yp(e){var n=Ie(),s=re;if(s!==null)return pp(n,s,e);Ie(),n=n.memoizedState,s=Ie();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Oa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=Bu(),It.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function _p(){return Ie().memoizedState}function Gu(e,n,s,o){var h=hn();It.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Fu(e,n,s,o){var h=Ie();o=o===void 0?null:o;var f=h.memoizedState.inst;re!==null&&o!==null&&hf(o,re.memoizedState.deps)?h.memoizedState=Oa(n,f,s,o):(It.flags|=e,h.memoizedState=Oa(1|n,f,s,o))}function vp(e,n){Gu(8390656,8,e,n)}function Tf(e,n){Fu(2048,8,e,n)}function y1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Bu(),It.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ep(e){var n=Ie().memoizedState;return y1({ref:n,nextImpl:e}),function(){if(($t&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tp(e,n){return Fu(4,2,e,n)}function bp(e,n){return Fu(4,4,e,n)}function Sp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,s){s=s!=null?s.concat([e]):null,Fu(4,4,Sp.bind(null,n,e),s)}function bf(){}function wp(e,n){var s=Ie();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Rp(e,n){var s=Ie();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),Gr){Un(!0);try{e()}finally{Un(!1)}}return s.memoizedState=[o,n],o}function Sf(e,n,s){return s===void 0||(Ji&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Iy(),It.lanes|=e,Bs|=e,s)}function Ip(e,n,s,o){return In(s,n)?s:Na.current!==null?(e=Sf(e,s,o),In(e,n)||(ke=!0),e):(Ji&42)===0||(Ji&1073741824)!==0&&(Ut&261930)===0?(ke=!0,e.memoizedState=s):(e=Iy(),It.lanes|=e,Bs|=e,n)}function Cp(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=q.T,E={};q.T=E,Rf(e,!1,n,s);try{var C=h(),z=q.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=f1(C,o);Zo(e,n,F,Mn(e))}else Zo(e,n,o,Mn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},Mn())}finally{tt.p=f,p!==null&&E.types!==null&&(p.types=E.types),q.T=p}}function _1(){}function Af(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Np(e).queue;Cp(e,h,n,ct,s===null?_1:function(){return xp(e),s(o)})}function Np(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xp(e){var n=Np(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},Mn())}function wf(){return Ze(ml)}function Dp(){return Ie().memoizedState}function Op(){return Ie().memoizedState}function v1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Mn();e=ks(s);var o=Us(n,e,s);o!==null&&(En(o,n,s),Qo(o,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function E1(e,n,s){var o=Mn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Vp(n,s):(s=Hh(e,n,s,o),s!==null&&(En(s,e,o),kp(s,n,o)))}function Mp(e,n,s){var o=Mn();Zo(e,n,s,o)}function Zo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,In(E,p))return Ru(e,n,h,0),ue===null&&wu(),!1}catch{}finally{}if(s=Hh(e,n,h,o),s!==null)return En(s,e,o),kp(s,n,o),!0}return!1}function Rf(e,n,s,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=Hh(e,s,o,2),n!==null&&En(n,e,2)}function Qu(e){var n=e.alternate;return e===It||n!==null&&n===It}function Vp(e,n){xa=zu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function kp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}var Jo={readContext:Ze,use:Hu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};Jo.useEffectEvent=Ee;var Up={readContext:Ze,use:Hu,useCallback:function(e,n){return hn().memoizedState=[e,n===void 0?null:n],e},useContext:Ze,useEffect:vp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Gu(4194308,4,Sp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var s=hn();n=n===void 0?null:n;var o=e();if(Gr){Un(!0);try{e()}finally{Un(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=hn();if(s!==void 0){var h=s(n);if(Gr){Un(!0);try{s(n)}finally{Un(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=E1.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=hn();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Mp.bind(null,It,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,n){var s=hn();return Sf(s,e,n)},useTransition:function(){var e=vf(!1);return e=Cp.bind(null,It,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=It,h=hn();if(Ht){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ue===null)throw Error(a(349));(Ut&127)!==0||ip(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,vp(rp.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},sp.bind(null,o,f,s,n),null),s},useId:function(){var e=hn(),n=ue.identifierPrefix;if(Ht){var s=Oi,o=Di;s=(o&~(1<<32-Ae(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ju++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=d1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:mp,useActionState:mp,useOptimistic:function(e){var n=hn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,It,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return hn().memoizedState=v1.bind(null,It)},useEffectEvent:function(e){var n=hn(),s={impl:e};return n.memoizedState=s,function(){if(($t&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},If={readContext:Ze,use:Hu,useCallback:wp,useContext:Ze,useEffect:Tf,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:qu,useRef:_p,useState:function(){return qu(Wi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Ie();return Ip(s,re.memoizedState,e,n)},useTransition:function(){var e=qu(Wi)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:wf,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var s=Ie();return lp(s,re,e,n)},useMemoCache:pf,useCacheRefresh:Op};If.useEffectEvent=Ep;var Lp={readContext:Ze,use:Hu,useCallback:wp,useContext:Ze,useEffect:Tf,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:_f,useRef:_p,useState:function(){return _f(Wi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Ie();return re===null?Sf(s,e,n):Ip(s,re.memoizedState,e,n)},useTransition:function(){var e=_f(Wi)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:wf,useFormState:yp,useActionState:yp,useOptimistic:function(e,n){var s=Ie();return re!==null?lp(s,re,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Op};Lp.useEffectEvent=Ep;function Cf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Nf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Mn(),h=ks(o);h.payload=n,s!=null&&(h.callback=s),n=Us(e,h,o),n!==null&&(En(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Mn(),h=ks(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Us(e,h,o),n!==null&&(En(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Mn(),o=ks(s);o.tag=2,n!=null&&(o.callback=n),n=Us(e,o,s),n!==null&&(En(n,e,s),Qo(n,e,s))}};function Pp(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Po(s,o)||!Po(h,f):!0}function zp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function Fr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function jp(e){Au(e)}function Bp(e){console.error(e)}function Hp(e){Au(e)}function Ku(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,s){return s=ks(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(e,n)},s}function Gp(e){return e=ks(e),e.tag=3,e}function Fp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){qp(n,s,o),typeof h!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function T1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Aa(n,s,h,!0),s=Nn.current,s!==null){switch(s.tag){case 31:case 13:return Qn===null?rc():s.alternate===null&&Te===0&&(Te=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return s.flags|=65536,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(e,o,h)),!1}throw Error(a(435,s.tag))}return ed(e,o,h),rc(),!1}if(Ht)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),Bo(Hn(e,s)))):(o!==Yh&&(n=Error(a(423),{cause:o}),Bo(Hn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Hn(o,s),h=xf(e.stateNode,o,h),af(e,h),Te!==4&&(Te=2)),!1;var f=Error(a(520),{cause:o});if(f=Hn(f,s),al===null?al=[f]:al.push(f),Te!==4&&(Te=2),n===null)return!0;o=Hn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=xf(s.stateNode,o,e),af(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gp(h),Fp(h,e,s,o),af(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),ke=!1;function Je(e,n,s,o){n.child=e===null?Xg(n,null,s,o):qr(n,e.child,s,o)}function Qp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return zr(n),o=ff(e,n,s,p,f,h),E=df(),e!==null&&!ke?(mf(e,n,h),ts(e,n,h)):(Ht&&E&&Qh(n),n.flags|=1,Je(e,n,o,h),n.child)}function Kp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yp(e,n,f,o,h)):(e=Cu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(p,o)&&e.ref===n.ref)return ts(e,n,h)}return n.flags|=1,e=Yi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Yp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(ke=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(ke=!0);else return n.lanes=e.lanes,ts(e,n,h)}return Of(e,n,s,o,h)}function Xp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return $p(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Jg(n,f):lf(),Wg(n);else return o=n.lanes=536870912,$p(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),Jg(n,f),Ps(),n.memoizedState=null):(e!==null&&Ou(n,null),lf(),Ps());return Je(e,n,h,s),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $p(e,n,s,o,h){var f=ef();return f=f===null?null:{parent:Me._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),lf(),Wg(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Zp(e,n,s){return qr(n,e.child,null,s),e=Yu(n,n.pendingProps),e.flags|=2,xn(n),n.memoizedState=null,e}function b1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ht){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,Wo(null,e);if(cf(n),(e=fe)?(e=u_(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xs!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,$e=n,fe=null)):e=null,e===null)throw Os(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Zp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ke||Aa(e,n,s,!1),h=(s&e.childLanes)!==0,ke||h){if(o=ue,o!==null&&(p=Eo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,kr(e,p),En(o,e,p),Df;rc(),n=Zp(e,n,s)}else e=f.treeContext,fe=Kn(p.nextSibling),$e=n,Ht=!0,Ds=null,Fn=!1,e!==null&&Lg(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=Yi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Of(e,n,s,o,h){return zr(n),s=ff(e,n,s,o,void 0,h),o=df(),e!==null&&!ke?(mf(e,n,h),ts(e,n,h)):(Ht&&o&&Qh(n),n.flags|=1,Je(e,n,s,h),n.child)}function Jp(e,n,s,o,h,f){return zr(n),n.updateQueue=null,s=ep(n,o,s,h),tp(e),o=df(),e!==null&&!ke?(mf(e,n,f),ts(e,n,f)):(Ht&&o&&Qh(n),n.flags|=1,Je(e,n,s,f),n.child)}function Wp(e,n,s,o,h){if(zr(n),n.stateNode===null){var f=Ea,p=s.contextType;typeof p=="object"&&p!==null&&(f=Ze(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Ze(p):Ea,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Cf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Fr(s,E);f.props=C;var z=f.context,F=s.contextType;p=Ea,typeof F=="object"&&F!==null&&(p=Ze(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&zp(n,f,o,p),Vs=!1;var j=n.memoizedState;f.state=j,Yo(n,o,f,h),Ko(),z=n.memoizedState,E||j!==z||Vs?(typeof Y=="function"&&(Cf(n,s,Y,o),z=n.memoizedState),(C=Vs||Pp(n,s,C,o,j,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),p=n.memoizedProps,F=Fr(s,p),f.props=F,Y=n.pendingProps,j=f.context,z=s.contextType,C=Ea,typeof z=="object"&&z!==null&&(C=Ze(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==C)&&zp(n,f,o,C),Vs=!1,j=n.memoizedState,f.state=j,Yo(n,o,f,h),Ko();var H=n.memoizedState;p!==Y||j!==H||Vs||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof E=="function"&&(Cf(n,s,E,o),H=n.memoizedState),(F=Vs||Pp(n,s,F,o,j,H,C)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=qr(n,e.child,null,h),n.child=qr(n,null,s,h)):Je(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ts(e,n,h),e}function ty(e,n,s,o){return Lr(),n.flags|=256,Je(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:qg()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=On),e}function ey(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(h?Ls(n):Ps(),(e=fe)?(e=u_(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xs!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,$e=n,fe=null)):e=null,e===null)throw Os(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ps(),h=n.mode,E=$u({mode:"hidden",children:E},h),o=Ur(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,p,s),n.memoizedState=Mf,Wo(null,o)):(Ls(n),Uf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ls(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(Ps(),n.child=e.child,n.flags|=128,n=null):(Ps(),E=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),E=Ur(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,qr(n,e.child,null,s),o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,p,s),n.memoizedState=Mf,n=Wo(null,o));else if(Ls(n),yd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Bo({value:o,source:null,stack:null}),n=Lf(e,n,s)}else if(ke||Aa(e,n,s,!1),p=(s&e.childLanes)!==0,ke||p){if(p=ue,p!==null&&(o=Eo(p,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,kr(e,o),En(p,e,o),Df;pd(E)||rc(),n=Lf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,fe=Kn(E.nextSibling),$e=n,Ht=!0,Ds=null,Fn=!1,e!==null&&Lg(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(Ps(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=Yi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Yi(z,E):(E=Ur(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Vf(s):(h=E.cachePool,h!==null?(C=Me._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=qg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,p,s),n.memoizedState=Mf,Wo(e.child,o)):(Ls(n),s=e.child,e=s.sibling,s=Yi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=Cn(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return qr(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ny(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,s)}function Pf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function iy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Re.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,et(Re,p),Je(e,n,o,s),o=Ht?jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,s,n);else if(e.tag===19)ny(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Pu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ts(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Bs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Aa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Yi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Yi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function S1(e,n,s){switch(n.tag){case 3:be(n,n.stateNode.containerInfo),Ms(n,Me,e.memoizedState.cache),Lr();break;case 27:case 5:it(n);break;case 4:be(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ls(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ey(e,n,s):(Ls(n),e=ts(e,n,s),e!==null?e.sibling:null);Ls(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Aa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return iy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Re,Re.current),o)break;return null;case 22:return n.lanes=0,Xp(e,n,s,n.pendingProps);case 24:Ms(n,Me,e.memoizedState.cache)}return ts(e,n,s)}function sy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)ke=!0;else{if(!zf(e,s)&&(n.flags&128)===0)return ke=!1,S1(e,n,s);ke=(e.flags&131072)!==0}else ke=!1,Ht&&(n.flags&1048576)!==0&&Ug(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Br(n.elementType),n.type=e,typeof e=="function")qh(e)?(o=Fr(e,o),n.tag=1,n=Wp(null,n,e,o,s)):(n.tag=0,n=Of(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Yt){n.tag=11,n=Qp(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=Kp(null,n,e,o,s);break t}}throw n=le(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Fr(o,n.pendingProps),Wp(e,n,o,h,s);case 3:t:{if(be(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Yo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Ms(n,Me,o),o!==f.cache&&Jh(n,[Me],s,!0),Ko(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ty(e,n,o,s);break t}else if(o!==h){h=Hn(Error(a(424)),n),Bo(h),n=ty(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Kn(e.firstChild),$e=n,Ht=!0,Ds=null,Fn=!0,s=Xg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Lr(),o===h){n=ts(e,n,s);break t}Je(e,n,o,s)}n=n.child}return n;case 26:return Xu(e,n),e===null?(s=g_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ht||(s=n.type,e=n.pendingProps,o=fc(St.current).createElement(s),o[xe]=n,o[Ge]=e,We(o,s,e),De(o),n.stateNode=o):n.memoizedState=g_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return it(n),e===null&&Ht&&(o=n.stateNode=f_(n.type,n.pendingProps,St.current),$e=n,Fn=!0,h=fe,Qs(n.type)?(_d=h,fe=Kn(o.firstChild)):fe=h),Je(e,n,n.pendingProps.children,s),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ht&&((h=o=fe)&&(o=W1(o,n.type,n.pendingProps,Fn),o!==null?(n.stateNode=o,$e=n,fe=Kn(o.firstChild),Fn=!1,h=!0):h=!1),h||Os(n)),it(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:p!==null&&dd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,m1,null,null,s),ml._currentValue=h),Xu(e,n),Je(e,n,o,s),n.child;case 6:return e===null&&Ht&&((e=s=fe)&&(s=tb(s,n.pendingProps,Fn),s!==null?(n.stateNode=s,$e=n,fe=null,e=!0):e=!1),e||Os(n)),null;case 13:return ey(e,n,s);case 4:return be(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=qr(n,null,o,s):Je(e,n,o,s),n.child;case 11:return Qp(e,n,n.type,n.pendingProps,s);case 7:return Je(e,n,n.pendingProps,s),n.child;case 8:return Je(e,n,n.pendingProps.children,s),n.child;case 12:return Je(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ms(n,n.type,o.value),Je(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,zr(n),h=Ze(h),o=o(h),n.flags|=1,Je(e,n,o,s),n.child;case 14:return Kp(e,n,n.type,n.pendingProps,s);case 15:return Yp(e,n,n.type,n.pendingProps,s);case 19:return iy(e,n,s);case 31:return b1(e,n,s);case 22:return Xp(e,n,s,n.pendingProps);case 24:return zr(n),o=Ze(Me),e===null?(h=ef(),h===null&&(h=ue,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},sf(n),Ms(n,Me,h)):((e.lanes&s)!==0&&(rf(e,n),Yo(n,null,null,s),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ms(n,Me,o)):(o=f.cache,Ms(n,Me,o),o!==h.cache&&Jh(n,[Me],s,!0))),Je(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function es(e){e.flags|=4}function jf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw Hr=Vu,nf}else e.flags&=-16777217}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E_(n))if(Dy())e.flags|=8192;else throw Hr=Vu,nf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Ua|=n)}function tl(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function A1(e,n,s){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Zi(Me),ce(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Sa(n)?es(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),de(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(es(n),f!==null?(de(n),ry(n,f)):(de(n),jf(n,h,null,o,s))):f?f!==e.memoizedState?(es(n),de(n),ry(n,f)):(de(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&es(n),de(n),jf(n,h,e,o,s)),null;case 27:if(at(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=st.current,Sa(n)?Pg(n):(e=f_(h,o,s),n.stateNode=e,es(n))}return de(n),null;case 5:if(at(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(f=st.current,Sa(n))Pg(n);else{var p=fc(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[xe]=n,f[Ge]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(We(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&es(n)}}return de(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,Sa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=$e,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[xe]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||e_(e.nodeValue,s)),e||Os(n,!0)}else e=fc(e).createTextNode(o),e[xe]=n,n.stateNode=e}return de(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Sa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[xe]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return de(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Sa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xe]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),de(n),null);case 4:return ce(),e===null&&ld(n.stateNode.containerInfo),de(n),null;case 10:return Zi(n.type),de(n),null;case 19:if(K(Re),o=n.memoizedState,o===null)return de(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Mg(s,e),s=s.sibling;return et(Re,Re.current&1|2),Ht&&Xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&un()>nc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ht)return de(n),null}else 2*un()-o.renderingStartTime>nc&&s!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=un(),e.sibling=null,s=Re.current,et(Re,h?s&1|2:s&1),Ht&&Xi(n,o.treeForkCount),e):(de(n),null);case 22:case 23:return xn(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(jr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Zi(Me),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function w1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Zi(Me),ce(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return at(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Lr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Lr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Re),null;case 4:return ce(),null;case 10:return Zi(n.type),null;case 22:case 23:return xn(n),uf(),e!==null&&K(jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Zi(Me),null;case 25:return null;default:return null}}function ay(e,n){switch(Kh(n),n.tag){case 3:Zi(Me),ce();break;case 26:case 27:case 5:at(n);break;case 4:ce();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:K(Re);break;case 10:Zi(n.type);break;case 22:case 23:xn(n),uf(),e!==null&&K(jr);break;case 24:Zi(Me)}}function el(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){ee(n,n.return,E)}}function zs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(F){ee(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){ee(n,n.return,F)}}function oy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Zg(n,s)}catch(o){ee(e,e.return,o)}}}function ly(e,n,s){s.props=Fr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ee(e,n,o)}}function nl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){ee(e,n,h)}}function Mi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ee(e,n,h)}else s.current=null}function uy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ee(e,e.return,h)}}function Bf(e,n,s){try{var o=e.stateNode;K1(o,e.type,s,n),o[Ge]=n}catch(h){ee(e,e.return,h)}}function cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qs(e.type)||e.tag===4}function Hf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ni));else if(o!==4&&(o===27&&Qs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function Ju(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Qs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ju(e,n,s),e=e.sibling;e!==null;)Ju(e,n,s),e=e.sibling}function hy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);We(n,o,s),n[xe]=e,n[Ge]=s}catch(f){ee(e,e.return,f)}}var ns=!1,Ue=!1,Gf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function R1(e,n){if(e=e.containerInfo,hd=vc,e=Ag(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,C=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(C=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(E=p),j===f&&++F===o&&(C=p),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},vc=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Fr(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){ee(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function dy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ss(e,s),o&4&&el(5,s);break;case 1:if(ss(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){ee(s,s.return,p)}else{var h=Fr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){ee(s,s.return,p)}}o&64&&oy(s),o&512&&nl(s,s.return);break;case 3:if(ss(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Zg(e,n)}catch(p){ee(s,s.return,p)}}break;case 27:n===null&&o&4&&hy(s);case 26:case 5:ss(e,s),n===null&&o&4&&uy(s),o&512&&nl(s,s.return);break;case 12:ss(e,s);break;case 31:ss(e,s),o&4&&py(e,s);break;case 13:ss(e,s),o&4&&yy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=k1.bind(null,s),eb(e,s))));break;case 22:if(o=s.memoizedState!==null||ns,!o){n=n!==null&&n.memoizedState!==null||Ue,h=ns;var f=Ue;ns=o,(Ue=n)&&!f?rs(e,s,(s.subtreeFlags&8772)!==0):ss(e,s),ns=h,Ue=f}break;case 30:break;default:ss(e,s)}}function my(e){var n=e.alternate;n!==null&&(e.alternate=null,my(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&aa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,pn=!1;function is(e,n,s){for(s=s.child;s!==null;)gy(e,n,s),s=s.sibling}function gy(e,n,s){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Jn,s)}catch{}switch(s.tag){case 26:Ue||Mi(s,n),is(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ue||Mi(s,n);var o=ye,h=pn;Qs(s.type)&&(ye=s.stateNode,pn=!1),is(e,n,s),hl(s.stateNode),ye=o,pn=h;break;case 5:Ue||Mi(s,n);case 6:if(o=ye,h=pn,ye=null,is(e,n,s),ye=o,pn=h,ye!==null)if(pn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(s.stateNode)}catch(f){ee(s,n,f)}else try{ye.removeChild(s.stateNode)}catch(f){ee(s,n,f)}break;case 18:ye!==null&&(pn?(e=ye,o_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ga(e)):o_(ye,s.stateNode));break;case 4:o=ye,h=pn,ye=s.stateNode.containerInfo,pn=!0,is(e,n,s),ye=o,pn=h;break;case 0:case 11:case 14:case 15:zs(2,s,n),Ue||zs(4,s,n),is(e,n,s);break;case 1:Ue||(Mi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ly(s,n,o)),is(e,n,s);break;case 21:is(e,n,s);break;case 22:Ue=(o=Ue)||s.memoizedState!==null,is(e,n,s),Ue=o;break;default:is(e,n,s)}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(s){ee(n,n.return,s)}}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(s){ee(n,n.return,s)}}function I1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fy),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var s=I1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=U1.bind(null,e,o);o.then(h,h)}})}function yn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Qs(E.type)){ye=E.stateNode,pn=!1;break t}break;case 5:ye=E.stateNode,pn=!1;break t;case 3:case 4:ye=E.stateNode.containerInfo,pn=!0;break t}E=E.return}if(ye===null)throw Error(a(160));gy(f,p,h),ye=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,e),n=n.sibling}var li=null;function _y(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(n,e),_n(e),o&4&&(zs(3,e,e.return),el(3,e),zs(5,e,e.return));break;case 1:yn(n,e),_n(e),o&512&&(Ue||s===null||Mi(s,s.return)),o&64&&ns&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=li;if(yn(n,e),_n(e),o&512&&(Ue||s===null||Mi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vi]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),We(f,o,s),f[xe]=e,De(f),o=f;break t;case"link":var p=__("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),We(f,o,s),h.head.appendChild(f);break;case"meta":if(p=__("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),We(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[xe]=e,De(f),o=f}e.stateNode=o}else v_(h,e.type,e.stateNode);else e.stateNode=y_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?v_(h,e.type,e.stateNode):y_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:yn(n,e),_n(e),o&512&&(Ue||s===null||Mi(s,s.return)),s!==null&&o&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(yn(n,e),_n(e),o&512&&(Ue||s===null||Mi(s,s.return)),e.flags&32){h=e.stateNode;try{gn(h,"")}catch(ot){ee(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(yn(n,e),_n(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){ee(e,e.return,ot)}}break;case 3:if(gc=null,h=li,li=dc(n.containerInfo),yn(n,e),li=h,_n(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(ot){ee(e,e.return,ot)}Gf&&(Gf=!1,vy(e));break;case 4:o=li,li=dc(e.stateNode.containerInfo),yn(n,e),_n(e),li=o;break;case 12:yn(n,e),_n(e);break;case 31:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:yn(n,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ec=un()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=ns,F=Ue;if(ns=z||h,Ue=F||C,yn(n,e),Ue=F,ns=z,_n(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ns||Ue||Qr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){ee(C,C.return,ot)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ot){ee(C,C.return,ot)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?l_(H,!0):l_(C.stateNode,!1)}catch(ot){ee(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Wu(e,s))));break;case 19:yn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:yn(n,e),_n(e)}}function _n(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(cy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(e);Ju(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(gn(p,""),s.flags&=-33);var E=Hf(e);Ju(e,E,p);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Hf(e);qf(e,z,C);break;default:throw Error(a(161))}}catch(F){ee(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ss(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(e,n.alternate,n),n=n.sibling}function Qr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),Qr(n);break;case 1:Mi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),Qr(n);break;case 27:hl(n.stateNode);case 26:case 5:Mi(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}e=e.sibling}}function rs(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:rs(h,f,s),el(4,f);break;case 1:if(rs(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ee(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)$g(C[h],E)}catch(z){ee(o,o.return,z)}}s&&p&64&&oy(f),nl(f,f.return);break;case 27:hy(f);case 26:case 5:rs(h,f,s),s&&o===null&&p&4&&uy(f),nl(f,f.return);break;case 12:rs(h,f,s);break;case 31:rs(h,f,s),s&&p&4&&py(h,f);break;case 13:rs(h,f,s),s&&p&4&&yy(h,f);break;case 22:f.memoizedState===null&&rs(h,f,s),nl(f,f.return);break;case 30:break;default:rs(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ho(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function ui(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(e,n,s,o),n=n.sibling}function Ey(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(e,n,s,o),h&2048&&el(9,n);break;case 1:ui(e,n,s,o);break;case 3:ui(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){ui(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ee(n,n.return,C)}}else ui(e,n,s,o);break;case 31:ui(e,n,s,o);break;case 13:ui(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ui(e,n,s,o):il(e,n):f._visibility&2?ui(e,n,s,o):(f._visibility|=2,Ma(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(p,n);break;case 24:ui(e,n,s,o),h&2048&&Qf(n.alternate,n);break;default:ui(e,n,s,o)}}function Ma(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,C=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ma(f,p,E,C,h),el(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Ma(f,p,E,C,h):il(f,p):(F._visibility|=2,Ma(f,p,E,C,h)),h&&z&2048&&Ff(p.alternate,p);break;case 24:Ma(f,p,E,C,h),h&&z&2048&&Qf(p.alternate,p);break;default:Ma(f,p,E,C,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:il(s,o),h&2048&&Ff(o.alternate,o);break;case 24:il(s,o),h&2048&&Qf(o.alternate,o);break;default:il(s,o)}n=n.sibling}}var sl=8192;function Va(e,n,s){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)Ty(e,n,s),e=e.sibling}function Ty(e,n,s){switch(e.tag){case 26:Va(e,n,s),e.flags&sl&&e.memoizedState!==null&&db(s,li,e.memoizedState,e.memoizedProps);break;case 5:Va(e,n,s);break;case 3:case 4:var o=li;li=dc(e.stateNode.containerInfo),Va(e,n,s),li=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Va(e,n,s),sl=o):Va(e,n,s));break;default:Va(e,n,s)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Qe=o,Ay(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&zs(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):rl(e);break;default:rl(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Qe=o,Ay(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zs(8,n,n.return),tc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Ay(e,n){for(;Qe!==null;){var s=Qe;switch(s.tag){case 0:case 11:case 15:zs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Qe=o;else t:for(s=e;Qe!==null;){o=Qe;var h=o.sibling,f=o.return;if(my(o),o===s){Qe=null;break t}if(h!==null){h.return=f,Qe=h;break t}Qe=f}}}var C1={getCacheForType:function(e){var n=Ze(Me),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ze(Me).controller.signal}},N1=typeof WeakMap=="function"?WeakMap:Map,$t=0,ue=null,Vt=null,Ut=0,te=0,Dn=null,js=!1,ka=!1,Kf=!1,as=0,Te=0,Bs=0,Kr=0,Yf=0,On=0,Ua=0,al=null,vn=null,Xf=!1,ec=0,wy=0,nc=1/0,ic=null,Hs=null,Be=0,qs=null,La=null,os=0,$f=0,Zf=null,Ry=null,ol=0,Jf=null;function Mn(){return($t&2)!==0&&Ut!==0?Ut&-Ut:q.T!==null?sd():su()}function Iy(){if(On===0)if((Ut&536870912)===0||Ht){var e=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),On=e}else On=536870912;return e=Nn.current,e!==null&&(e.flags|=32),On}function En(e,n,s){(e===ue&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),Gs(e,Ut,On,!1)),Tr(e,s),(($t&2)===0||e!==ue)&&(e===ue&&(($t&2)===0&&(Kr|=s),Te===4&&Gs(e,Ut,On,!1)),Vi(e))}function Cy(e,n,s){if(($t&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Wn(e,n),h=o?O1(e,n):td(e,n,!0),f=o;do{if(h===0){ka&&!o&&Gs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!x1(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=al;var C=E.current.memoizedState.isDehydrated;if(C&&(Pa(E,p).flags|=256),p=td(E,p,!1),p!==2){if(Kf&&!C){E.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break t}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Pa(e,0),Gs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,On,!js);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-un(),10<h)){if(Gs(o,n,On,!js),pi(o,0,!0)!==0)break t;os=n,o.timeoutHandle=r_(Ny.bind(null,o,s,vn,ic,Xf,n,On,Kr,Ua,js,f,"Throttled",-0,0),h);break t}Ny(o,s,vn,ic,Xf,n,On,Kr,Ua,js,f,null,-0,0)}}break}while(!0);Vi(e)}function Ny(e,n,s,o,h,f,p,E,C,z,F,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},Ty(n,f,Y);var ot=(f&62914560)===f?ec-un():(f&4194048)===f?wy-un():0;if(ot=mb(Y,ot),ot!==null){os=f,e.cancelPendingCommit=ot(Ly.bind(null,e,n,f,s,o,h,p,E,C,F,Y,null,j,H)),Gs(e,f,p,!z);return}}Ly(e,n,f,s,o,h,p,E,C)}function x1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!In(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(e,n,s,o){n&=~Yf,n&=~Kr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ae(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&br(e,s,n)}function sc(){return($t&6)===0?(ll(0),!1):!0}function Wf(){if(Vt!==null){if(te===0)var e=Vt.return;else e=Vt,$i=Pr=null,gf(e),Ca=null,Go=0,e=Vt;for(;e!==null;)ay(e.alternate,e),e=e.return;Vt=null}}function Pa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,$1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),os=0,Wf(),ue=e,Vt=s=Yi(e.current,null),Ut=n,te=0,Dn=null,js=!1,ka=Wn(e,n),Kf=!1,Ua=On=Yf=Kr=Bs=Te=0,vn=al=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ae(o),f=1<<h;n|=e[h],o&=~f}return as=n,wu(),s}function xy(e,n){It=null,q.H=Jo,n===Ia||n===Mu?(n=Qg(),te=3):n===nf?(n=Qg(),te=4):te=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,Vt===null&&(Te=1,Ku(e,Hn(n,e.current)))}function Dy(){var e=Nn.current;return e===null?!0:(Ut&4194048)===Ut?Qn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Qn:!1}function Oy(){var e=q.H;return q.H=Jo,e===null?Jo:e}function My(){var e=q.A;return q.A=C1,e}function rc(){Te=4,js||(Ut&4194048)!==Ut&&Nn.current!==null||(ka=!0),(Bs&134217727)===0&&(Kr&134217727)===0||ue===null||Gs(ue,Ut,On,!1)}function td(e,n,s){var o=$t;$t|=2;var h=Oy(),f=My();(ue!==e||Ut!==n)&&(ic=null,Pa(e,n)),n=!1;var p=Te;t:do try{if(te!==0&&Vt!==null){var E=Vt,C=Dn;switch(te){case 8:Wf(),p=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var z=te;if(te=0,Dn=null,za(e,E,C,z),s&&ka){p=0;break t}break;default:z=te,te=0,Dn=null,za(e,E,C,z)}}D1(),p=Te;break}catch(F){xy(e,F)}while(!0);return n&&e.shellSuspendCounter++,$i=Pr=null,$t=o,q.H=h,q.A=f,Vt===null&&(ue=null,Ut=0,wu()),p}function D1(){for(;Vt!==null;)Vy(Vt)}function O1(e,n){var s=$t;$t|=2;var o=Oy(),h=My();ue!==e||Ut!==n?(ic=null,nc=un()+500,Pa(e,n)):ka=Wn(e,n);t:do try{if(te!==0&&Vt!==null){n=Vt;var f=Dn;e:switch(te){case 1:te=0,Dn=null,za(e,n,f,1);break;case 2:case 9:if(Gg(f)){te=0,Dn=null,ky(n);break}n=function(){te!==2&&te!==9||ue!==e||(te=7),Vi(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Gg(f)?(te=0,Dn=null,ky(n)):(te=0,Dn=null,za(e,n,f,7));break;case 5:var p=null;switch(Vt.tag){case 26:p=Vt.memoizedState;case 5:case 27:var E=Vt;if(p?E_(p):E.stateNode.complete){te=0,Dn=null;var C=E.sibling;if(C!==null)Vt=C;else{var z=E.return;z!==null?(Vt=z,ac(z)):Vt=null}break e}}te=0,Dn=null,za(e,n,f,5);break;case 6:te=0,Dn=null,za(e,n,f,6);break;case 8:Wf(),Te=6;break t;default:throw Error(a(462))}}M1();break}catch(F){xy(e,F)}while(!0);return $i=Pr=null,q.H=o,q.A=h,$t=s,Vt!==null?0:(ue=null,Ut=0,wu(),Te)}function M1(){for(;Vt!==null&&!di();)Vy(Vt)}function Vy(e){var n=sy(e.alternate,e,as);e.memoizedProps=e.pendingProps,n===null?ac(e):Vt=n}function ky(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Jp(s,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Jp(s,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:gf(n);default:ay(s,n),n=Vt=Mg(n,as),n=sy(s,n,as)}e.memoizedProps=e.pendingProps,n===null?ac(e):Vt=n}function za(e,n,s,o){$i=Pr=null,gf(n),Ca=null,Go=0;var h=n.return;try{if(T1(e,h,n,s,Ut)){Te=1,Ku(e,Hn(s,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;Te=1,Ku(e,Hn(s,e.current)),Vt=null;return}n.flags&32768?(Ht||o===1?e=!0:ka||(Ut&536870912)!==0?e=!1:(js=e=!0,(o===2||o===9||o===3||o===6)&&(o=Nn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,js);return}e=n.return;var s=A1(n.alternate,n,as);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);Te===0&&(Te=5)}function Uy(e,n){do{var s=w1(e.alternate,e);if(s!==null){s.flags&=32767,Vt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=s}while(e!==null);Te=6,Vt=null}function Ly(e,n,s,o,h,f,p,E,C){e.cancelPendingCommit=null;do oc();while(Be!==0);if(($t&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,s,f,p,E,C),e===ue&&(Vt=ue=null,Ut=0),La=n,qs=e,os=s,$f=f,Zf=h,Ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,L1(Es,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=tt.p,tt.p=2,p=$t,$t|=4;try{R1(e,n,s)}finally{$t=p,tt.p=h,q.T=o}}Be=1,Py(),zy(),jy()}}function Py(){if(Be===1){Be=0;var e=qs,n=La,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=tt.p;tt.p=2;var h=$t;$t|=4;try{_y(n,e);var f=fd,p=Ag(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Sg(E.ownerDocument.documentElement,E)){if(C!==null&&Uh(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),ot=E.textContent.length,mt=Math.min(C.start,ot),oe=C.end===void 0?mt:Math.min(C.end,ot);!H.extend&&mt>oe&&(p=oe,oe=mt,mt=p);var k=bg(E,mt),D=bg(E,oe);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),mt>oe?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}vc=!!hd,fd=hd=null}finally{$t=h,tt.p=o,q.T=s}}e.current=n,Be=2}}function zy(){if(Be===2){Be=0;var e=qs,n=La,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=tt.p;tt.p=2;var h=$t;$t|=4;try{dy(e,n.alternate,n)}finally{$t=h,tt.p=o,q.T=s}}Be=3}}function jy(){if(Be===4||Be===3){Be=0,_r();var e=qs,n=La,s=os,o=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,La=qs=null,By(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Hs=null),Gi(s),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=tt.p,tt.p=2,q.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{q.T=n,tt.p=h}}(os&3)!==0&&oc(),Vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?ol++:(ol=0,Jf=e):ol=0,ll(0)}}function By(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function oc(){return Py(),zy(),jy(),Hy()}function Hy(){if(Be!==5)return!1;var e=qs,n=$f;$f=0;var s=Gi(os),o=q.T,h=tt.p;try{tt.p=32>s?32:s,q.T=null,s=Zf,Zf=null;var f=qs,p=os;if(Be=0,La=qs=null,os=0,($t&6)!==0)throw Error(a(331));var E=$t;if($t|=4,Sy(f.current),Ey(f,f.current,p,s),$t=E,ll(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Jn,f)}catch{}return!0}finally{tt.p=h,q.T=o,By(e,n)}}function qy(e,n,s){n=Hn(s,n),n=xf(e.stateNode,n,2),e=Us(e,n,2),e!==null&&(Tr(e,2),Vi(e))}function ee(e,n,s){if(e.tag===3)qy(e,e,s);else for(;n!==null;){if(n.tag===3){qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hs===null||!Hs.has(o))){e=Hn(s,e),s=Gp(2),o=Us(n,s,2),o!==null&&(Fp(s,o,n,e),Tr(o,2),Vi(o));break}}n=n.return}}function ed(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new N1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=V1.bind(null,e,n,s),n.then(e,e))}function V1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ue===e&&(Ut&s)===s&&(Te===4||Te===3&&(Ut&62914560)===Ut&&300>un()-ec?($t&2)===0&&Pa(e,0):Yf|=s,Ua===Ut&&(Ua=0)),Vi(e)}function Gy(e,n){n===0&&(n=iu()),e=kr(e,n),e!==null&&(Tr(e,n),Vi(e))}function k1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Gy(e,s)}function U1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Gy(e,s)}function L1(e,n){return Jt(e,n)}var lc=null,ja=null,nd=!1,uc=!1,id=!1,Fs=0;function Vi(e){e!==ja&&e.next===null&&(ja===null?lc=ja=e:ja=ja.next=e),uc=!0,nd||(nd=!0,z1())}function ll(e,n){if(!id&&uc){id=!0;do for(var s=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ae(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yy(o,f))}else f=Ut,f=pi(o,o===ue?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Wn(o,f)||(s=!0,Yy(o,f));o=o.next}while(s);id=!1}}function P1(){Fy()}function Fy(){uc=nd=!1;var e=0;Fs!==0&&X1()&&(e=Fs);for(var n=un(),s=null,o=lc;o!==null;){var h=o.next,f=Qy(o,n);f===0?(o.next=null,s===null?lc=h:s.next=h,h===null&&(ja=s)):(s=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}Be!==0&&Be!==5||ll(e),Fs!==0&&(Fs=0)}function Qy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Ae(f),E=1<<p,C=h[p];C===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Dh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=ue,s=Ut,s=pi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&he(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Wn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&he(o),Gi(s)){case 2:case 8:s=_o;break;case 32:s=Es;break;case 268435456:s=Jl;break;default:s=Es}return o=Ky.bind(null,e),s=Jt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&he(o),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(oc()&&e.callbackNode!==s)return null;var o=Ut;return o=pi(e,e===ue?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Cy(e,o,n),Qy(e,un()),e.callbackNode!=null&&e.callbackNode===s?Ky.bind(null,e):null)}function Yy(e,n){if(oc())return null;Cy(e,n,!0)}function z1(){Z1(function(){($t&6)!==0?Jt(yo,P1):Fy()})}function sd(){if(Fs===0){var e=wa;e===0&&(e=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Fs=e}return Fs}function Xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function $y(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function j1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Xy((h[Ge]||null).action),p=o.submitter;p&&(n=(n=p[Ge]||null)?Xy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ii("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var C=p?$y(h,p):new FormData(h);Af(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?$y(h,p):new FormData(h),Af(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var rd=0;rd<jh.length;rd++){var ad=jh[rd],B1=ad.toLowerCase(),H1=ad[0].toUpperCase()+ad.slice(1);oi(B1,"on"+H1)}oi(Ig,"onAnimationEnd"),oi(Cg,"onAnimationIteration"),oi(Ng,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(s1,"onTransitionRun"),oi(r1,"onTransitionStart"),oi(a1,"onTransitionCancel"),oi(xg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Zy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=C}}}}function kt(e,n){var s=n[ra];s===void 0&&(s=n[ra]=new Set);var o=e+"__bubble";s.has(o)||(Jy(n,e,2,!1),s.add(o))}function od(e,n,s){var o=0;n&&(o|=4),Jy(s,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[cc]){e[cc]=!0,To.forEach(function(s){s!=="selectionchange"&&(q1.has(s)||od(s,!1,e),od(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,od("selectionchange",!1,n))}}function Jy(e,n,s,o){switch(I_(n)){case 2:var h=yb;break;case 8:h=_b;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ei(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue t}E=E.parentNode}}o=o.return}Rs(function(){var z=f,F=Pn(s),Y=[];t:{var j=Dg.get(e);if(j!==void 0){var H=Ii,ot=e;switch(e){case"keypress":if(Nr(s)===0)break t;case"keydown":case"keyup":H=Tu;break;case"focusin":ot="focus",H=Dr;break;case"focusout":ot="blur",H=Dr;break;case"beforeblur":case"afterblur":H=Dr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ig:case Cg:case Ng:H=mu;break;case xg:H=T;break;case"scroll":case"scrollend":H=Mo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ki;break;case"toggle":case"beforetoggle":H=Rt}var mt=(n&4)!==0,oe=!mt&&(e==="scroll"||e==="scrollend"),k=mt?j!==null?j+"Capture":null:j;mt=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ii(D,k),Q!=null&&mt.push(cl(D,Q,P))),oe)break;D=D.return}0<mt.length&&(j=new H(j,ot,null,s,F),Y.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==xo&&(ot=s.relatedTarget||s.fromElement)&&(Ei(ot)||ot[_i]))break t;if((H||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ot=s.relatedTarget||s.toElement,H=z,ot=ot?Ei(ot):null,ot!==null&&(oe=c(ot),mt=ot.tag,ot!==oe||mt!==5&&mt!==27&&mt!==6)&&(ot=null)):(H=null,ot=z),H!==ot)){if(mt=Vo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Ki,Q="onPointerLeave",k="onPointerEnter",D="pointer"),oe=H==null?j:wn(H),P=ot==null?j:wn(ot),j=new mt(Q,D+"leave",H,s,F),j.target=oe,j.relatedTarget=P,Q=null,Ei(F)===z&&(mt=new mt(k,D+"enter",ot,s,F),mt.target=P,mt.relatedTarget=oe,Q=mt),oe=Q,H&&ot)e:{for(mt=G1,k=H,D=ot,P=0,Q=k;Q;Q=mt(Q))P++;Q=0;for(var ht=D;ht;ht=mt(ht))Q++;for(;0<P-Q;)k=mt(k),P--;for(;0<Q-P;)D=mt(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){mt=k;break e}k=mt(k),D=mt(D)}mt=null}else mt=null;H!==null&&Wy(Y,j,H,mt,!1),ot!==null&&oe!==null&&Wy(Y,oe,ot,mt,!0)}}t:{if(j=z?wn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Ft=pg;else if(mg(j))if(yg)Ft=e1;else{Ft=WT;var lt=JT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ua(z.elementType)&&(Ft=pg):Ft=t1;if(Ft&&(Ft=Ft(e,z))){gg(Y,Ft,s,F);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Io(j,"number",j.value)}switch(lt=z?wn(z):window,e){case"focusin":(mg(lt)||lt.contentEditable==="true")&&(ya=lt,Lh=z,zo=null);break;case"focusout":zo=Lh=ya=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,wg(Y,s,F);break;case"selectionchange":if(i1)break;case"keydown":case"keyup":wg(Y,s,F)}var Nt;if(Xt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else pa?Or(e,s)&&(Lt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Lt="onCompositionStart");Lt&&(xi&&s.locale!=="ko"&&(pa||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&pa&&(Nt=Oo()):(Ri=F,Do="value"in Ri?Ri.value:Ri.textContent,pa=!0)),lt=hc(z,Lt),0<lt.length&&(Lt=new Ni(Lt,e,null,s,F),Y.push({event:Lt,listeners:lt}),Nt?Lt.data=Nt:(Nt=ga(s),Nt!==null&&(Lt.data=Nt)))),(Nt=jn?YT(e,s):XT(e,s))&&(Lt=hc(z,"onBeforeInput"),0<Lt.length&&(lt=new Ni("onBeforeInput","beforeinput",null,s,F),Y.push({event:lt,listeners:Lt}),lt.data=Nt)),j1(Y,e,z,s,F)}Zy(Y,n)})}function cl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function hc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(e,s),h!=null&&o.unshift(cl(e,h,f)),h=ii(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function G1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wy(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=ii(s,f),z!=null&&p.unshift(cl(s,z,C))):h||(z=ii(s,f),z!=null&&p.push(cl(s,z,C)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var F1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(F1,`
`).replace(Q1,"")}function e_(e,n){return n=t_(n),t_(e)===n}function ae(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(e,""+o);break;case"className":Rn(e,"class",o);break;case"tabIndex":Rn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(e,s,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){Rn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ca(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ae(e,n,"name",h.name,h,null),ae(e,n,"formEncType",h.formEncType,h,null),ae(e,n,"formMethod",h.formMethod,h,null),ae(e,n,"formTarget",h.formTarget,h,null)):(ae(e,n,"encType",h.encType,h,null),ae(e,n,"method",h.method,h,null),ae(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ca(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ni);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),oa(e,"popover",o);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hu.get(s)||s,oa(e,s,o))}}function cd(e,n,s,o,h,f){switch(s){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ge]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):oa(e,s,o)}}}function We(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ae(e,n,f,p,s,null)}}h&&ae(e,n,"srcSet",s.srcSet,s,null),o&&ae(e,n,"src",s.src,s,null);return;case"input":kt("invalid",e);var E=f=p=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ae(e,n,o,F,s,null)}}lu(e,f,E,C,z,p,h,!1);return;case"select":kt("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:ae(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?bs(e,!!o,n,!1):s!=null&&bs(e,!!o,s,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ae(e,n,p,E,s,null)}Ss(e,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ae(e,n,C,o,s,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)kt(ul[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ae(e,n,z,o,s,null)}return;default:if(ua(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&cd(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ae(e,n,E,o,s,null))}function K1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,z=null,F=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(H)||ae(e,n,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&ae(e,n,j,H,o,Y)}}la(e,p,E,C,z,F,f,h);return;case"select":H=p=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ae(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&ae(e,n,h,f,o,C)}n=E,s=p,o=H,j!=null?bs(e,!!s,j,!1):!!o!=!!s&&(n!=null?bs(e,!!s,n,!0):bs(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ae(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ae(e,n,p,h,o,f)}uu(e,j,H);return;case"option":for(var ot in s)if(j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:ae(e,n,ot,null,o,j)}for(C in o)if(j=o[C],H=s[C],o.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ae(e,n,C,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)j=s[mt],s.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&ae(e,n,mt,null,o,j);for(z in o)if(j=o[z],H=s[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ae(e,n,z,j,o,H)}return;default:if(ua(n)){for(var oe in s)j=s[oe],s.hasOwnProperty(oe)&&j!==void 0&&!o.hasOwnProperty(oe)&&cd(e,n,oe,void 0,o,j);for(F in o)j=o[F],H=s[F],!o.hasOwnProperty(F)||j===H||j===void 0&&H===void 0||cd(e,n,F,j,o,H);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&ae(e,n,k,null,o,j);for(Y in o)j=o[Y],H=s[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||ae(e,n,Y,j,o,H)}function n_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&n_(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var F=C.transferSize,Y=C.initiatorType;F&&n_(Y)&&(C=C.responseEnd,p+=F*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function i_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function X1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(e){return a_.resolve(null).then(e).catch(J1)}:r_;function J1(e){setTimeout(function(){throw e})}function Qs(e){return e==="head"}function o_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ga(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")hl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,hl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[vi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&hl(e.ownerDocument.body);s=h}while(s);Ga(n)}function l_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),aa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function W1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[vi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function tb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Kn(e.nextSibling),e===null))return null;return e}function u_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Kn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function c_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Kn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function h_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function f_(e,n,s){switch(n=fc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);aa(e)}var Yn=new Map,d_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=tt.d;tt.d={f:nb,r:ib,D:sb,C:rb,L:ab,m:ob,X:ub,S:lb,M:cb};function nb(){var e=ls.f(),n=sc();return e||n}function ib(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?xp(n):ls.r(e)}var Ba=typeof document>"u"?null:document;function m_(e,n,s){var o=Ba;if(o&&typeof n=="string"&&n){var h=mn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),d_.has(h)||(d_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),We(n,"link",e),De(n),o.head.appendChild(n)))}}function sb(e){ls.D(e),m_("dns-prefetch",e,null)}function rb(e,n){ls.C(e,n),m_("preconnect",e,n)}function ab(e,n,s){ls.L(e,n,s);var o=Ba;if(o&&e&&n){var h='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+mn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+mn(s.imageSizes)+'"]')):h+='[href="'+mn(e)+'"]';var f=h;switch(n){case"style":f=Ha(e);break;case"script":f=qa(e)}Yn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Yn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),We(n,"link",e),De(n),o.head.appendChild(n)))}}function ob(e,n){ls.m(e,n);var s=Ba;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Yn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Yn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(f)))return}o=s.createElement("link"),We(o,"link",e),De(o),s.head.appendChild(o)}}}function lb(e,n,s){ls.S(e,n,s);var o=Ba;if(o&&e){var h=Ti(o).hoistableStyles,f=Ha(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(fl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Yn.get(f))&&vd(e,s);var C=p=o.createElement("link");De(C),We(C,"link",e),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function ub(e,n){ls.X(e,n);var s=Ba;if(s&&e){var o=Ti(s).hoistableScripts,h=qa(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=S({src:e,async:!0},n),(n=Yn.get(h))&&Ed(e,n),f=s.createElement("script"),De(f),We(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function cb(e,n){ls.M(e,n);var s=Ba;if(s&&e){var o=Ti(s).hoistableScripts,h=qa(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Yn.get(h))&&Ed(e,n),f=s.createElement("script"),De(f),We(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g_(e,n,s,o){var h=(h=St.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ha(s.href),s=Ti(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ha(s.href);var f=Ti(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(fl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Yn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Yn.set(e,s),f||hb(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(s),s=Ti(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ha(e){return'href="'+mn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function p_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function hb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),We(n,"link",s),De(n),e.head.appendChild(n))}function qa(e){return'[src="'+mn(e)+'"]'}function dl(e){return"script[async]"+e}function y_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+mn(s.href)+'"]');if(o)return n.instance=o,De(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),De(o),We(o,"style",h),mc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ha(s.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,De(f),f;o=p_(s),(h=Yn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),De(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),We(f,"link",o),n.state.loading|=4,mc(f,s.precedence,e),n.instance=f;case"script":return f=qa(s.src),(h=e.querySelector(dl(f)))?(n.instance=h,De(h),h):(o=s,(h=Yn.get(f))&&(o=S({},s),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),De(h),We(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,s.precedence,e));return n.instance}function mc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function __(e,n,s){if(gc===null){var o=new Map,h=gc=new Map;h.set(s,o)}else h=gc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[vi]||f[xe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function v_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function fb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function db(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ha(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,De(f);return}f=n.ownerDocument||n,o=p_(o),(h=Yn.get(h))&&vd(o,h),f=f.createElement("link"),De(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),We(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=pc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function mb(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*Y1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(gb,e),yc=null,pc.call(e))}function gb(e,n){if(!(n.state.loading&4)){var s=yc.get(e);if(s)var o=s.get(null);else{s=new Map,yc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function pb(e,n,s,o,h,f,p,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function T_(e,n,s,o,h,f,p,E,C,z,F,Y){return e=new pb(e,n,s,p,C,z,F,Y,E),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},sf(f),e}function b_(e){return e?(e=Ea,e):Ea}function S_(e,n,s,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=ks(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Us(e,o,n),s!==null&&(En(s,e,n),Qo(s,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function bd(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function w_(e){if(e.tag===13||e.tag===31){var n=kr(e,67108864);n!==null&&En(n,e,67108864),bd(e,67108864)}}function R_(e){if(e.tag===13||e.tag===31){var n=Mn();n=Sr(n);var s=kr(e,n);s!==null&&En(s,e,n),bd(e,n)}}var vc=!0;function yb(e,n,s,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=2,Sd(e,n,s,o)}finally{tt.p=f,q.T=h}}function _b(e,n,s,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=8,Sd(e,n,s,o)}finally{tt.p=f,q.T=h}}function Sd(e,n,s,o){if(vc){var h=Ad(o);if(h===null)ud(e,n,o,Ec,s),C_(e,o);else if(Eb(h,e,n,s,o))o.stopPropagation();else if(C_(e,o),n&4&&-1<vb.indexOf(e)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=gi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-Ae(p);E.entanglements[1]|=C,p&=~C}Vi(f),($t&6)===0&&(nc=un()+500,ll(0))}}break;case 31:case 13:E=kr(f,2),E!==null&&En(E,f,2),sc(),bd(f,2)}if(f=Ad(o),f===null&&ud(e,n,o,Ec,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,s)}}function Ad(e){return e=Pn(e),wd(e)}var Ec=null;function wd(e){if(Ec=null,e=Ei(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=y(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function I_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vr()){case yo:return 2;case _o:return 8;case Es:case xh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Rd=!1,Ks=null,Ys=null,Xs=null,gl=new Map,pl=new Map,$s=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(e,n){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&w_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Eb(e,n,s,o,h){switch(n){case"focusin":return Ks=yl(Ks,e,n,s,o,h),!0;case"dragenter":return Ys=yl(Ys,e,n,s,o,h),!0;case"mouseover":return Xs=yl(Xs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,s,o,h)),!0}return!1}function N_(e){var n=Ei(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ti(e.priority,function(){R_(s)});return}}else if(n===31){if(n=y(s),n!==null){e.blockedOn=n,ti(e.priority,function(){R_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ad(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);xo=o,s.target.dispatchEvent(o),xo=null}else return n=Ln(s),n!==null&&w_(n),e.blockedOn=s,!1;n.shift()}return!0}function x_(e,n,s){Tc(e)&&s.delete(n)}function Tb(){Rd=!1,Ks!==null&&Tc(Ks)&&(Ks=null),Ys!==null&&Tc(Ys)&&(Ys=null),Xs!==null&&Tc(Xs)&&(Xs=null),gl.forEach(x_),pl.forEach(x_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tb)))}var Sc=null;function D_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||s)===null)continue;break}var f=Ln(s);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ga(e){function n(C){return bc(C,e)}Ks!==null&&bc(Ks,e),Ys!==null&&bc(Ys,e),Xs!==null&&bc(Xs,e),gl.forEach(n),pl.forEach(n);for(var s=0;s<$s.length;s++){var o=$s[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$s.length&&(s=$s[0],s.blockedOn===null);)N_(s),s.blockedOn===null&&$s.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Ge]||null;if(typeof f=="function")p||D_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ge]||null)E=p.formAction;else if(wd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),D_(s)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}Ac.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Mn();S_(s,o,e,n,null,null)},Ac.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;S_(e.current,2,null,e,null,null),sc(),n[_i]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var s=0;s<$s.length&&n!==0&&n<$s[s].priority;s++);$s.splice(s,0,e),s===0&&N_(e)}};var M_=t.version;if(M_!=="19.2.0")throw Error(a(527,M_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var bb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Jn=wc.inject(bb),Ye=wc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=jp,f=Bp,p=Hp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=T_(e,1,!1,null,null,s,o,null,h,f,p,O_),e[_i]=n.current,ld(e),new Id(n)},vl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=jp,p=Bp,E=Hp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=T_(e,1,!0,n,s??null,o,h,C,f,p,E,O_),n.context=b_(null),s=n.current,o=Mn(),o=Sr(o),h=ks(o),h.callback=null,Us(s,h,o),s=o,n.current.lanes=s,Tr(n,s),Vi(n),e[_i]=n.current,ld(e),new Ac(n)},vl.version="19.2.0",vl}var q_;function Ob(){if(q_)return xd.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=Db(),xd.exports}var Mb=Ob();const Vb=()=>{};var G_={};const bv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},kb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],y=r[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,y=d?r[l+1]:0,g=l+2<r.length,_=g?r[l+2]:0,b=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,G=_&63;g||(G=64,d||(M=64)),a.push(i[b],i[S],i[M],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(bv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):kb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],y=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||y==null||_==null||S==null)throw new Ub;const M=c<<2|y>>4;if(a.push(M),_!==64){const G=y<<4&240|_>>2;if(a.push(G),S!==64){const J=_<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lb=function(r){const t=bv(r);return Sv.encodeByteArray(t,!0)},qc=function(r){return Lb(r).replace(/\./g,"")},Av=function(r){try{return Sv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Pb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zb=()=>Pb().__FIREBASE_DEFAULTS__,jb=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Bb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Av(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return Vb()||zb()||jb()||Bb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},wv=r=>uh()?.emulatorHosts?.[r],Hb=r=>{const t=wv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Rv=()=>uh()?.config,Iv=r=>uh()?.[`_${r}`];class qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cv(r){return(await fetch(r,{credentials:"include"})).ok}function Gb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Al={};function Fb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?r.emulator.push(t):r.prod.push(t);return r}function Qb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let F_=!1;function Nv(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Al[r]===t||Al[r]||F_)return;Al[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Fb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{F_=!0,d()},M}function b(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Qb(a),G=i("text"),J=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),ft=i("preprendIcon"),bt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const gt=M.element;y(gt),b(Z,nt);const Yt=_();g(bt,ft),gt.append(bt,J,Z,Yt),document.body.appendChild(gt)}c?(J.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function Yb(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $b(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Wb(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tS(){try{return typeof indexedDB=="object"}catch{return!1}}function eS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const nS="FirebaseError";class vs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=nS,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?iS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new vs(l,y,a)}}function iS(r,t){return r.replace(sS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const sS=/\{\$([^}]+)}/g;function rS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ur(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(Q_(c)&&Q_(d)){if(!ur(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function jl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function aS(r,t){const i=new oS(r,t);return i.subscribe.bind(i)}class oS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");lS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Vd),l.error===void 0&&(l.error=Vd),l.complete===void 0&&(l.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Vd(){}function fn(r){return r&&r._delegate?r._delegate:r}class Zr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Yr="[DEFAULT]";class uS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new qb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hS(t))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Yr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yr){return this.instances.has(t)}getOptions(t=Yr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Yr){return this.component?this.component.multipleInstances?t:Yr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cS(r){return r===Yr?void 0:r}function hS(r){return r.instantiationMode==="EAGER"}class fS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new uS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const dS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},mS=Pt.INFO,gS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},pS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=gS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=mS,this._logHandler=pS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const yS=(r,t)=>t.some(i=>r instanceof i);let K_,Y_;function _S(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vS(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,$d=new WeakMap,Dv=new WeakMap,kd=new WeakMap,Rm=new WeakMap;function ES(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(sr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&xv.set(i,r)}).catch(()=>{}),Rm.set(t,r),t}function TS(r){if($d.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,t)}let Zd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return $d.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Dv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function bS(r){Zd=r(Zd)}function SS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return Dv.set(a,t.sort?t.sort():[t]),sr(a)}:vS().includes(r)?function(...t){return r.apply(Ud(this),t),sr(xv.get(this))}:function(...t){return sr(r.apply(Ud(this),t))}}function AS(r){return typeof r=="function"?SS(r):(r instanceof IDBTransaction&&TS(r),yS(r,_S())?new Proxy(r,Zd):r)}function sr(r){if(r instanceof IDBRequest)return ES(r);if(kd.has(r))return kd.get(r);const t=AS(r);return t!==r&&(kd.set(r,t),Rm.set(t,r)),t}const Ud=r=>Rm.get(r);function wS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),y=sr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(sr(d.result),g.oldVersion,g.newVersion,sr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const RS=["get","getKey","getAll","getAllKeys","count"],IS=["put","add","delete","clear"],Ld=new Map;function X_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=IS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||RS.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&g.done]))[0]};return Ld.set(t,c),c}bS(r=>({...r,get:(t,i,a)=>X_(t,i)||r.get(t,i,a),has:(t,i)=>!!X_(t,i)||r.has(t,i)}));class CS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function NS(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",$_="0.14.6";const ds=new wm("@firebase/app"),xS="@firebase/app-compat",DS="@firebase/analytics-compat",OS="@firebase/analytics",MS="@firebase/app-check-compat",VS="@firebase/app-check",kS="@firebase/auth",US="@firebase/auth-compat",LS="@firebase/database",PS="@firebase/data-connect",zS="@firebase/database-compat",jS="@firebase/functions",BS="@firebase/functions-compat",HS="@firebase/installations",qS="@firebase/installations-compat",GS="@firebase/messaging",FS="@firebase/messaging-compat",QS="@firebase/performance",KS="@firebase/performance-compat",YS="@firebase/remote-config",XS="@firebase/remote-config-compat",$S="@firebase/storage",ZS="@firebase/storage-compat",JS="@firebase/firestore",WS="@firebase/ai",tA="@firebase/firestore-compat",eA="firebase",nA="12.6.0";const Wd="[DEFAULT]",iA={[Jd]:"fire-core",[xS]:"fire-core-compat",[OS]:"fire-analytics",[DS]:"fire-analytics-compat",[VS]:"fire-app-check",[MS]:"fire-app-check-compat",[kS]:"fire-auth",[US]:"fire-auth-compat",[LS]:"fire-rtdb",[PS]:"fire-data-connect",[zS]:"fire-rtdb-compat",[jS]:"fire-fn",[BS]:"fire-fn-compat",[HS]:"fire-iid",[qS]:"fire-iid-compat",[GS]:"fire-fcm",[FS]:"fire-fcm-compat",[QS]:"fire-perf",[KS]:"fire-perf-compat",[YS]:"fire-rc",[XS]:"fire-rc-compat",[$S]:"fire-gcs",[ZS]:"fire-gcs-compat",[JS]:"fire-fst",[tA]:"fire-fst-compat",[WS]:"fire-vertex","fire-js":"fire-js",[eA]:"fire-js-all"};const Gc=new Map,sA=new Map,tm=new Map;function Z_(r,t){try{r.container.addComponent(t)}catch(i){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function eo(r){const t=r.name;if(tm.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const i of Gc.values())Z_(i,r);for(const i of sA.values())Z_(i,r);return!0}function Im(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function $n(r){return r==null?!1:r.settings!==void 0}const rA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new zl("app","Firebase",rA);class aA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const co=nA;function Ov(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Wd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw rr.create("bad-app-name",{appName:String(l)});if(i||(i=Rv()),!i)throw rr.create("no-options");const c=Gc.get(l);if(c){if(ur(i,c.options)&&ur(a,c.config))return c;throw rr.create("duplicate-app",{appName:l})}const d=new fS(l);for(const g of tm.values())d.addComponent(g);const y=new aA(i,a,d);return Gc.set(l,y),y}function Mv(r=Wd){const t=Gc.get(r);if(!t&&r===Wd&&Rv())return Ov();if(!t)throw rr.create("no-app",{appName:r});return t}function ar(r,t,i){let a=iA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}eo(new Zr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const oA="firebase-heartbeat-database",lA=1,xl="firebase-heartbeat-store";let Pd=null;function Vv(){return Pd||(Pd=wS(oA,lA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw rr.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function uA(r){try{const i=(await Vv()).transaction(xl),a=await i.objectStore(xl).get(kv(r));return await i.done,a}catch(t){if(t instanceof vs)ds.warn(t.message);else{const i=rr.create("idb-get",{originalErrorMessage:t?.message});ds.warn(i.message)}}}async function J_(r,t){try{const a=(await Vv()).transaction(xl,"readwrite");await a.objectStore(xl).put(t,kv(r)),await a.done}catch(i){if(i instanceof vs)ds.warn(i.message);else{const a=rr.create("idb-set",{originalErrorMessage:i?.message});ds.warn(a.message)}}}function kv(r){return`${r.name}!${r.options.appId}`}const cA=1024,hA=30;class fA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>hA){const l=gA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:a}=dA(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ds.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function dA(r,t=cA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),t0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),t0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class mA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tS()?eS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function t0(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function gA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function pA(r){eo(new Zr("platform-logger",t=>new CS(t),"PRIVATE")),eo(new Zr("heartbeat",t=>new fA(t),"PRIVATE")),ar(Jd,$_,r),ar(Jd,$_,"esm2020"),ar("fire-js","")}pA("");var yA="firebase",_A="12.6.0";ar(yA,_A,"app");function Uv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vA=Uv,Lv=new zl("auth","Firebase",Uv());const Fc=new wm("@firebase/auth");function EA(r,...t){Fc.logLevel<=Pt.WARN&&Fc.warn(`Auth (${co}): ${r}`,...t)}function Mc(r,...t){Fc.logLevel<=Pt.ERROR&&Fc.error(`Auth (${co}): ${r}`,...t)}function ms(r,...t){throw Cm(r,...t)}function Ui(r,...t){return Cm(r,...t)}function Pv(r,t,i){const a={...vA(),[t]:i};return new zl("auth","Firebase",a).create(t,{appName:r.name})}function fs(r){return Pv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Lv.create(r,...t)}function Et(r,t,...i){if(!r)throw Cm(t,...i)}function cs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Mc(t),new Error(t)}function gs(r,t){r||cs(t)}function em(){return typeof self<"u"&&self.location?.href||""}function TA(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function bA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TA()||$b()||"connection"in navigator)?navigator.onLine:!0}function SA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Bl{constructor(t,i){this.shortDelay=t,this.longDelay=i,gs(i>t,"Short delay should be less than long delay!"),this.isMobile=Kb()||Zb()}get(){return bA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nm(r,t){gs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class zv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RA=new Bl(3e4,6e4);function Hl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ho(r,t,i,a,l={}){return jv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const y=jl({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:g,...c};return Xb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),zv.fetch()(await Bv(r,r.config.apiHost,i,y),_)})}async function jv(r,t,i){r._canInitEmulator=!1;const a={...AA,...t};try{const l=new IA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Rc(r,"user-disabled",d);const b=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Pv(r,b,_);ms(r,b)}}catch(l){if(l instanceof vs)throw l;ms(r,"network-request-failed",{message:String(l)})}}async function xm(r,t,i,a,l={}){const c=await ho(r,t,i,a,l);return"mfaPendingCredential"in c&&ms(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Bv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Nm(r.config,l):`${r.config.apiScheme}://${l}`;return wA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class IA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ui(this.auth,"network-request-failed")),RA.get())})}}function Rc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ui(r,t,a);return l.customData._tokenResponse=i,l}async function CA(r,t){return ho(r,"POST","/v1/accounts:delete",t)}async function Qc(r,t){return ho(r,"POST","/v1/accounts:lookup",t)}function wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function NA(r,t=!1){const i=fn(r),a=await i.getIdToken(t),l=Dm(a);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:wl(zd(l.auth_time)),issuedAtTime:wl(zd(l.iat)),expirationTime:wl(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function Dm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Av(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function n0(r){const t=Dm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Dl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof vs&&xA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function xA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class DA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(r){const t=r.auth,i=await r.getIdToken(),a=await Dl(r,Qc(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Hv(l.providerUserInfo):[],d=MA(r.providerData,c),y=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,_=y?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function OA(r){const t=fn(r);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function MA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Hv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function VA(r,t){const i=await jv(r,{},async()=>{const a=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Bv(r,l,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(g.credentials="include"),zv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kA(r,t){return ho(r,"POST","/v2/accounts:revokeToken",Hl(r,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):n0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=n0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await VA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new $a;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return cs("not implemented")}}function Js(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ci{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new DA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return NA(this,t)}reload(){return OA(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(fs(this.auth));const t=await this.getIdToken();return await Dl(this,CA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:G,providerData:J,stsTokenManager:nt}=i;Et(S&&nt,t,"internal-error");const Z=$a.fromJSON(this.name,nt);Et(typeof S=="string",t,"internal-error"),Js(a,t.name),Js(l,t.name),Et(typeof M=="boolean",t,"internal-error"),Et(typeof G=="boolean",t,"internal-error"),Js(c,t.name),Js(d,t.name),Js(y,t.name),Js(g,t.name),Js(_,t.name),Js(b,t.name);const ft=new ci({uid:S,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:Z,createdAt:_,lastLoginAt:b});return J&&Array.isArray(J)&&(ft.providerData=J.map(bt=>({...bt}))),g&&(ft._redirectEventId=g),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new $a;l.updateFromServerResponse(i);const c=new ci({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Hv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new $a;y.updateFromIdToken(a);const g=new ci({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const i0=new Map;function hs(r){gs(r instanceof Function,"Expected a class definition");let t=i0.get(r);return t?(gs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,i0.set(r,t),t)}class qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}qv.type="NONE";const s0=qv;function Vc(r,t,i){return`firebase:${r}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Vc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?ci._fromGetAccountInfoResponse(this.auth,i,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(hs(s0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||hs(s0);const d=Vc(a,t.config.apiKey,t.name);let y=null;for(const _ of i)try{const b=await _._get(d);if(b){let S;if(typeof b=="string"){const M=await Qc(t,{idToken:b}).catch(()=>{});if(!M)break;S=await ci._fromGetAccountInfoResponse(t,M,b)}else S=ci._fromJSON(t,b);_!==c&&(y=S),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Za(c,t,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Za(c,t,a))}}function r0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Gv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xv(t))return"Blackberry";if($v(t))return"Webos";if(Fv(t))return"Safari";if((t.includes("chrome/")||Qv(t))&&!t.includes("edge/"))return"Chrome";if(Yv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Gv(r=ln()){return/firefox\//i.test(r)}function Fv(r=ln()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qv(r=ln()){return/crios\//i.test(r)}function Kv(r=ln()){return/iemobile/i.test(r)}function Yv(r=ln()){return/android/i.test(r)}function Xv(r=ln()){return/blackberry/i.test(r)}function $v(r=ln()){return/webos/i.test(r)}function Om(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function UA(r=ln()){return Om(r)&&!!window.navigator?.standalone}function LA(){return Jb()&&document.documentMode===10}function Zv(r=ln()){return Om(r)||Yv(r)||$v(r)||Xv(r)||/windows phone/i.test(r)||Kv(r)}function Jv(r,t=[]){let i;switch(r){case"Browser":i=r0(ln());break;case"Worker":i=`${r0(ln())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class PA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,y)=>{try{const g=t(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function zA(r,t={}){return ho(r,"GET","/v2/passwordPolicy",Hl(r,t))}const jA=6;class BA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class HA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new PA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=hs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),a=await ci._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=SA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(fs(this));const i=t?fn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zA(this),i=new BA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await kA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&hs(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[hs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Jv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&EA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ql(r){return fn(r)}class a0{constructor(t){this.auth=t,this.observer=null,this.addObserver=aS(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qA(r){Mm=r}function GA(r){return Mm.loadJS(r)}function FA(){return Mm.gapiScript}function QA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function KA(r,t){const i=Im(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ur(c,t??{}))return l;ms(l,"already-initialized")}return i.initialize({options:t})}function YA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(hs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function XA(r,t,i){const a=ql(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Wv(t),{host:d,port:y}=$A(t),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},b=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(ur(_,a.config.emulator)&&ur(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(Cv(`${c}//${d}${g}`),Nv("Auth",!0)):ZA()}function Wv(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function $A(r){const t=Wv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:o0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:o0(d)}}}function o0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function ZA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class tE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return cs("not implemented")}_getIdTokenResponse(t){return cs("not implemented")}_linkToIdToken(t,i){return cs("not implemented")}_getReauthenticationResolver(t){return cs("not implemented")}}async function Ja(r,t){return xm(r,"POST","/v1/accounts:signInWithIdp",Hl(r,t))}const JA="http://localhost";class Jr extends tE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ms("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Jr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ja(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:JA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}class eE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends eE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ws extends Gl{constructor(){super("facebook.com")}static credential(t){return Jr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";class tr extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Jr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class er extends Gl{constructor(){super("github.com")}static credential(t){return Jr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class nr extends Gl{constructor(){super("twitter.com")}static credential(t,i){return Jr._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return nr.credential(i,a)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";async function WA(r,t){return xm(r,"POST","/v1/accounts:signUp",Hl(r,t))}class ps{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ci._fromIdTokenResponse(t,a,l),d=l0(a);return new ps({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=l0(a);return new ps({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function tw(r){if($n(r.app))return Promise.reject(fs(r));const t=ql(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ps({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await WA(t,{returnSecureToken:!0}),a=await ps._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Yc extends vs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Yc(t,i,a,l)}}function nE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(r,c,t,a):c})}async function ew(r,t,i=!1){const a=await Dl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ps._forOperation(r,"link",a)}async function nw(r,t,i=!1){const{auth:a}=r;if($n(a.app))return Promise.reject(fs(a));const l="reauthenticate";try{const c=await Dl(r,nE(a,l,t,r),i);Et(c.idToken,a,"internal-error");const d=Dm(c.idToken);Et(d,a,"internal-error");const{sub:y}=d;return Et(r.uid===y,a,"user-mismatch"),ps._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ms(a,"user-mismatch"),c}}async function iw(r,t,i=!1){if($n(r.app))return Promise.reject(fs(r));const a="signIn",l=await nE(r,a,t),c=await ps._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function sw(r,t){return xm(r,"POST","/v1/accounts:signInWithCustomToken",Hl(r,t))}async function rw(r,t){if($n(r.app))return Promise.reject(fs(r));const i=ql(r),a=await sw(i,{token:t,returnSecureToken:!0}),l=await ps._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function aw(r,t,i,a){return fn(r).onIdTokenChanged(t,i,a)}function ow(r,t,i){return fn(r).beforeAuthStateChanged(t,i)}function lw(r,t,i,a){return fn(r).onAuthStateChanged(t,i,a)}const Xc="__sak";class iE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const uw=1e3,cw=10;class sE extends iE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);LA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,cw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}sE.type="LOCAL";const hw=sE;class rE extends iE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}rE.type="SESSION";const aE=rE;function fw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await fw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class dw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Vm("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function mw(r){Li().location.href=r}function oE(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function gw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pw(){return navigator?.serviceWorker?.controller||null}function yw(){return oE()?self:null}const lE="firebaseLocalStorageDb",_w=1,$c="firebaseLocalStorage",uE="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function vw(){const r=indexedDB.deleteDatabase(lE);return new Fl(r).toPromise()}function im(){const r=indexedDB.open(lE,_w);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($c,{keyPath:uE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($c)?t(a):(a.close(),await vw(),t(await im()))})})}async function u0(r,t,i){const a=hh(r,!0).put({[uE]:t,value:i});return new Fl(a).toPromise()}async function Ew(r,t){const i=hh(r,!1).get(t),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function c0(r,t){const i=hh(r,!0).delete(t);return new Fl(i).toPromise()}const Tw=800,bw=3;class cE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>bw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(yw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gw(),!this.activeServiceWorker)return;this.sender=new dw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await u0(t,Xc,"1"),await c0(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Ew(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new Fl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cE.type="LOCAL";const Sw=cE;new Bl(3e4,6e4);function Aw(r,t){return t?hs(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class km extends tE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ww(r){return iw(r.auth,new km(r),r.bypassAuthState)}function Rw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),nw(i,new km(r),r.bypassAuthState)}async function Iw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),ew(i,new km(r),r.bypassAuthState)}class hE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ww;case"linkViaPopup":case"linkViaRedirect":return Iw;case"reauthViaPopup":case"reauthViaRedirect":return Rw;default:ms(this.auth,"internal-error")}}resolve(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cw=new Bl(2e3,1e4);class Xa extends hE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const t=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Cw.get())};t()}}Xa.currentPopupAction=null;const Nw="pendingRedirect",kc=new Map;class xw extends hE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const a=await Dw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dw(r,t){const i=Vw(t),a=Mw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Ow(r,t){kc.set(r._key(),t)}function Mw(r){return hs(r._redirectPersistence)}function Vw(r){return Vc(Nw,r.config.apiKey,r.name)}async function kw(r,t,i=!1){if($n(r.app))return Promise.reject(fs(r));const a=ql(r),l=Aw(a,t),d=await new xw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Uw=600*1e3;class Lw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Pw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!fE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ui(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Uw&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(t))}saveEventToCache(t){this.cachedEventUids.add(h0(t)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function fE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Pw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fE(r);default:return!1}}async function zw(r,t={}){return ho(r,"GET","/v1/projects",t)}const jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bw=/^https?/;async function Hw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await zw(r);for(const i of t)try{if(qw(i))return}catch{}ms(r,"unauthorized-domain")}function qw(r){const t=em(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Bw.test(i))return!1;if(jw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Gw=new Bl(3e4,6e4);function f0(){const r=Li().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Fw(r){return new Promise((t,i)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f0(),i(Ui(r,"network-request-failed"))},timeout:Gw.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)a();else{const l=QA("iframefcb");return Li()[l]=()=>{gapi.load?a():i(Ui(r,"network-request-failed"))},GA(`${FA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function Qw(r){return Uc=Uc||Fw(r),Uc}const Kw=new Bl(5e3,15e3),Yw="__/auth/iframe",Xw="emulator/auth/iframe",$w={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jw(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Nm(t,Xw):`https://${r.config.authDomain}/${Yw}`,a={apiKey:t.apiKey,appName:r.name,v:co},l=Zw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${jl(a).slice(1)}`}async function Ww(r){const t=await Qw(r),i=Li().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:Jw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$w,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ui(r,"network-request-failed"),y=Li().setTimeout(()=>{c(d)},Kw.get());function g(){Li().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const t2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e2=500,n2=600,i2="_blank",s2="http://localhost";class d0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r2(r,t,i,a=e2,l=n2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...t2,width:a.toString(),height:l.toString(),top:c,left:d},_=ln().toLowerCase();i&&(y=Qv(_)?i2:i),Gv(_)&&(t=t||s2,g.scrollbars="yes");const b=Object.entries(g).reduce((M,[G,J])=>`${M}${G}=${J},`,"");if(UA(_)&&y!=="_self")return a2(t||"",y),new d0(null);const S=window.open(t||"",y,b);Et(S,r,"popup-blocked");try{S.focus()}catch{}return new d0(S)}function a2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const o2="__/auth/handler",l2="emulator/auth/handler",u2=encodeURIComponent("fac");async function m0(r,t,i,a,l,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:co,eventId:l};if(t instanceof eE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",rS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Gl){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const b of Object.keys(y))y[b]===void 0&&delete y[b];const g=await r._getAppCheckToken(),_=g?`#${u2}=${encodeURIComponent(g)}`:"";return`${c2(r)}?${jl(y).slice(1)}${_}`}function c2({config:r}){return r.emulator?Nm(r,l2):`https://${r.authDomain}/${o2}`}const jd="webStorageSupport";class h2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aE,this._completeRedirectFn=kw,this._overrideRedirectResult=Ow}async _openPopup(t,i,a,l){gs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await m0(t,i,a,em(),l);return r2(t,c,Vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await m0(t,i,a,em(),l);return mw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(gs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Ww(t),a=new Lw(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),ms(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Hw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Zv()||Fv()||Om()}}const f2=h2;var g0="@firebase/auth",p0="1.11.1";class d2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function m2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g2(r){eo(new Zr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jv(r)},_=new HA(a,l,c,g);return YA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),eo(new Zr("auth-internal",t=>{const i=ql(t.getProvider("auth").getImmediate());return(a=>new d2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(g0,p0,m2(r)),ar(g0,p0,"esm2020")}const p2=300,y2=Iv("authIdTokenMaxAge")||p2;let y0=null;const _2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>y2)return;const l=i?.token;y0!==l&&(y0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function v2(r=Mv()){const t=Im(r,"auth");if(t.isInitialized())return t.getImmediate();const i=KA(r,{popupRedirectResolver:f2,persistence:[Sw,hw,aE]}),a=Iv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=_2(c.toString());ow(i,d,()=>d(i.currentUser)),aw(i,y=>d(y))}}const l=wv("auth");return l&&XA(i,`http://${l}`),i}function E2(){return document.getElementsByTagName("head")?.[0]??document}qA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ui("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",E2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g2("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,dE;(function(){var r;function t(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,x,U){for(var I=Array(arguments.length-2),le=2;le<arguments.length;le++)I[le-2]=arguments[le];return A.prototype[x].apply(V,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)V[x]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(x=0;x<16;++x)V[x]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],x=N.g[2];let U=N.g[3],I;I=A+(U^R&(x^U))+V[0]+3614090360&4294967295,A=R+(I<<7&4294967295|I>>>25),I=U+(x^A&(R^x))+V[1]+3905402710&4294967295,U=A+(I<<12&4294967295|I>>>20),I=x+(R^U&(A^R))+V[2]+606105819&4294967295,x=U+(I<<17&4294967295|I>>>15),I=R+(A^x&(U^A))+V[3]+3250441966&4294967295,R=x+(I<<22&4294967295|I>>>10),I=A+(U^R&(x^U))+V[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=U+(x^A&(R^x))+V[5]+1200080426&4294967295,U=A+(I<<12&4294967295|I>>>20),I=x+(R^U&(A^R))+V[6]+2821735955&4294967295,x=U+(I<<17&4294967295|I>>>15),I=R+(A^x&(U^A))+V[7]+4249261313&4294967295,R=x+(I<<22&4294967295|I>>>10),I=A+(U^R&(x^U))+V[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=U+(x^A&(R^x))+V[9]+2336552879&4294967295,U=A+(I<<12&4294967295|I>>>20),I=x+(R^U&(A^R))+V[10]+4294925233&4294967295,x=U+(I<<17&4294967295|I>>>15),I=R+(A^x&(U^A))+V[11]+2304563134&4294967295,R=x+(I<<22&4294967295|I>>>10),I=A+(U^R&(x^U))+V[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=U+(x^A&(R^x))+V[13]+4254626195&4294967295,U=A+(I<<12&4294967295|I>>>20),I=x+(R^U&(A^R))+V[14]+2792965006&4294967295,x=U+(I<<17&4294967295|I>>>15),I=R+(A^x&(U^A))+V[15]+1236535329&4294967295,R=x+(I<<22&4294967295|I>>>10),I=A+(x^U&(R^x))+V[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=U+(R^x&(A^R))+V[6]+3225465664&4294967295,U=A+(I<<9&4294967295|I>>>23),I=x+(A^R&(U^A))+V[11]+643717713&4294967295,x=U+(I<<14&4294967295|I>>>18),I=R+(U^A&(x^U))+V[0]+3921069994&4294967295,R=x+(I<<20&4294967295|I>>>12),I=A+(x^U&(R^x))+V[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=U+(R^x&(A^R))+V[10]+38016083&4294967295,U=A+(I<<9&4294967295|I>>>23),I=x+(A^R&(U^A))+V[15]+3634488961&4294967295,x=U+(I<<14&4294967295|I>>>18),I=R+(U^A&(x^U))+V[4]+3889429448&4294967295,R=x+(I<<20&4294967295|I>>>12),I=A+(x^U&(R^x))+V[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=U+(R^x&(A^R))+V[14]+3275163606&4294967295,U=A+(I<<9&4294967295|I>>>23),I=x+(A^R&(U^A))+V[3]+4107603335&4294967295,x=U+(I<<14&4294967295|I>>>18),I=R+(U^A&(x^U))+V[8]+1163531501&4294967295,R=x+(I<<20&4294967295|I>>>12),I=A+(x^U&(R^x))+V[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=U+(R^x&(A^R))+V[2]+4243563512&4294967295,U=A+(I<<9&4294967295|I>>>23),I=x+(A^R&(U^A))+V[7]+1735328473&4294967295,x=U+(I<<14&4294967295|I>>>18),I=R+(U^A&(x^U))+V[12]+2368359562&4294967295,R=x+(I<<20&4294967295|I>>>12),I=A+(R^x^U)+V[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=U+(A^R^x)+V[8]+2272392833&4294967295,U=A+(I<<11&4294967295|I>>>21),I=x+(U^A^R)+V[11]+1839030562&4294967295,x=U+(I<<16&4294967295|I>>>16),I=R+(x^U^A)+V[14]+4259657740&4294967295,R=x+(I<<23&4294967295|I>>>9),I=A+(R^x^U)+V[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=U+(A^R^x)+V[4]+1272893353&4294967295,U=A+(I<<11&4294967295|I>>>21),I=x+(U^A^R)+V[7]+4139469664&4294967295,x=U+(I<<16&4294967295|I>>>16),I=R+(x^U^A)+V[10]+3200236656&4294967295,R=x+(I<<23&4294967295|I>>>9),I=A+(R^x^U)+V[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=U+(A^R^x)+V[0]+3936430074&4294967295,U=A+(I<<11&4294967295|I>>>21),I=x+(U^A^R)+V[3]+3572445317&4294967295,x=U+(I<<16&4294967295|I>>>16),I=R+(x^U^A)+V[6]+76029189&4294967295,R=x+(I<<23&4294967295|I>>>9),I=A+(R^x^U)+V[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=U+(A^R^x)+V[12]+3873151461&4294967295,U=A+(I<<11&4294967295|I>>>21),I=x+(U^A^R)+V[15]+530742520&4294967295,x=U+(I<<16&4294967295|I>>>16),I=R+(x^U^A)+V[2]+3299628645&4294967295,R=x+(I<<23&4294967295|I>>>9),I=A+(x^(R|~U))+V[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=U+(R^(A|~x))+V[7]+1126891415&4294967295,U=A+(I<<10&4294967295|I>>>22),I=x+(A^(U|~R))+V[14]+2878612391&4294967295,x=U+(I<<15&4294967295|I>>>17),I=R+(U^(x|~A))+V[5]+4237533241&4294967295,R=x+(I<<21&4294967295|I>>>11),I=A+(x^(R|~U))+V[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=U+(R^(A|~x))+V[3]+2399980690&4294967295,U=A+(I<<10&4294967295|I>>>22),I=x+(A^(U|~R))+V[10]+4293915773&4294967295,x=U+(I<<15&4294967295|I>>>17),I=R+(U^(x|~A))+V[1]+2240044497&4294967295,R=x+(I<<21&4294967295|I>>>11),I=A+(x^(R|~U))+V[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=U+(R^(A|~x))+V[15]+4264355552&4294967295,U=A+(I<<10&4294967295|I>>>22),I=x+(A^(U|~R))+V[6]+2734768916&4294967295,x=U+(I<<15&4294967295|I>>>17),I=R+(U^(x|~A))+V[13]+1309151649&4294967295,R=x+(I<<21&4294967295|I>>>11),I=A+(x^(R|~U))+V[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=U+(R^(A|~x))+V[11]+3174756917&4294967295,U=A+(I<<10&4294967295|I>>>22),I=x+(A^(U|~R))+V[2]+718787259&4294967295,x=U+(I<<15&4294967295|I>>>17),I=R+(U^(x|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,V=this.C;let x=this.h,U=0;for(;U<A;){if(x==0)for(;U<=R;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(V[x++]=N.charCodeAt(U++),x==this.blockSize){l(this,V),x=0;break}}else for(;U<A;)if(V[x++]=N[U++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[A++]=this.g[R]>>>V&255;return N};function c(N,A){var R=y;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function d(N,A){this.h=A;const R=[];let V=!0;for(let x=N.length-1;x>=0;x--){const U=N[x]|0;V&&U==A||(R[x]=U,V=!1)}this.g=R}var y={};function g(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return Z(_(-N));const A=[];let R=1;for(let V=0;N>=R;V++)A[V]=N/R|0,R*=4294967296;return new d(A,0)}function b(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return Z(b(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(A,8));let V=S;for(let U=0;U<N.length;U+=8){var x=Math.min(8,N.length-U);const I=parseInt(N.substring(U,U+x),A);x<8?(x=_(Math.pow(A,x)),V=V.j(x).add(_(I))):(V=V.j(R),V=V.add(_(I)))}return V}var S=g(0),M=g(1),G=g(16777216);r=d.prototype,r.m=function(){if(nt(this))return-Z(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(nt(this))return"-"+Z(this).toString(N);const A=_(Math.pow(N,6));var R=this;let V="";for(;;){const x=Yt(R,A).g;R=ft(R,x.j(A));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=x,J(R))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=ft(this,N),nt(N)?-1:J(N)?0:1};function Z(N){const A=N.g.length,R=[];for(let V=0;V<A;V++)R[V]=~N.g[V];return new d(R,~N.h).add(M)}r.abs=function(){return nt(this)?Z(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let x=0;x<=A;x++){let U=V+(this.i(x)&65535)+(N.i(x)&65535),I=(U>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);V=I>>>16,U&=65535,I&=65535,R[x]=I<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ft(N,A){return N.add(Z(A))}r.j=function(N){if(J(this)||J(N))return S;if(nt(this))return nt(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(nt(N))return Z(this.j(Z(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<N.g.length;x++){const U=this.i(V)>>>16,I=this.i(V)&65535,le=N.i(x)>>>16,ge=N.i(x)&65535;R[2*V+2*x]+=I*ge,bt(R,2*V+2*x),R[2*V+2*x+1]+=U*ge,bt(R,2*V+2*x+1),R[2*V+2*x+1]+=I*le,bt(R,2*V+2*x+1),R[2*V+2*x+2]+=U*le,bt(R,2*V+2*x+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new d(R,0)};function bt(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function gt(N,A){this.g=N,this.h=A}function Yt(N,A){if(J(A))throw Error("division by zero");if(J(N))return new gt(S,S);if(nt(N))return A=Yt(Z(N),A),new gt(Z(A.g),Z(A.h));if(nt(A))return A=Yt(N,Z(A)),new gt(Z(A.g),A.h);if(N.g.length>30){if(nt(N)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=A;V.l(N)<=0;)R=ne(R),V=ne(V);var x=Ot(R,1),U=Ot(V,1);for(V=Ot(V,2),R=Ot(R,2);!J(V);){var I=U.add(V);I.l(N)<=0&&(x=x.add(R),U=I),V=Ot(V,1),R=Ot(R,1)}return A=ft(N,x.j(A)),new gt(x,A)}for(x=S;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(R),I=U.j(A);nt(I)||I.l(N)>0;)R-=V,U=_(R),I=U.j(A);J(U)&&(U=M),x=x.add(U),N=ft(N,I)}return new gt(x,N)}r.B=function(N){return Yt(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&N.i(V);return new d(R,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|N.i(V);return new d(R,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^N.i(V);return new d(R,this.h^N.h)};function ne(N){const A=N.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(R,N.h)}function Ot(N,A){const R=A>>5;A%=32;const V=N.g.length-R,x=[];for(let U=0;U<V;U++)x[U]=A>0?N.i(U+R)>>>A|N.i(U+R+1)<<32-A:N.i(U+R);return new d(x,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,dE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,or=d}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mE,El,gE,Lc,sm,pE,yE,_E;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var W=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)W[Rt-2]=arguments[Rt];return m.prototype[L].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=L[W]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new nt(()=>new Yt,u=>u.reset());class Yt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Ot=!1,N=new bt,A=()=>{const u=Promise.resolve(void 0);ne=()=>{u.then(R)}};function R(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){Z(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function le(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(le,x),le.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),q=0;function tt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=St(u,m,T,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),be={};function ce(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ce(u,m[B],v,T,L);return null}return v=ie(v),u&&u[ge]?u.J(m,v,y(T)?!!T.capture:!1,L):it(u,m,v,!1,T,L)}function it(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const W=y(L)?!!L.capture:!!L;let Rt=dn(u);if(Rt||(u[Mt]=Rt=new st(u)),v=Rt.add(m,v,T,W,B),v.proxy)return v;if(T=at(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(xt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function at(){function u(v){return m.call(u.src,u.listener,v)}const m=Se;return u}function pt(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)pt(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=ie(v),u&&u[ge]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,L),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=dn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,L)),(v=u>-1?m[u]:null)&&Ct(v))}function Ct(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(xt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=dn(m))?(vt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ct(u)}}}function xt(u){return u in be?be[u]:be[u]="on"+u}function Se(u,m){if(u.da)u=!0;else{m=new le(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ct(u),u=v.call(T,m)}return u}function dn(u){return u=u[Mt],u instanceof st?u:null}var yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ie(u){return typeof u=="function"?u:(u[yt]||(u[yt]=function(m){return u.handleEvent(m)}),u[yt])}function Dt(){V.call(this),this.i=new st(this),this.M=this,this.G=null}S(Dt,V),Dt.prototype[ge]=!0,Dt.prototype.removeEventListener=function(u,m,v,T){pt(this,u,m,v,T)};function Jt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(T,u),et(m,L)}L=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],L=he(B,T,!0,m)&&L;if(B=m.g=u,L=he(B,T,!0,m)&&L,L=he(B,T,!1,m)&&L,v)for(W=0;W<v.length;W++)B=m.g=v[W],L=he(B,T,!1,m)&&L}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},Dt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Dt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function he(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const Rt=W.listener,we=W.ha||W.src;W.fa&&vt(u.i,W),L=Rt.call(we,T)!==!1&&L}}return L&&!T.defaultPrevented}function di(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function _r(u){u.g=di(()=>{u.g=null,u.i&&(u.i=!1,_r(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class un extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_r(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(u){V.call(this),this.h=u,this.g={}}S(vr,V);var yo=[];function _o(u){Bt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ct(m)},u),u.g={}}vr.prototype.N=function(){vr.Z.N.call(this),_o(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=d.JSON.stringify,xh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){x.call(this,"d")}S(Ye,x);function Un(){x.call(this,"c")}S(Un,x);var Ae={},eu=null;function sa(){return eu=eu||new Dt}Ae.Ia="serverreachability";function nu(u){x.call(this,Ae.Ia,u)}S(nu,x);function mi(u){const m=sa();Jt(m,new nu(m))}Ae.STAT_EVENT="statevent";function Er(u,m){x.call(this,Ae.STAT_EVENT,u),this.stat=m}S(Er,x);function Ne(u){const m=sa();Jt(m,new Er(m,u))}Ae.Ja="timingevent";function gi(u,m){x.call(this,Ae.Ja,u),this.size=m}S(gi,x);function pi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var W="",Rt=B.split("&");for(let Xt=0;Xt<Rt.length;Xt++){var we=Rt[Xt].split("=");if(we.length>1){const pe=we[0];we=we[1];const jn=pe.split("_");W=jn.length>=2&&jn[1]=="type"?W+(pe+"="+we+"&"):W+(pe+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function iu(u,m,v,T,L,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+W})}function yi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(T?" "+T:"")})}function Tr(u,m){u.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Es(B)}catch{return m}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function Sr(){}S(Sr,Wl),Sr.prototype.g=function(){return new XMLHttpRequest},Eo=new Sr;function Gi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var xe={},Ge={};function _i(u,m,v){u.M=1,u.A=Ar(Oe(m)),u.u=v,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),vi(u),u.B=Oe(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ua(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ei,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new un(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(yo[0]=L.toString()),L=yo);for(let B=0;B<L.length;B++){const W=ce(v,L[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),mi(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=si(this.g),we=this.g.ya(),Xt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Rt!=4||we==7||(we==8||Xt<=0?mi(3):mi(2)),Ei(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var B=T;break e}}B=null}if(u=B)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,Ne(12),wn(this),Ln(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=au(this,v),pe==Ge){Rt==4&&(this.m=4,Ne(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==xe){this.m=4,Ne(15),yi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,pe,null),Ti(this,pe);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,Ne(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,v,"[Invalid Chunked Response]"),wn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(W),W.P=!0,Ne(11))}}else yi(this.i,this.l,v,null),Ti(this,v);Rt==4&&wn(this),this.o&&!this.K&&(Rt==4?gu(this.j,this):(this.o=!1,vi(this)))}else Qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),wn(this),Ln(this)}}}catch{}finally{}};function Mh(u){if(!ru(u))return u.g.la();const m=Xe(u.g);if(m==="")return"";let v="";const T=m.length,L=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ge:(v=Number(m.substring(v,T)),isNaN(v)?xe:(T+=1,T+v>m.length?Ge:(m=m.slice(T,T+v),u.C=T+v,m)))}ti.prototype.cancel=function(){this.K=!0,wn(this)};function vi(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pi(_(u.aa,u),m)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Tr(this.i,this.B),this.M!=2&&(mi(),Ne(17)),wn(this),this.m=2,Ln(this)):aa(this,this.T-u)};function Ln(u){u.j.I==0||u.K||gu(u.j,u)}function wn(u){Ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ti(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Si(v.h,u))){if(!u.L&&Si(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),Cs(v);else break t;Dr(v),Ne(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(_(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&ma(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Xt=L[m];const pe=Xt[0];if(!(pe<=v.K))if(v.K=pe,Xt=Xt[1],v.I==2)if(Xt[0]=="c"){v.M=Xt[1],v.ba=Xt[2];const jn=Xt[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const xi=Xt[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const ri=Xt[5];ri!=null&&typeof ri=="number"&&ri>0&&(T=1.5*ri,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ai=u.g;if(ai){const Or=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var B=T.h;B.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(T.G){const ga=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(T.wa=ga,Wt(T.J,T.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=_u(T,T.L?T.ba:null,T.W),W.L){Ao(T.h,W);var Rt=W,we=T.O;we&&(Rt.H=we),Rt.D&&(Ei(Rt),vi(Rt)),T.g=W}else du(T);v.i.length>0&&Ci(v)}else Xt[0]!="stop"&&Xt[0]!="close"||Ni(v,7);else v.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Ni(v,7):Mo(v):Xt[0]!="noop"&&v.l&&v.l.qa(Xt),v.A=0)}}mi(4)}catch{}}var De=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Rn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Rn?(this.l=u.l,Fe(this,u.j),this.o=u.o,this.g=u.g,Ts(this,u.u),this.h=u.h,Ro(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Fe(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),Ts(this,m[4]),this.h=Ai(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}Rn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(wr(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wr(m,la,!0),"@"),u.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(wr(v,v.charAt(0)=="/"?Io:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",wr(v,uu)),u.join("")},Rn.prototype.resolve=function(u){const m=Oe(this);let v=!!u.j;v?Fe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ts(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const Rt=L[W++];Rt=="."?T&&W==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==L.length&&B.push("")):(B.push(Rt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Ro(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Oe(u){return new Rn(u)}function Fe(u,m,v){u.j=v?Ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof Ss?(u.i=m,ca(u.i,u.l)):(v||(m=wr(m,bs)),u.i=new Ss(m,u.l))}function Wt(u,m,v){u.i.set(m,v)}function Ar(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,mn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,lu=/[#\?:]/g,Io=/[#\?]/g,bs=/[#\?@]/g,uu=/#/g;function Ss(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ss.prototype,r.add=function(u,m){gn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){gn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return gn(u),m=As(u,m),u.g.has(m)}r.forEach=function(u,m){gn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function No(u,m){gn(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return gn(this),this.i=null,u=As(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(As(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Gi(v);v=No(this,v);for(let B=0;B<v.length;B++){let W=L;v[B]!==""&&(W+="="+Gi(v[B])),u.push(W)}}return this.i=u.join("&")};function hu(u){const m=new Ss;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(cu(this,T),ua(this,L,v))},u)),u.j=m}function ni(u,m){const v=new Wn;if(d.Image){const T=new Image;T.onload=b(Pn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Pn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Pn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Pn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xo(u,m){const v=new Wn,T=new AbortController,L=setTimeout(()=>{T.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ws(){this.g=new Jl}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(wi,Wl),wi.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(u,m){Dt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Rr,Dt),r=Rr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Rs(this):ii(this),this.readyState==3&&ha(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},r.Na=function(u){this.g&&(this.response=u,Rs(this))},r.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let m="";return Bt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=zn(v),typeof u=="string"?v!=null&&Gi(v):Wt(u,m,v))}function se(u){Dt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(se,Dt);var Ri=/^https?$/i,Do=["POST","PUT"];r=se.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Cr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Cr(this,B)}};function Cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Fi(u)}function Oo(u){u.A||(u.A=!0,Jt(u,"complete"),Jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Jt(this,"complete"),Jt(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),se.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},r.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(Jt(u,"readystatechange"),si(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(ou)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ri.test(W?W.toLowerCase():"")}v=T}if(v)Jt(u,"complete"),Jt(u,"success");else{u.o=6;try{var L=si(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Oo(u)}}finally{Fi(u)}}}}function Fi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Jt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}r.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xh(m)}};function Xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var v=su(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Gt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Is.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Ne(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),Ci(this)};function Mo(u){if(fa(u),u.I==3){var m=u.V++,v=Oe(u.J);if(Wt(v,"SID",u.M),Wt(v,"RID",m),Wt(v,"TYPE","terminate"),xr(u,v),m=new ti(u,u.j,m),m.M=2,m.A=Ar(Oe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}yu(u)}function Cs(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function fa(u){Cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ne||A(),Ot||(ne(),Ot=!0),N.add(m,u),u.D=0}}function da(u,m){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pi(_(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ti(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=fu(this,L,m),v=Oe(this.J),Wt(v,"RID",u),Wt(v,"CVER",22),this.G&&Wt(v,"X-HTTP-Session-Id",this.G),xr(this,v),B&&(this.R?m="headers="+Gi(zn(B))+"&"+m:this.u&&Ir(v,this.u,B)),So(this.h,L),this.Ra&&Wt(v,"TYPE","init"),this.S?(Wt(v,"$req",m),Wt(v,"SID","null"),L.U=!0,_i(L,v,null)):_i(L,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||bo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const T=Oe(u.J);Wt(T,"SID",u.M),Wt(T,"RID",v),Wt(T,"AID",u.K),xr(u,T),u.u&&u.o&&Ir(T,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),_i(v,T,m)}function xr(u,m){u.H&&Bt(u.H,function(v,T){Wt(m,T,v)}),u.l&&Bt({},function(v,T){Wt(m,T,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const we=["count="+v];Rt==-1?v>0?(Rt=L[0].g,we.push("ofs="+Rt)):Rt=0:we.push("ofs="+Rt);let Xt=!0;for(let pe=0;pe<v;pe++){var B=L[pe].g;const jn=L[pe].map;if(B-=Rt,B<0)Rt=Math.max(0,L[pe].g-100),Xt=!1;else try{B="req"+B+"_"||"";try{var W=jn instanceof Map?jn:Object.entries(jn);for(const[xi,ri]of W){let ai=ri;y(ri)&&(ai=Es(ri)),we.push(B+xi+"="+encodeURIComponent(ai))}}catch(xi){throw we.push(B+"type="+encodeURIComponent("_badmap")),xi}}catch{T&&T(jn)}}if(Xt){W=we.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ne||A(),Ot||(ne(),Ot=!0),N.add(m,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pi(_(u.Da,u),pu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),Cs(this),mu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Oe(u.na);Wt(m,"RID","rpc"),Wt(m,"SID",u.M),Wt(m,"AID",u.K),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(m,"TO",u.ia),Wt(m,"TYPE","xmlhttp"),xr(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ar(Oe(m)),v.u=null,v.R=!0,ra(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Cs(this),Dr(this),Ne(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){ma(u),ko(u),u.g=null;var T=2}else if(Si(u.h,m))v=m.G,Ao(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=sa(),Jt(T,new gi(T,v)),Ci(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&da(u,m)||T==2&&Dr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new Rn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fe(T,"https"),Ar(T),L?ni(T.toString(),v):xo(T.toString(),v)}else Ne(2);u.I=0,u.l&&u.l.pa(m),yu(u),fa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var T=v instanceof Rn?Oe(v):new Rn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ts(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Rn(null);T&&Fe(B,T),m&&(B.g=m),L&&Ts(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Wt(T,v,m),Wt(T,"VER",u.ka),xr(u,T),T}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new se(new wi({ab:v})):new se(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){Dt.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ki(this)}S(cn,Dt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Mo(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Es(u),u=v);m.i.push(new De(m.Ya++,u)),m.I==3&&Ci(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,cn.Z.N.call(this)};function Tu(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Tu,Ye);function bu(){Un.call(this),this.status=1}S(bu,Un);function Ki(u){this.g=u}S(Ki,Eu),Ki.prototype.ra=function(){Jt(this.g,"a")},Ki.prototype.qa=function(u){Jt(this.g,new Tu(u))},Ki.prototype.pa=function(u){Jt(this.g,new bu)},Ki.prototype.oa=function(){Jt(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,_E=function(){return new Ns},yE=function(){return sa()},pE=Ae,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Lc=br,vo.COMPLETE="complete",gE=vo,tu.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,El=tu,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,mE=se}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",E0="4.9.2";let an=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let fo="12.3.0";const Wr=new wm("@firebase/firestore");function Fa(){return Wr.logLevel}function rt(r,...t){if(Wr.logLevel<=Pt.DEBUG){const i=t.map(Um);Wr.debug(`Firestore (${fo}): ${r}`,...i)}}function ys(r,...t){if(Wr.logLevel<=Pt.ERROR){const i=t.map(Um);Wr.error(`Firestore (${fo}): ${r}`,...i)}}function no(r,...t){if(Wr.logLevel<=Pt.WARN){const i=t.map(Um);Wr.warn(`Firestore (${fo}): ${r}`,...i)}}function Um(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,vE(r,a,i)}function vE(r,t,i){let a=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ys(a),new Error(a)}function Zt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||vE(t,l,a)}function wt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends vs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class EE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class T2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class b2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class S2{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new lr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new lr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new EE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class A2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new T0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=I2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function zt(r,t){return r<t?-1:r>t?1:0}function rm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?zt(l,c):Bd(l)?1:-1}return zt(r.length,t.length)}const C2=55296,N2=57343;function Bd(r){const t=r.charCodeAt(0);return t>=C2&&t<=N2}function io(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const b0="__name__";class ki{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=ki.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const a=ki.isNumericId(t),l=ki.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ki.extractNumericId(t).compare(ki.extractNumericId(i)):rm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return or.fromString(t.substring(4,t.length-2))}}class _e extends ki{construct(t,i,a){return new _e(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new _e(i)}static emptyPath(){return new _e([])}}const x2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ki{construct(t,i,a){return new en(t,i,a)}static isValidIdentifier(t){return x2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new en([b0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(i)}static emptyPath(){return new en([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(_e.fromString(t))}static fromName(t){return new dt(_e.fromString(t).popFirst(5))}static empty(){return new dt(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return _e.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new _e(t.slice()))}}function D2(r,t,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function O2(r,t,i,a){if(t===!0&&a===!0)throw new ut($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function S0(r){if(!dt.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function TE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function hi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(r);throw new ut($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Pe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ql(r,t){if(!TE(r))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}const A0=-62135596800,w0=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*w0);return new me(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<A0)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-A0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Pe("string",me._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new me(0,0))}static max(){return new Tt(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function M2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new me(i+1,0):new me(i,a));return new cr(l,dt.empty(),t)}function V2(r){return new cr(r.readTime,r.key,Ol)}class cr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new cr(Tt.min(),dt.empty(),Ol)}static max(){return new cr(Tt.max(),dt.empty(),Ol)}}function k2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:zt(r.largestBatchId,t.largestBatchId))}const U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mo(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==U2)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(t[_]).next((b=>{d[_]=b,++y,y===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function P2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function go(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const zm=-1;function dh(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function z2(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const bE="";function j2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=R0(t)),t=B2(r.get(i),t);return R0(t)}function B2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case bE:i+="";break;default:i+=c}}return i}function R0(r){return r+bE+""}function I0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function pr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function SE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ve{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??tn.RED,this.left=l??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new tn(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return tn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(t){return new C0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class C0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new kn([])}unionWith(t){let i=new qe(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new kn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new AE("Invalid base64 string: "+c):c}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const H2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(r){if(Zt(!!r,39018),typeof r=="string"){let t=0;const i=H2.exec(r);if(Zt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ce(r.seconds),nanos:Ce(r.nanos)}}function Ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fr(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}const wE="server_timestamp",RE="__type__",IE="__previous_value__",CE="__local_write_time__";function jm(r){return(r?.mapValue?.fields||{})[RE]?.stringValue===wE}function mh(r){const t=r.mapValue.fields[IE];return jm(t)?mh(t):t}function Ml(r){const t=hr(r.mapValue.fields[CE].timestampValue);return new me(t.seconds,t.nanos)}class q2{constructor(t,i,a,l,c,d,y,g,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=b}}const Jc="(default)";class Vl{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}const NE="__type__",G2="__max__",Nc={mapValue:{}},xE="__vector__",Wc="value";function dr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:Q2(r)?9007199254740991:F2(r)?10:11:_t(28295,{value:r})}function Hi(r,t){if(r===t)return!0;const i=dr(r);if(i!==dr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ml(r).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=hr(l.timestampValue),y=hr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return fr(l.bytesValue).isEqual(fr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ce(l.geoPointValue.latitude)===Ce(c.geoPointValue.latitude)&&Ce(l.geoPointValue.longitude)===Ce(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ce(l.integerValue)===Ce(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ce(l.doubleValue),y=Ce(c.doubleValue);return d===y?Zc(d)===Zc(y):isNaN(d)&&isNaN(y)}return!1})(r,t);case 9:return io(r.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(I0(d)!==I0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Hi(d[g],y[g])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((i=>Hi(i,t)))!==void 0}function so(r,t){if(r===t)return 0;const i=dr(r),a=dr(t);if(i!==a)return zt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const y=Ce(c.integerValue||c.doubleValue),g=Ce(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(r,t);case 3:return N0(r.timestampValue,t.timestampValue);case 4:return N0(Ml(r),Ml(t));case 5:return rm(r.stringValue,t.stringValue);case 6:return(function(c,d){const y=fr(c),g=fr(d);return y.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const b=zt(y[_],g[_]);if(b!==0)return b}return zt(y.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const y=zt(Ce(c.latitude),Ce(d.latitude));return y!==0?y:zt(Ce(c.longitude),Ce(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return x0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[Wc]?.arrayValue,b=g[Wc]?.arrayValue,S=zt(_?.values?.length||0,b?.values?.length||0);return S!==0?S:x0(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},b=Object.keys(_);g.sort(),b.sort();for(let S=0;S<g.length&&S<b.length;++S){const M=rm(g[S],b[S]);if(M!==0)return M;const G=so(y[g[S]],_[b[S]]);if(G!==0)return G}return zt(g.length,b.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function N0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return zt(r,t);const i=hr(r),a=hr(t),l=zt(i.seconds,a.seconds);return l!==0?l:zt(i.nanos,a.nanos)}function x0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=so(i[l],a[l]);if(c)return c}return zt(i.length,a.length)}function ro(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=hr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return fr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=am(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"})(r.mapValue):_t(61005,{value:r})}function Pc(r){switch(dr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+Pc(t):16;case 5:return 2*r.stringValue.length;case 6:return fr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return pr(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(r.mapValue);default:throw _t(13486,{value:r})}}function om(r){return!!r&&"integerValue"in r}function Bm(r){return!!r&&"arrayValue"in r}function D0(r){return!!r&&"nullValue"in r}function O0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zc(r){return!!r&&"mapValue"in r}function F2(r){return(r?.mapValue?.fields||{})[NE]?.stringValue===xE}function Rl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return pr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Rl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(r.arrayValue.values[i]);return t}return{...r}}function Q2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===G2}class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=en.emptyPath(),a={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Rl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){pr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new An(Rl(this.value))}}function DE(r){const t=[];return pr(r.fields,((i,a)=>{const l=new en([i]);if(zc(a)){const c=DE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new kn(t)}class on{constructor(t,i,a,l,c,d,y){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(t){return new on(t,0,Tt.min(),Tt.min(),Tt.min(),An.empty(),0)}static newFoundDocument(t,i,a,l){return new on(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new on(t,2,i,Tt.min(),Tt.min(),An.empty(),0)}static newUnknownDocument(t,i){return new on(t,3,i,Tt.min(),Tt.min(),An.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function M0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=so(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function V0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Hi(r.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function K2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class OE{}class He extends OE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new X2(t,i,a):i==="array-contains"?new J2(t,a):i==="in"?new W2(t,a):i==="not-in"?new tR(t,a):i==="array-contains-any"?new eR(t,a):new He(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new $2(t,a):new Z2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&dr(this.value)===dr(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends OE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new qi(t,i)}matches(t){return ME(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ME(r){return r.op==="and"}function VE(r){return Y2(r)&&ME(r)}function Y2(r){for(const t of r.filters)if(t instanceof qi)return!1;return!0}function lm(r){if(r instanceof He)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(VE(r))return r.filters.map((t=>lm(t))).join(",");{const t=r.filters.map((i=>lm(i))).join(",");return`${r.op}(${t})`}}function kE(r,t){return r instanceof He?(function(a,l){return l instanceof He&&a.op===l.op&&a.field.isEqual(l.field)&&Hi(a.value,l.value)})(r,t):r instanceof qi?(function(a,l){return l instanceof qi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&kE(d,l.filters[y])),!0):!1})(r,t):void _t(19439)}function UE(r){return r instanceof He?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(UE).join(" ,")+"}"})(r):"Filter"}class X2 extends He{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class $2 extends He{constructor(t,i){super(t,"in",i),this.keys=LE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Z2 extends He{constructor(t,i){super(t,"not-in",i),this.keys=LE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function LE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class J2 extends He{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Bm(i)&&kl(i.arrayValue,this.value)}}class W2 extends He{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class tR extends He{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class eR extends He{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>kl(this.value.arrayValue,a)))}}class nR{constructor(t,i=null,a=[],l=[],c=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function k0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new nR(r,t,i,a,l,c,d)}function Hm(r){const t=wt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ro(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ro(a))).join(",")),t.Te=i}return t.Te}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!K2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!kE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!V0(r.startAt,t.startAt)&&V0(r.endAt,t.endAt)}function um(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gh{constructor(t,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iR(r,t,i,a,l,c,d,y){return new gh(r,t,i,a,l,c,d,y)}function ph(r){return new gh(r)}function U0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sR(r){return r.collectionGroup!==null}function Il(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new qe(en.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(en.keyField().canonicalString())||t.Ie.push(new eh(en.keyField(),a))}return t.Ie}function Pi(r){const t=wt(r);return t.Ee||(t.Ee=rR(t,Il(r))),t.Ee}function rR(r,t){if(r.limitType==="F")return k0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return k0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function cm(r,t,i){return new gh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function yh(r,t){return qm(Pi(r),Pi(t))&&r.limitType===t.limitType}function PE(r){return`${Hm(Pi(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>UE(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${a})`})(Pi(r))}; limitType=${r.limitType})`}function _h(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const _=M0(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,y,g){const _=M0(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,Il(a),l))})(r,t)}function aR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zE(r){return(t,i)=>{let a=!1;for(const l of Il(r)){const c=oR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function oR(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?so(g,_):_t(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:r.dir})}}class na{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){pr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return SE(this.inner)}size(){return this.innerSize}}const lR=new ve(dt.comparator);function _s(){return lR}const jE=new ve(dt.comparator);function Tl(...r){let t=jE;for(const i of r)t=t.insert(i.key,i);return t}function BE(r){let t=jE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Xr(){return Cl()}function HE(){return Cl()}function Cl(){return new na((r=>r.toString()),((r,t)=>r.isEqual(t)))}const uR=new ve(dt.comparator),cR=new qe(dt.comparator);function jt(...r){let t=cR;for(const i of r)t=t.add(i);return t}const hR=new qe(zt);function fR(){return hR}function Gm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function qE(r){return{integerValue:""+r}}function dR(r,t){return z2(t)?qE(t):Gm(r,t)}class vh{constructor(){this._=void 0}}function mR(r,t,i){return r instanceof nh?(function(l,c){const d={fields:{[RE]:{stringValue:wE},[CE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&jm(c)&&(c=mh(c)),c&&(d.fields[IE]=c),{mapValue:d}})(i,t):r instanceof ao?FE(r,t):r instanceof Ul?QE(r,t):(function(l,c){const d=GE(l,c),y=L0(d)+L0(l.Ae);return om(d)&&om(l.Ae)?qE(y):Gm(l.serializer,y)})(r,t)}function gR(r,t,i){return r instanceof ao?FE(r,t):r instanceof Ul?QE(r,t):i}function GE(r,t){return r instanceof ih?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class nh extends vh{}class ao extends vh{constructor(t){super(),this.elements=t}}function FE(r,t){const i=KE(t);for(const a of r.elements)i.some((l=>Hi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends vh{constructor(t){super(),this.elements=t}}function QE(r,t){let i=KE(t);for(const a of r.elements)i=i.filter((l=>!Hi(l,a)));return{arrayValue:{values:i}}}class ih extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function L0(r){return Ce(r.integerValue||r.doubleValue)}function KE(r){return Bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class pR{constructor(t,i){this.field=t,this.transform=i}}function yR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof ao&&l instanceof ao||a instanceof Ul&&l instanceof Ul?io(a.elements,l.elements,Hi):a instanceof ih&&l instanceof ih?Hi(a.Ae,l.Ae):a instanceof nh&&l instanceof nh})(r.transform,t.transform)}class _R{constructor(t,i){this.version=t,this.transformResults=i}}class fi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new fi}static exists(t){return new fi(void 0,t)}static updateTime(t){return new fi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Eh{}function YE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Fm(r.key,fi.none()):new Kl(r.key,r.data,fi.none());{const i=r.data,a=An.empty();let l=new qe(en.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new yr(r.key,a,new kn(l.toArray()),fi.none())}}function vR(r,t,i){r instanceof Kl?(function(l,c,d){const y=l.value.clone(),g=z0(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):r instanceof yr?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=z0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(XE(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(r,t,i,a){return r instanceof Kl?(function(c,d,y,g){if(!jc(c.precondition,d))return y;const _=c.value.clone(),b=j0(c.fieldTransforms,g,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof yr?(function(c,d,y,g){if(!jc(c.precondition,d))return y;const _=j0(c.fieldTransforms,g,d),b=d.data;return b.setAll(XE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,y){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,t,i)}function ER(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=GE(a.transform,l||null);c!=null&&(i===null&&(i=An.empty()),i.set(a.field,c))}return i||null}function P0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&io(a,l,((c,d)=>yR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class yr extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function XE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function z0(r,t,i){const a=new Map;Zt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,y=t.data.field(c.field);a.set(c.field,gR(d,y,i[l]))}return a}function j0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,mR(c,d,t))}return a}class Fm extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TR extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&vR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=HE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=YE(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((i,a)=>P0(i,a)))&&io(this.baseMutations,t.baseMutations,((i,a)=>P0(i,a)))}}class Qm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Zt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return uR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Qm(t,i,a,l)}}class SR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Le,qt;function wR(r){switch(r){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function $E(r){if(r===void 0)return ys("GRPC error has no .code"),$.UNKNOWN;switch(r){case Le.OK:return $.OK;case Le.CANCELLED:return $.CANCELLED;case Le.UNKNOWN:return $.UNKNOWN;case Le.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Le.INTERNAL:return $.INTERNAL;case Le.UNAVAILABLE:return $.UNAVAILABLE;case Le.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Le.NOT_FOUND:return $.NOT_FOUND;case Le.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Le.ABORTED:return $.ABORTED;case Le.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Le.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:r})}}(qt=Le||(Le={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function RR(){return new TextEncoder}const IR=new or([4294967295,4294967295],0);function B0(r){const t=RR().encode(r),i=new dE;return i.update(t),new Uint8Array(i.digest())}function H0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new or([i,a],0),new or([l,c],0)]}class Km{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=or.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(or.fromNumber(a)));return l.compare(IR)===1&&(l=new or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=B0(t),[a,l]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Km(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=B0(t),[a,l]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Th(Tt.min(),l,new ve(zt),_s(),jt())}}class Yl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Yl(a,i,jt(),jt(),jt())}}class Bc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class ZE{constructor(t,i){this.targetId=t,this.Ce=i}}class JE{constructor(t,i,a=nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class q0{constructor(){this.ve=0,this.Fe=G0(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),a=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new Yl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=G0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CR{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.Je=xc(),this.He=xc(),this.Ye=new ve(zt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(um(c))if(a===0){const d=new dt(c.path);this.et(i,d,on.newNoDocument(d,Tt.min()))}else Zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(t),g=y?this.ct(y,t,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=fr(a).toUint8Array()}catch(g){if(g instanceof AE)return no("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new Km(d,l,c)}catch(g){return no(g instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&um(y.target)){const g=new dt(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,on.newNoDocument(g,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=jt();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ye,this.je,a);return this.je=_s(),this.Je=xc(),this.He=xc(),this.Ye=new ve(zt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new q0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new qe(zt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new qe(zt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new q0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new ve(dt.comparator)}function G0(){return new ve(dt.comparator)}const NR={asc:"ASCENDING",desc:"DESCENDING"},xR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DR={and:"AND",or:"OR"};class OR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hm(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function sh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function MR(r,t){return sh(r,t.toTimestamp())}function zi(r){return Zt(!!r,49232),Tt.fromTimestamp((function(i){const a=hr(i);return new me(a.seconds,a.nanos)})(r))}function Ym(r,t){return fm(r,t).canonicalString()}function fm(r,t){const i=(function(l){return new _e(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function tT(r){const t=_e.fromString(r);return Zt(rT(t),10190,{key:t.toString()}),t}function dm(r,t){return Ym(r.databaseId,t.path)}function Hd(r,t){const i=tT(t);if(i.get(1)!==r.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(nT(i))}function eT(r,t){return Ym(r.databaseId,t)}function VR(r){const t=tT(r);return t.length===4?_e.emptyPath():nT(t)}function mm(r){return new _e(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nT(r){return Zt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function F0(r,t,i){return{name:dm(r,t),fields:i.value.mapValue.fields}}function kR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Zt(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(Zt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:$E(_.code);return new ut(b,_.message||"")})(d);i=new JE(a,l,c,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Hd(r,a.document.name),c=zi(a.document.updateTime),d=a.document.createTime?zi(a.document.createTime):Tt.min(),y=new An({mapValue:{fields:a.document.fields}}),g=on.newFoundDocument(l,c,d,y),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Bc(_,b,g.key,g)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Hd(r,a.document),c=a.readTime?zi(a.readTime):Tt.min(),d=on.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Bc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Hd(r,a.document),c=a.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new AR(l,c),y=a.targetId;i=new ZE(y,d)}}return i}function UR(r,t){let i;if(t instanceof Kl)i={update:F0(r,t.key,t.value)};else if(t instanceof Fm)i={delete:dm(r,t.key)};else if(t instanceof yr)i={update:F0(r,t.key,t.data),updateMask:FR(t.fieldMask)};else{if(!(t instanceof TR))return _t(16599,{Vt:t.type});i={verify:dm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ih)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:MR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,t.precondition)),i}function LR(r,t){return r&&r.length>0?(Zt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?zi(l.updateTime):zi(c);return d.isEqual(Tt.min())&&(d=zi(c)),new _R(d,l.transformResults||[])})(i,t)))):[]}function PR(r,t){return{documents:[eT(r,t.path)]}}function zR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=eT(r,l);const c=(function(_){if(_.length!==0)return sT(qi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(M){return{field:Ka(M.field),direction:HR(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=hm(r,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function jR(r){let t=VR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Zt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const M=iT(S);return M instanceof qi&&VE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(J){return new eh(Ya(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,dh(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(S){const M=!!S.before,G=S.values||[];return new th(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,G=S.values||[];return new th(G,M)})(i.endAt)),iR(t,l,d,c,y,"F",g,_)}function BR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function iT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ya(i.unaryFilter.field);return He.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(i.unaryFilter.field);return He.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ya(i.unaryFilter.field);return He.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return He.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return He.create(Ya(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return qi.create(i.compositeFilter.filters.map((a=>iT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function HR(r){return NR[r]}function qR(r){return xR[r]}function GR(r){return DR[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Ya(r){return en.fromServerFormat(r.fieldPath)}function sT(r){return r instanceof He?(function(i){if(i.op==="=="){if(O0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(D0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(D0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:qR(i.op),value:i.value}}})(r):r instanceof qi?(function(i){const a=i.getFilters().map((l=>sT(l)));return a.length===1?a[0]:{compositeFilter:{op:GR(i.op),filters:a}}})(r):_t(54877,{filter:r})}function FR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function rT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ir{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),y=nn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class QR{constructor(t){this.yt=t}}function KR(r){const t=jR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(t,t.limit,"L"):t}class YR{constructor(){this.Cn=new XR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(cr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class XR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new qe(_e.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new qe(_e.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(aT,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const K0="LruGarbageCollector",$R=1048576;function Y0([r,t],[i,a]){const l=zt(r,i);return l===0?zt(t,a):l}class ZR{constructor(t){this.Ir=t,this.buffer=new qe(Y0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Y0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class JR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(K0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){go(i)?rt(K0,"Ignoring IndexedDB error during garbage collection: ",i):await mo(i)}await this.Vr(3e5)}))}}class WR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(fh.ce);const a=new ZR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Q0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,y,g,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,y=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Fa()<=Pt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function tI(r,t){return new WR(r,t)}class eI{constructor(){this.changes=new na((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class iI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,kn.empty(),me.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,jt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=jt()){const l=Xr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Tl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Xr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,jt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,a,l){let c=_s();const d=Cl(),y=(function(){return Cl()})();return i.forEach(((g,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof yr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Nl(b.mutation,_,b.mutation.getFieldMask(),me.now())):d.set(_.key,kn.empty())})),this.recalculateAndSaveOverlays(t,c).next((g=>(g.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>y.set(_,new nI(b,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(t,i){const a=Cl();let l=new ve(((d,y)=>d-y)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let b=a.get(g)||kn.empty();b=y.applyToLocalView(_,b),a.set(g,b);const S=(l.get(y.batchId)||jt()).add(g);l=l.insert(y.batchId,S)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,b=g.value,S=HE();b.forEach((M=>{if(!c.has(M)){const G=YE(i.get(M),a.get(M));G!==null&&S.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):sR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Xr());let y=Ol,g=c;return d.next((_=>X.forEach(_,((b,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{g=g.insert(b,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,g,_,jt()))).next((b=>({batchId:y,changes:BE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((y=>X.forEach(y,(g=>{const _=(function(S,M){return new gh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((g,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,on.newInvalidDocument(b)))}));let y=Tl();return d.forEach(((g,_)=>{const b=c.get(g);b!==void 0&&Nl(b.mutation,_,kn.empty(),me.now()),_h(i,_)&&(y=y.insert(g,_))})),y}))}}class sI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:zi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:KR(l.bundledQuery),readTime:zi(l.readTime)}})(i)),X.resolve()}}class rI{constructor(){this.overlays=new ve(dt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Xr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Xr(),c=i.length+1,d=new dt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ve(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Xr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const y=Xr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,b)=>y.set(_,b))),!(y.size()>=l)););return X.resolve(y)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new SR(i,a));let c=this.qr.get(i);c===void 0&&(c=jt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class aI{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Xm{constructor(){this.Qr=new qe(Ke.$r),this.Ur=new qe(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ke(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ke(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new dt(new _e([])),a=new Ke(i,t),l=new Ke(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new _e([])),a=new Ke(i,t),l=new Ke(i,t+1);let c=jt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ke(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||zt(t.Yr,i.Yr)}static Kr(t,i){return zt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class oI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Ke.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new Ke(y.key,c)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ke(i,0),l=new Ke(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new qe(zt);return i.forEach((l=>{const c=new Ke(l,0),d=new Ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ke(new dt(c),0);let y=new qe(zt);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(g.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Ke(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ke(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lI{constructor(t){this.ri=t,this.docs=(function(){return new ve(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():on.newInvalidDocument(i))}getEntries(t,i){let a=_s();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=_s();const d=i.path,y=new dt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:b}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||k2(V2(b),a)<=0||(l.has(b.key)||_h(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new uI(this)}getSize(t){return X.resolve(this.size)}}class uI extends eI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class cI{constructor(t){this.persistence=t,this.si=new na((i=>Hm(i)),qm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=oo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new oo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class oT{constructor(t,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new aI,this.referenceDelegate=t(this),this.Pi=new cI(this),this.indexManager=new YR,this.remoteDocumentCache=(function(l){return new lI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new QR(i),this.Ii=new sI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new rI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new oI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new hI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class hI extends L2{constructor(t){super(),this.currentSequenceNumber=t}}class $m{constructor(t){this.persistence=t,this.Ri=new Xm,this.Vi=null}static mi(t){return new $m(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=dt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.pi=new na((a=>j2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=tI(this,i)}static mi(t,i){return new rh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((y=>{y||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Zm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Zm(t,i.fromCache,a,l)}}class fI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class dI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Wb()?8:P2(ln())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new fI;return this.Ss(t,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(t,i,d,y.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Fa()<=Pt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Fa()<=Pt.DEBUG&&rt("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Fa()<=Pt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pi(i))):X.resolve())}ys(t,i){if(U0(i))return X.resolve(null);let a=Pi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=cm(i,null,"F"),a=Pi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=jt(...c);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((g=>{const _=this.Ds(i,y);return this.Cs(i,_,d,g.readTime)?this.ys(t,cm(i,null,"F")):this.vs(t,_,i,g)}))))})))))}ws(t,i,a,l){return U0(i)||l.isEqual(Tt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Fa()<=Pt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.vs(t,d,i,M2(l,Ol)).next((y=>y)))}))}Ds(t,i){let a=new qe(zE(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Fa()<=Pt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(t,i,cr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",mI=3e8;class gI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ve(zt),this.xs=new na((c=>Hm(c)),qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function pI(r,t,i,a){return new gI(r,t,i,a)}async function lT(r,t){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=jt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}for(const _ of c){y.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function yI(r,t){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,b){const S=_.batch,M=S.keys();let G=X.resolve();return M.forEach((J=>{G=G.next((()=>b.getEntry(g,J))).next((nt=>{const Z=_.docVersions.get(J);Zt(Z!==null,48541),nt.version.compareTo(Z)<0&&(S.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),b.addEntry(nt)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(g,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=jt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function uT(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function _I(r,t){const i=wt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];t.targetChanges.forEach(((b,S)=>{const M=l.get(S);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let G=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(nn.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,a)),l=l.insert(S,G),(function(nt,Z,ft){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=mI?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,G,b)&&y.push(i.Pi.updateTargetData(c,G))}));let g=_s(),_=jt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),y.push(vI(c,d,t.documentUpdates).next((b=>{g=b.ks,_=b.qs}))),!a.isEqual(Tt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(b)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function vI(r,t,i){let a=jt(),l=jt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=_s();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),d=d.insert(y,g)):rt(Jm,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function EI(r,t){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=zm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function TI(r,t){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ir(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function gm(r,t,i){const a=wt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;rt(Jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function X0(r,t,i){const a=wt(r);let l=Tt.min(),c=jt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,b){const S=wt(g),M=S.xs.get(b);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,b)})(a,d,Pi(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:jt()))).next((y=>(bI(a,aR(t),y),{documents:y,Qs:c})))))}function bI(r,t,i){let a=r.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class $0{constructor(){this.activeTargetIds=fR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SI{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AI{Oo(t){}shutdown(){}}const Z0="ConnectivityMonitor";class J0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Z0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Z0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function pm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const qd="RestConnection",wI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=pm(),y=this.zo(t,i.toUriEncodedString());rt(qd,`Sending RPC '${t}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(y),b=uo(_);return this.Jo(t,y,g,a,b).then((S=>(rt(qd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw no(qd,`RPC '${t}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=wI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class II{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const rn="WebChannelConnection";class CI extends RI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=pm();return new Promise(((y,g)=>{const _=new mE;_.setWithCredentials(!0),_.listenOnce(gE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const S=_.getResponseJson();rt(rn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),y(S);break;case Lc.TIMEOUT:rt(rn,`RPC '${t}' ${d} timed out`),g(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const M=_.getStatus();if(rt(rn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const nt=(function(ft){const bt=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(bt)>=0?bt:$.UNKNOWN})(J.status);g(new ut(nt,J.message))}else g(new ut($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ut($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(rn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);rt(rn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=_E(),y=yE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const b=c.join("");rt(rn,`Creating RPC '${t}' stream ${l}: ${b}`,g);const S=d.createWebChannel(b,g);this.I_(S);let M=!1,G=!1;const J=new II({Yo:Z=>{G?rt(rn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(M||(rt(rn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),M=!0),rt(rn,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),nt=(Z,ft,bt)=>{Z.listen(ft,(gt=>{try{bt(gt)}catch(Yt){setTimeout((()=>{throw Yt}),0)}}))};return nt(S,El.EventType.OPEN,(()=>{G||(rt(rn,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),nt(S,El.EventType.CLOSE,(()=>{G||(G=!0,rt(rn,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),nt(S,El.EventType.ERROR,(Z=>{G||(G=!0,no(rn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),nt(S,El.EventType.MESSAGE,(Z=>{if(!G){const ft=Z.data[0];Zt(!!ft,16349);const bt=ft,gt=bt?.error||bt[0]?.error;if(gt){rt(rn,`RPC '${t}' stream ${l} received error:`,gt);const Yt=gt.status;let ne=(function(A){const R=Le[A];if(R!==void 0)return $E(R)})(Yt),Ot=gt.message;ne===void 0&&(ne=$.INTERNAL,Ot="Unknown error status: "+Yt+" with message "+gt.message),G=!0,J.a_(new ut(ne,Ot)),S.close()}else rt(rn,`RPC '${t}' stream ${l} received:`,ft),J.u_(ft)}})),nt(y,pE.STAT_EVENT,(Z=>{Z.stat===sm.PROXY?rt(rn,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===sm.NOPROXY&&rt(rn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}function bh(r){return new OR(r,!0)}class cT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W0="PersistentStream";class hT{constructor(t,i,a,l,c,d,y,g){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(W0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NI extends hT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=kR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?zi(d.readTime):Tt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=um(g)?{documents:PR(c,g)}:{query:zR(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=WE(c,d.resumeToken);const _=hm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){y.readTime=sh(c,d.snapshotVersion.toTimestamp());const _=hm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,t);const a=BR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=mm(this.serializer),i.removeTarget=t,this.q_(i)}}class xI extends hT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=LR(t.writeResults,t.commitTime),a=zi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=mm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>UR(this.serializer,a)))};this.q_(i)}}class DI{}class OI extends DI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,fm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ta="RemoteStore";class VI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ia(this)&&(rt(ta,"Restarting streams for network reachability change."),await(async function(g){const _=wt(g);_.Ea.add(4),await Xl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Ra=new MI(a,l)}}async function Sh(r){if(ia(r))for(const t of r.da)await t(!0)}async function Xl(r){for(const t of r.da)await t(!1)}function fT(r,t){const i=wt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ng(i)?eg(i):po(i).O_()&&tg(i,t))}function Wm(r,t){const i=wt(r),a=po(i);i.Ia.delete(t),a.O_()&&dT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ia(i)&&i.Ra.set("Unknown"))}function tg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(r).Y_(t)}function dT(r,t){r.Va.Ue(t),po(r).Z_(t)}function eg(r){r.Va=new CR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Ra.ua()}function ng(r){return ia(r)&&!po(r).x_()&&r.Ia.size>0}function ia(r){return wt(r).Ea.size===0}function mT(r){r.Va=void 0}async function kI(r){r.Ra.set("Online")}async function UI(r){r.Ia.forEach(((t,i)=>{tg(r,t)}))}async function LI(r,t){mT(r),ng(r)?(r.Ra.ha(t),eg(r)):r.Ra.set("Unknown")}async function PI(r,t,i){if(r.Ra.set("Online"),t instanceof JE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(r,t)}catch(a){rt(ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(r,a)}else if(t instanceof Bc?r.Va.Ze(t):t instanceof ZE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Tt.min()))try{const a=await uT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const b=c.Ia.get(g);if(!b)return;c.Ia.set(g,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),dT(c,g);const S=new ir(b.target,g,_,b.sequenceNumber);tg(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){rt(ta,"Failed to raise snapshot:",a),await ah(r,a)}}async function ah(r,t,i){if(!go(t))throw t;r.Ea.add(1),await Xl(r),r.Ra.set("Offline"),i||(i=()=>uT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(ta,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sh(r)}))}function gT(r,t){return t().catch((i=>ah(r,i,t)))}async function Ah(r){const t=wt(r),i=mr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:zm;for(;zI(t);)try{const l=await EI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,jI(t,l)}catch(l){await ah(t,l)}pT(t)&&yT(t)}function zI(r){return ia(r)&&r.Ta.length<10}function jI(r,t){r.Ta.push(t);const i=mr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function pT(r){return ia(r)&&!mr(r).x_()&&r.Ta.length>0}function yT(r){mr(r).start()}async function BI(r){mr(r).ra()}async function HI(r){const t=mr(r);for(const i of r.Ta)t.ea(i.mutations)}async function qI(r,t,i){const a=r.Ta.shift(),l=Qm.from(a,t,i);await gT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ah(r)}async function GI(r,t){t&&mr(r).X_&&await(async function(a,l){if((function(d){return wR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();mr(a).B_(),await gT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(a)}})(r,t),pT(r)&&yT(r)}async function tv(r,t){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),rt(ta,"RemoteStore received new credentials");const a=ia(i);i.Ea.add(3),await Xl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function FI(r,t){const i=wt(r);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(i,a,l){const c=wt(i);return c.sa(),new NI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:kI.bind(null,r),t_:UI.bind(null,r),r_:LI.bind(null,r),H_:PI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),ng(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),mT(r))}))),r.ma}function mr(r){return r.fa||(r.fa=(function(i,a,l){const c=wt(i);return c.sa(),new xI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:BI.bind(null,r),r_:GI.bind(null,r),ta:HI.bind(null,r),na:qI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ah(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(ta,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ig{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,y=new ig(t,i,d,l,c);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,t){if(ys("AsyncQueue",`${t}: ${r}`),go(r))return new ut($.UNAVAILABLE,`${t}: ${r}`);throw r}class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Wa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class ev{constructor(){this.ga=new ve(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class lo{constructor(t,i,a,l,c,d,y,g,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new lo(t,i,Wa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class QI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class KI{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=nv(),c.forEach(((d,y)=>{for(const g of y.Sa)g.onError(a)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function nv(){return new na((r=>PE(r)),yh)}async function _T(r,t){const i=wt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new QI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=sg(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(y)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&rg(i)}async function vT(r,t){const i=wt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YI(r,t){const i=wt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(a=!0);d.wa=l}}a&&rg(i)}function XI(r,t,i){const a=wt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function rg(r){r.Ca.forEach((t=>{t.next()}))}var ym,iv;(iv=ym||(ym={})).Ma="default",iv.Cache="cache";class ET{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new lo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ym.Cache}}class TT{constructor(t){this.key=t}}class bT{constructor(t){this.key=t}}class $I{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=zE(t),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new ev,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const M=l.get(b),G=_h(this.query,S)?S:null,J=!!M&&this.mutatedKeys.has(M.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;M&&G?M.data.isEqual(G.data)?J!==nt&&(a.track({type:3,doc:G}),Z=!0):this.su(M,G)||(a.track({type:2,doc:G}),Z=!0,(g&&this.eu(G,g)>0||_&&this.eu(G,_)<0)&&(y=!0)):!M&&G?(a.track({type:0,doc:G}),Z=!0):M&&!G&&(a.track({type:1,doc:M}),Z=!0,(g||_)&&(y=!0)),Z&&(G?(d=d.add(G),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(G,J){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:Z})}};return nt(G)-nt(J)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new lo(this.query,t.tu,c,d,t.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new bT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new TT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class ZI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class JI{constructor(t){this.key=t,this.hu=!1}}class WI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new na((y=>PE(y)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new ve(dt.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tC(r,t,i=!0){const a=CT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ST(a,t,i,!0),l}async function eC(r,t){const i=CT(r);await ST(i,t,!0,!1)}async function ST(r,t,i,a){const l=await TI(r.localStore,Pi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await nC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&fT(r.remoteStore,l),y}async function nC(r,t,i,a,l){r.pu=(S,M,G)=>(async function(nt,Z,ft,bt){let gt=Z.view.ru(ft);gt.Cs&&(gt=await X0(nt.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,gt))));const Yt=bt&&bt.targetChanges.get(Z.targetId),ne=bt&&bt.targetMismatches.get(Z.targetId)!=null,Ot=Z.view.applyChanges(gt,nt.isPrimaryClient,Yt,ne);return rv(nt,Z.targetId,Ot.au),Ot.snapshot})(r,S,M,G);const c=await X0(r.localStore,t,!0),d=new $I(t,c.Qs),y=d.ru(c.documents),g=Yl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(y,r.isPrimaryClient,g);rv(r,i,_.au);const b=new ZI(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function iC(r,t,i){const a=wt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Wm(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(mo)):(_m(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function sC(r,t){const i=wt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Wm(i.remoteStore,a.targetId))}async function rC(r,t,i){const a=fC(r);try{const l=await(function(d,y){const g=wt(d),_=me.now(),b=y.reduce(((G,J)=>G.add(J.key)),jt());let S,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=_s(),nt=jt();return g.Ns.getEntries(G,b).next((Z=>{J=Z,J.forEach(((ft,bt)=>{bt.isValidDocument()||(nt=nt.add(ft))}))})).next((()=>g.localDocuments.getOverlayedDocuments(G,J))).next((Z=>{S=Z;const ft=[];for(const bt of y){const gt=ER(bt,S.get(bt.key).overlayedDocument);gt!=null&&ft.push(new yr(bt.key,gt,DE(gt.value.mapValue),fi.exists(!0)))}return g.mutationQueue.addMutationBatch(G,_,ft,y)})).next((Z=>{M=Z;const ft=Z.applyToLocalDocumentSet(S,nt);return g.documentOverlayCache.saveOverlays(G,Z.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:BE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new ve(zt)),_=_.insert(y,g),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await $l(a,l.changes),await Ah(a.remoteStore)}catch(l){const c=sg(l,"Failed to persist write");i.reject(c)}}async function AT(r,t){const i=wt(r);try{const a=await _I(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Zt(d.hu,14607):l.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await $l(i,a,t)}catch(a){await mo(a)}}function sv(r,t,i){const a=wt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=wt(d);g.onlineState=y;let _=!1;g.queries.forEach(((b,S)=>{for(const M of S.Sa)M.va(y)&&(_=!0)})),_&&rg(g)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function aC(r,t,i){const a=wt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ve(dt.comparator);d=d.insert(c,on.newNoDocument(c,Tt.min()));const y=jt().add(c),g=new Th(Tt.min(),new Map,new ve(zt),d,y);await AT(a,g),a.du=a.du.remove(c),a.Au.delete(t),og(a)}else await gm(a.localStore,t,!1).then((()=>_m(a,t,i))).catch(mo)}async function oC(r,t){const i=wt(r),a=t.batch.batchId;try{const l=await yI(i.localStore,t);RT(i,a,null),wT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,l)}catch(l){await mo(l)}}async function lC(r,t,i){const a=wt(r);try{const l=await(function(d,y){const g=wt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return g.mutationQueue.lookupMutationBatch(_,y).next((S=>(Zt(S!==null,37113),b=S.keys(),g.mutationQueue.removeMutationBatch(_,S)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,b,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>g.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);RT(a,t,i),wT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await $l(a,l)}catch(l){await mo(l)}}function wT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function RT(r,t,i){const a=wt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function _m(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||IT(r,a)}))}function IT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Wm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),og(r))}function rv(r,t,i){for(const a of i)a instanceof TT?(r.Ru.addReference(a.key,t),uC(r,a)):a instanceof bT?(rt(ag,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||IT(r,a.key)):_t(19791,{wu:a})}function uC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(ag,"New document in limbo: "+i),r.Eu.add(a),og(r))}function og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(_e.fromString(t)),a=r.fu.next();r.Au.set(a,new JI(i)),r.du=r.du.insert(i,a),fT(r.remoteStore,new ir(Pi(ph(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function $l(r,t,i){const a=wt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Zm.As(g.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(g,_){const b=wt(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(M=>X.forEach(M.Es,(G=>b.persistence.referenceDelegate.addReference(S,M.targetId,G))).next((()=>X.forEach(M.ds,(G=>b.persistence.referenceDelegate.removeReference(S,M.targetId,G)))))))))}catch(S){if(!go(S))throw S;rt(Jm,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const G=b.Ms.get(M),J=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(J);b.Ms=b.Ms.insert(M,nt)}}})(a.localStore,c))}async function cC(r,t){const i=wt(r);if(!i.currentUser.isEqual(t)){rt(ag,"User change. New user:",t.toKey());const a=await lT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new ut($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Ls)}}function hC(r,t){const i=wt(r),a=i.Au.get(t);if(a&&a.hu)return jt().add(a.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function CT(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aC.bind(null,t),t.Pu.H_=YI.bind(null,t.eventManager),t.Pu.yu=XI.bind(null,t.eventManager),t}function fC(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lC.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pI(this.persistence,new dI,t.initialUser,this.serializer)}Cu(t){return new oT($m.mi,this.serializer)}Du(t){return new SI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class dC extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new JR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new oT((a=>rh.mi(a,i)),this.serializer)}}class vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=cC.bind(null,this.syncEngine),await FI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KI})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),a=(function(c){return new CI(c)})(t.databaseInfo);return(function(c,d,y,g){return new OI(c,d,y,g)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,y){return new VI(a,l,c,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return J0.v()?new J0:new AI})())}createSyncEngine(t,i){return(function(l,c,d,y,g,_,b){const S=new WI(l,c,d,y,g,_);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);rt(ta,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class NT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ys("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const gr="FirestoreClient";class mC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=sg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(gr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await lT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function av(r,t){r.asyncQueue.verifyOperationInProgress();const i=await gC(r);rt(gr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>tv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>tv(t.remoteStore,l))),r._onlineComponents=t}async function gC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(gr,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new oh)}}else rt(gr,"Using default OfflineComponentProvider"),await Fd(r,new dC(void 0));return r._offlineComponents}async function xT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(gr,"Using user provided OnlineComponentProvider"),await av(r,r._uninitializedComponentsProvider._online)):(rt(gr,"Using default OnlineComponentProvider"),await av(r,new vm))),r._onlineComponents}function pC(r){return xT(r).then((t=>t.syncEngine))}async function Em(r){const t=await xT(r),i=t.eventManager;return i.onListen=tC.bind(null,t.syncEngine),i.onUnlisten=iC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=eC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=sC.bind(null,t.syncEngine),i}function yC(r,t,i={}){const a=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const b=new NT({next:M=>{b.Nu(),d.enqueueAndForget((()=>vT(c,S)));const G=M.docs.has(y);!G&&M.fromCache?_.reject(new ut($.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&g&&g.source==="server"?_.reject(new ut($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new ET(ph(y.path),b,{includeMetadataChanges:!0,qa:!0});return _T(c,S)})(await Em(r),r.asyncQueue,t,i,a))),a.promise}function DT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const ov=new Map;const OT="firestore.googleapis.com",lv=!0;class uv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=lv}else this.host=t.host,this.ssl=t.ssl??lv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$R)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}O2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new T2;switch(a.type){case"firstParty":return new w2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=ov.get(i);a&&(rt("ComponentProvider","Removing Datastore"),ov.delete(i),a.terminate())})(this),Promise.resolve()}}function _C(r,t,i,a={}){r=hi(r,lg);const l=uo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${t}:${i}`;l&&(Cv(`https://${y}`),Nv("Firestore",!0)),c.host!==OT&&c.host!==y&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!ur(g,d)&&(r._setSettings(g),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=an.MOCK_USER;else{_=Gb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new an(S)}r._authCredentials=new b2(new EE(_,b))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class ze{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ql(i,ze._jsonSchema))return new ze(t,a||null,new dt(_e.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Pe("string",ze._jsonSchemaVersion),referencePath:Pe("string")};class Ll extends wh{constructor(t,i,a){super(t,i,ph(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new dt(t))}withConverter(t){return new Ll(this.firestore,t,this._path)}}function Tn(r,t,...i){if(r=fn(r),arguments.length===1&&(t=Lm.newId()),D2("doc","path",t),r instanceof lg){const a=_e.fromString(t,...i);return S0(a),new ze(r,null,new dt(a))}{if(!(r instanceof ze||r instanceof Ll))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_e.fromString(t,...i));return S0(a),new ze(r.firestore,r instanceof Ll?r.converter:null,new dt(a))}}const cv="AsyncQueue";class hv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cT(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&rt(cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!go(t))throw t;rt(cv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",fv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ig.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function fv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function dv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ea extends lg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new hv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hv(t),this._firestoreClient=void 0,await t}}}function vC(r,t){const i=typeof r=="object"?r:Mv(),a=typeof r=="string"?r:Jc,l=Im(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Hb("firestore");c&&_C(l,...c)}return l}function ug(r){if(r._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||EC(r),r._firestoreClient}function EC(r){const t=r._freezeSettings(),i=(function(l,c,d,y){return new q2(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,DT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new mC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(nn.fromBase64String(t))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Zn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Pe("string",Zn._jsonSchemaVersion),bytes:Pe("string")};class Rh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ih{constructor(t){this._methodName=t}}class ji{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Pe("string",ji._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class Bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Bi(t.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Pe("string",Bi._jsonSchemaVersion),vectorValues:Pe("object")};const TC=/^__.*__$/;class bC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new yr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class MT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new yr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function VT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class Ch{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ch({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(VT(this.Ac)&&TC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class SC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||bh(t)}Cc(t,i,a,l=!1){return new Ch({Ac:t,methodName:i,Dc:a,path:en.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kT(r){const t=r._freezeSettings(),i=bh(r._databaseId);return new SC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function AC(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);hg("Data must be an object, but it was:",d,a);const y=UT(a,d);let g,_;if(c.merge)g=new kn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const M=Tm(t,S,i);if(!d.contains(M))throw new ut($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);PT(b,M)||b.push(M)}g=new kn(b),_=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,_=d.fieldTransforms;return new bC(new An(y),g,_)}class Nh extends Ih{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nh}}function wC(r,t,i){return new Ch({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cg extends Ih{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=wC(this,t,!0),a=this.vc.map((c=>Zl(c,i))),l=new ao(a);return new pR(t.path,l)}isEqual(t){return t instanceof cg&&ur(this.vc,t.vc)}}function RC(r,t,i,a){const l=r.Cc(1,t,i);hg("Data must be an object, but it was:",l,a);const c=[],d=An.empty();pr(a,((g,_)=>{const b=fg(t,g,i);_=fn(_);const S=l.yc(b);if(_ instanceof Nh)c.push(b);else{const M=Zl(_,S);M!=null&&(c.push(b),d.set(b,M))}}));const y=new kn(c);return new MT(d,y,l.fieldTransforms)}function IC(r,t,i,a,l,c){const d=r.Cc(1,t,i),y=[Tm(t,a,i)],g=[l];if(c.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Tm(t,c[M])),g.push(c[M+1]);const _=[],b=An.empty();for(let M=y.length-1;M>=0;--M)if(!PT(_,y[M])){const G=y[M];let J=g[M];J=fn(J);const nt=d.yc(G);if(J instanceof Nh)_.push(G);else{const Z=Zl(J,nt);Z!=null&&(_.push(G),b.set(G,Z))}}const S=new kn(_);return new MT(b,S,d.fieldTransforms)}function Zl(r,t){if(LT(r=fn(r)))return hg("Unsupported field value:",t,r),UT(r,t);if(r instanceof Ih)return(function(a,l){if(!VT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=Zl(y,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=me.fromDate(a);return{timestampValue:sh(l.serializer,c)}}if(a instanceof me){const c=new me(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(l.serializer,c)}}if(a instanceof ji)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zn)return{bytesValue:WE(l.serializer,a._byteString)};if(a instanceof ze){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Bi)return(function(d,y){return{mapValue:{fields:{[NE]:{stringValue:xE},[Wc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Gm(y.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Pm(a)}`)})(r,t)}function UT(r,t){const i={};return SE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pr(r,((a,l)=>{const c=Zl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function LT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof me||r instanceof ji||r instanceof Zn||r instanceof ze||r instanceof Ih||r instanceof Bi)}function hg(r,t,i){if(!LT(i)||!TE(i)){const a=Pm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Tm(r,t,i){if((t=fn(t))instanceof Rh)return t._internalPath;if(typeof t=="string")return fg(r,t);throw lh("Field path arguments must be of type string or ",r,!1,void 0,i)}const CC=new RegExp("[~\\*/\\[\\]]");function fg(r,t,i){if(t.search(CC)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Rh(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new ut($.INVALID_ARGUMENT,y+r+g)}function PT(r,t){return r.some((i=>i.isEqual(t)))}class zT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(jT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class NC extends zT{data(){return super.data()}}function jT(r,t){return typeof t=="string"?fg(r,t):t instanceof Rh?t._internalPath:t._delegate._internalPath}function xC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DC{convertValue(t,i="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return pr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>Ce(a.doubleValue)));return new Bi(i)}convertGeoPoint(t){return new ji(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=hr(t);return new me(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=_e.fromString(t);Zt(rT(a),9688,{name:t});const l=new Vl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ys(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function OC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $r extends zT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(jT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=$r._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}$r._jsonSchemaVersion="firestore/documentSnapshot/1.0",$r._jsonSchema={type:Pe("string",$r._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Hc extends $r{data(t={}){return super.data(t)}}class to{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new Hc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Sl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Hc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Sl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),b=d.indexOf(y.doc.key)),{type:MC(y.type),doc:g,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=to._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function MC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}function Qd(r){r=hi(r,ze);const t=hi(r.firestore,ea);return yC(ug(t),r._key).then((i=>HT(t,r,i)))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Pe("string",to._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class BT extends DC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function VC(r,t,i){r=hi(r,ze);const a=hi(r.firestore,ea),l=OC(r.converter,t);return dg(a,[AC(kT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,fi.none())])}function Xn(r,t,i,...a){r=hi(r,ze);const l=hi(r.firestore,ea),c=kT(l);let d;return d=typeof(t=fn(t))=="string"||t instanceof Rh?IC(c,"updateDoc",r._key,t,i,a):RC(c,"updateDoc",r._key,t),dg(l,[d.toMutation(r._key,fi.exists(!0))])}function kC(r){return dg(hi(r.firestore,ea),[new Fm(r._key,fi.none())])}function mv(r,...t){r=fn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||dv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dv(t[a])){const g=t[a];t[a]=g.next?.bind(g),t[a+1]=g.error?.bind(g),t[a+2]=g.complete?.bind(g)}let c,d,y;if(r instanceof ze)d=hi(r.firestore,ea),y=ph(r._key.path),c={next:g=>{t[a]&&t[a](HT(d,r,g))},error:t[a+1],complete:t[a+2]};else{const g=hi(r,wh);d=hi(g.firestore,ea),y=g._query;const _=new BT(d);c={next:b=>{t[a]&&t[a](new to(d,_,g,b))},error:t[a+1],complete:t[a+2]},xC(r._query)}return(function(_,b,S,M){const G=new NT(M),J=new ET(b,G,S);return _.asyncQueue.enqueueAndForget((async()=>_T(await Em(_),J))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>vT(await Em(_),J)))}})(ug(d),y,l,c)}function dg(r,t){return(function(a,l){const c=new lr;return a.asyncQueue.enqueueAndForget((async()=>rC(await pC(a),l,c))),c.promise})(ug(r),t)}function HT(r,t,i){const a=i.docs.get(t._key),l=new BT(r);return new $r(r,l,t._key,a,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}function Oc(...r){return new cg("arrayUnion",r)}(function(t,i=!0){(function(l){fo=l})(co),eo(new Zr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ea(new S2(a.getProvider("auth-internal")),new R2(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),ar(v0,E0,t),ar(v0,E0,"esm2020")})();const UC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),gv=r=>{const t=LC(r);return t.charAt(0).toUpperCase()+t.slice(1)},qT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),PC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var zC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jC=Kt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>Kt.createElement("svg",{ref:g,...zC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:qT("lucide",l),...!c&&!PC(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,b])=>Kt.createElement(_,b)),...Array.isArray(c)?c:[c]]));const je=(r,t)=>{const i=Kt.forwardRef(({className:a,...l},c)=>Kt.createElement(jC,{ref:c,iconNode:t,className:qT(`lucide-${UC(gv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=gv(r),i};const BC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],pv=je("book-open",BC);const HC=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Kd=je("bot",HC);const qC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GC=je("circle-check-big",qC);const FC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],QC=je("circle-question-mark",FC);const KC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],GT=je("crown",KC);const YC=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],XC=je("footprints",YC);const $C=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],ZC=je("hammer",$C);const JC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],WC=je("house",JC);const tN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bm=je("log-out",tN);const eN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],nN=je("play",eN);const iN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],sN=je("rotate-ccw",iN);const rN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aN=je("settings",rN);const oN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lN=je("shield",oN);const uN=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],Pl=je("siren",uN);const cN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],hN=je("skull",cN);const fN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],yv=je("sparkles",fN);const dN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mN=je("trash-2",dN);const gN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Sm=je("trophy",gN);const pN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],FT=je("user",pN);const yN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],QT=je("x",yN),_N={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:20af4094771c23a46aa637"},KT=Ov(_N),Yd=v2(KT),bn=vC(KT),Vn=typeof __app_id<"u"?__app_id:"police-hunt-game",vN="3",us={KING:{name:"King",points:10,icon:GT,color:"bg-yellow-600",textColor:"text-yellow-400",desc:"The ruler. Always scores high (10 pts)."},POLICE:{name:"Police",points:8,icon:lN,color:"bg-blue-600",textColor:"text-blue-400",desc:"The enforcer. Must find the criminal to score (8 pts)."},ROBBER:{name:"Robber",points:6,icon:hN,color:"bg-red-600",textColor:"text-red-500",desc:"The heavy criminal. Scores 6 pts if not caught."},THIEF:{name:"Thief",points:4,icon:XC,color:"bg-red-600",textColor:"text-red-300",desc:"The petty criminal. Scores 4 pts if not caught."}},EN=["Terminator","RoboCop","Wall-E","R2-D2","Jarvis","Ultron","Hal-9000","GLaDOS"],TN=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},Xd=({isShaking:r})=>w.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${r?"animate-shake bg-red-900/20":""}`,children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),w.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((t,i)=>{const a=Object.keys(us),l=us[a[i%a.length]].icon;return w.jsx("div",{className:"absolute animate-float text-white/20",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:w.jsx(l,{size:32})},i)})}),w.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),_v=()=>w.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[w.jsx(Pl,{size:12,className:"text-red-500"}),w.jsx("span",{className:"text-[10px] font-black tracking-widest text-blue-500 uppercase",children:"POLICE HUNT"})]}),bN=()=>w.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[w.jsx(Pl,{size:22,className:"text-red-500"}),w.jsx("span",{className:"text-[20px] font-black tracking-widest text-blue-500 uppercase",children:"POLICE HUNT"})]}),vv=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>w.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:w.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[w.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Depart Station?"}),w.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:l?"Leaving now will end the hunt for everyone!":"Leaving the lobby will disconnect you."}),w.jsxs("div",{className:"flex flex-col gap-3",children:[w.jsx("button",{onClick:i,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),l&&a&&w.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white",children:[w.jsx(WC,{size:18})," Return Squad to Lobby"]}),w.jsxs("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[w.jsx(bm,{size:18})," Leave Game"]})]})]})}),Ev=({onClose:r})=>w.jsx("div",{className:"fixed inset-0 bg-black/95 z-100 flex items-center justify-center p-0 md:p-4 backdrop-blur-md animate-in fade-in",children:w.jsxs("div",{className:"bg-slate-800 md:rounded-2xl w-full max-w-4xl h-full md:h-auto max-h-[90vh] overflow-hidden border-none md:border border-slate-600 shadow-2xl flex flex-col relative",children:[w.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-700 flex justify-between items-center bg-slate-900/50",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("h2",{className:"text-2xl md:text-3xl font-black text-transparent bg-clip-text bg-linear-to-r from-red-700 to-blue-600 uppercase tracking-widest",children:"Game Rules"}),w.jsx("span",{className:"text-slate-400 text-xs md:text-sm font-bold tracking-wide",children:"Deduction & Deception"})]}),w.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-700 rounded-full text-slate-400 hover:text-white transition-colors",children:w.jsx(QT,{size:24})})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-8 text-slate-300",children:[w.jsxs("div",{className:"bg-slate-700/50 p-6 rounded-xl border border-slate-600",children:[w.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[w.jsx(Sm,{className:"text-yellow-500",size:24})," The Objective"]}),w.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["The goal is to accumulate the highest score after a set number of rounds. Roles are shuffled every round.",w.jsx("br",{}),w.jsx("br",{}),w.jsx("strong",{children:"The Twist:"})," The"," ",w.jsx("span",{className:"text-blue-400 font-bold",children:"Police"})," must find the correct criminal. If they succeed, they score points. If they fail, the criminal escapes with the loot!"]})]}),w.jsxs("div",{children:[w.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[w.jsx(FT,{className:"text-purple-400",size:24})," The Roles"]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.values(us).map(t=>w.jsxs("div",{className:"flex items-start gap-4 bg-slate-700/30 p-4 rounded-xl border border-slate-600",children:[w.jsx("div",{className:"p-3 rounded-xl bg-slate-800 border border-slate-700 shadow-lg",children:w.jsx(t.icon,{className:t.textColor,size:28})}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-1",children:[w.jsx("h4",{className:`font-black text-lg ${t.textColor}`,children:t.name}),w.jsxs("span",{className:"bg-slate-900 px-2 py-0.5 rounded text-xs font-bold text-slate-400",children:[t.points," Pts"]})]}),w.jsx("p",{className:"text-sm text-slate-400 leading-tight",children:t.desc})]})]},t.name))})]}),w.jsxs("div",{children:[w.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[w.jsx(Pl,{className:"text-blue-400",size:24})," How It Works"]}),w.jsxs("div",{className:"space-y-4 text-sm md:text-base border-l-2 border-slate-600 pl-4",children:[w.jsxs("div",{children:[w.jsx("strong",{className:"text-white block mb-1",children:"1. Assignment"}),"Each player is secretly assigned a role: King, Police, Robber, or Thief."]}),w.jsxs("div",{children:[w.jsx("strong",{className:"text-white block mb-1",children:"2. The Hunt"}),"The ",w.jsx("span",{className:"text-blue-400 font-bold",children:"Police"}),' must reveal themselves and guess who holds a specific criminal card (e.g., "Find the Robber").']}),w.jsxs("div",{children:[w.jsx("strong",{className:"text-white block mb-1",children:"3. Scoring"}),w.jsxs("ul",{className:"list-disc pl-5 mt-1 space-y-1 text-slate-400",children:[w.jsxs("li",{children:[w.jsx("span",{className:"text-yellow-400",children:"King:"})," Always gets"," ",w.jsx("strong",{children:"10 pts"}),"."]}),w.jsxs("li",{children:[w.jsx("span",{className:"text-blue-400",children:"Police:"})," Gets"," ",w.jsx("strong",{children:"8 pts"})," if they guess correctly."," ",w.jsx("strong",{children:"0 pts"})," if wrong."]}),w.jsxs("li",{children:[w.jsx("span",{className:"text-red-400",children:"Criminals:"})," Get points (6 or 4) only if the Police guesses ",w.jsx("strong",{children:"WRONG"}),". If caught, they get ",w.jsx("strong",{children:"0 pts"}),"."]})]})]})]})]})]}),w.jsx("div",{className:"p-4 md:p-6 bg-slate-900 border-t border-slate-700 text-center",children:w.jsx("button",{onClick:r,className:"w-full md:w-auto bg-blue-600 hover:bg-blue-500 text-white px-12 py-3 rounded-xl font-bold text-lg shadow-lg transition-all",children:"Let's Play!"})})]})}),Tv=({type:r="gold"})=>{const[t,i]=Kt.useState([]);return Kt.useEffect(()=>{const a=r==="gold"?["#FFD700","#FFA500","#FFFF00","#B8860B"]:["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF"],l=50,c=[];for(let d=0;d<l;d++)c.push({id:d,x:Math.random()*100,y:-10,color:a[Math.floor(Math.random()*a.length)],delay:Math.random()*.5,duration:1+Math.random()*2,left:Math.random()*100});i(c)},[r]),w.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[t.map(a=>w.jsx("div",{className:"absolute w-2 h-2 rounded-full opacity-80 animate-fall",style:{left:`${a.left}%`,backgroundColor:a.color,animationDuration:`${a.duration}s`,animationDelay:`${a.delay}s`,top:"-10px"}},a.id)),w.jsx("style",{children:`
        @keyframes fall {
          0% { transform: translateY(0) rotate(0deg); opacity: 1; }
          100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        .animate-fall {
          animation-name: fall;
          animation-timing-function: linear;
          animation-fill-mode: forwards;
        }
      `})]})};function SN(){const[r,t]=Kt.useState(null),[i,a]=Kt.useState("menu"),[l,c]=Kt.useState(""),[d,y]=Kt.useState(null),[g,_]=Kt.useState(null),[b,S]=Kt.useState(""),[M,G]=Kt.useState(!1),[J,nt]=Kt.useState(!1),[Z,ft]=Kt.useState(!1),[bt,gt]=Kt.useState(!1),[Yt,ne]=Kt.useState(25),[Ot,N]=Kt.useState(""),[A,R]=Kt.useState(!1),[V,x]=Kt.useState(!1),[U,I]=Kt.useState(!1),[le,ge]=Kt.useState(!1),[q,tt]=Kt.useState(()=>localStorage.getItem("gameHub_playerName")||"");if(Kt.useEffect(()=>{q&&localStorage.setItem("gameHub_playerName",q)},[q]),Kt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await rw(Yd,__initial_auth_token):await tw(Yd)})();const at=lw(Yd,pt=>t(pt));return()=>at()},[]),Kt.useEffect(()=>{if(r&&i==="menu"){const it=localStorage.getItem("police_room_id"),at=localStorage.getItem("police_player_name");it&&at&&(G(!0),tt(at),y(it))}},[r,i]),Kt.useEffect(()=>{if(!d||!r)return;const it=Tn(bn,"artifacts",Vn,"public","data","rooms",d),at=mv(it,pt=>{if(pt.exists()){const Ct=pt.data();if(_({id:pt.id,...Ct}),!Ct.players.some(Se=>Se.id===r.uid)){y(null),a("menu"),S("You were removed from the Station."),localStorage.removeItem("police_room_id");return}Ct.status==="playing"||Ct.status==="finished"?a("game"):(a("lobby"),nt(!1))}else y(null),a("menu"),S("The Station has been closed! (Room Deleted)"),localStorage.removeItem("police_room_id")});return()=>at()},[d,r]),Kt.useEffect(()=>{if(!g||!r)return;const it=g.players.find(Ct=>Ct.id===r.uid);if(!it)return;const at=g.gameInstanceId||"default",pt=`${g.id}-${at}-${g.currentRound}`;if(g.turnState==="GUESSING"&&it.currentRole==="KING"){const Ct=`king-${pt}`;sessionStorage.getItem(Ct)||(I(!0),setTimeout(()=>I(!1),3e3),sessionStorage.setItem(Ct,"true"))}if(g.turnState==="RESULT"){const Ct=`result-${pt}`;if(!sessionStorage.getItem(Ct)){sessionStorage.setItem(Ct,"true");const xt=g.roundHistory[g.roundHistory.length-1];if(!xt)return;const Se=xt.winner==="Police",dn=it.currentRole==="POLICE",yt=it.currentRole===xt.target;Se?dn?(x(!0),setTimeout(()=>x(!1),4e3)):yt&&(ge(!0),setTimeout(()=>ge(!1),500)):dn&&(ge(!0),setTimeout(()=>ge(!1),500))}}g.status==="finished"&&nt(!0)},[g,r]),Kt.useEffect(()=>{if(!(!g||!r||g.hostId!==r.uid)){if(g.turnState==="GUESSING"){const it=g.players.find(at=>at.currentRole==="POLICE");if(it&&it.isBot){const at=setTimeout(()=>{const pt=g.players.filter(xt=>xt.id!==it.id&&xt.currentRole!=="KING"),Ct=pt[Math.floor(Math.random()*pt.length)];Ct&&Mt(Ct.id)},2500);return()=>clearTimeout(at)}}if(g.turnState==="RESULT"){const it=g.players.filter(pt=>!pt.isBot);(g.readyPlayers?.length||0)>=it.length&&it.length>0&&setTimeout(()=>St(),500)}}},[g?.turnState,g?.readyPlayers?.length]),Kt.useEffect(()=>{const it=mv(Tn(bn,"game_hub_settings","config"),at=>{at.exists()&&(at.data()[vN]?.maintenance?gt(!0):gt(!1))});return()=>it()},[]),bt)return w.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[w.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[w.jsx(ZC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),w.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),w.jsx("p",{className:"text-gray-400",children:"All units return to HQ. Shift change in progress."})]}),w.jsx("div",{className:"h-8"}),w.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:w.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:w.jsx("div",{className:"text-center pb-12 animate-pulse",children:w.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[w.jsx(yv,{size:16})," Visit Gamehub...Try our other releases..."," ",w.jsx(yv,{size:16})]})})})})]});const ct=async()=>{if(!r||!q.trim())return S("Enter nickname.");G(!0);const it=Math.random().toString(36).substring(2,6).toUpperCase(),at=Tn(bn,"artifacts",Vn,"public","data","rooms",it),pt={hostId:r.uid,gameInstanceId:Date.now(),maxPlayers:4,maxRounds:25,currentRound:0,status:"lobby",players:[{id:r.uid,name:q,isBot:!1,totalScore:0,currentRole:null,roundScore:0}],roundHistory:[],readyPlayers:[],gameReadyPlayers:[],turnState:"IDLE",roundTarget:null};try{await VC(at,pt),localStorage.setItem("police_room_id",it),localStorage.setItem("police_player_name",q),y(it),ne(25)}catch{S("Failed to create room.")}G(!1)},Bt=async()=>{if(!r||!l||!q.trim())return S("Enter details.");G(!0);const it=Tn(bn,"artifacts",Vn,"public","data","rooms",l);try{const at=await Qd(it);if(!at.exists())throw new Error("Room not found.");const pt=at.data();if(pt.players.length>=4&&!pt.players.some(xt=>xt.id===r.uid))throw new Error("Room full.");pt.players.find(xt=>xt.id===r.uid)||await Xn(it,{players:Oc({id:r.uid,name:q,isBot:!1,totalScore:0,currentRole:null,roundScore:0})}),localStorage.setItem("police_room_id",l),localStorage.setItem("police_player_name",q),y(l)}catch(at){S(at.message)}G(!1)},Gt=async()=>{if(!(!d||!r)){try{const it=Tn(bn,"artifacts",Vn,"public","data","rooms",d),at=await Qd(it);if(at.exists()){const pt=at.data();if(pt.hostId===r.uid)await kC(it);else if(pt.status==="lobby"){const xt=pt.players.filter(Se=>Se.id!==r.uid);await Xn(it,{players:xt})}else await O(it,pt)}}catch(it){console.error(it)}localStorage.removeItem("police_room_id"),y(null),a("menu"),R(!1)}},O=async(it,at)=>{await Xn(it,{status:"finished",players:at.players.filter(pt=>pt.id!==r.uid)})},K=async it=>{if(!(!d||!r))try{const at=Tn(bn,"artifacts",Vn,"public","data","rooms",d),pt=await Qd(at);if(pt.exists()){const xt=pt.data().players.filter(Se=>Se.id!==it);await Xn(at,{players:xt})}}catch(at){console.error(at)}},et=async()=>{if(!g||g.hostId!==r.uid)return;const it=g.players.map(at=>({...at,totalScore:0,currentRole:null,roundScore:0}));await Xn(Tn(bn,"artifacts",Vn,"public","data","rooms",d),{gameInstanceId:Date.now(),currentRound:0,status:"lobby",players:it,roundHistory:[],readyPlayers:[],gameReadyPlayers:[],turnState:"IDLE"}),R(!1)},st=async()=>{if(!d||!r||g.hostId!==r.uid)return;const it=parseInt(Yt);if(it<5||it>200||isNaN(it)){N("Min 5, Max 200 rounds.");return}N(""),await Xn(Tn(bn,"artifacts",Vn,"public","data","rooms",d),{maxRounds:it})},vt=async()=>{const it=Tn(bn,"artifacts",Vn,"public","data","rooms",d);g.readyPlayers?.includes(r.uid)||await Xn(it,{readyPlayers:Oc(r.uid)})},St=async()=>{if(g.currentRound>=g.maxRounds){await Xn(Tn(bn,"artifacts",Vn,"public","data","rooms",d),{status:"finished"});return}const it=TN(["KING","POLICE","ROBBER","THIEF"]),at=g.currentRound+1,pt=at%2!==0?"THIEF":"ROBBER",Ct=g.players.map((xt,Se)=>({...xt,currentRole:it[Se],roundScore:0}));await Xn(Tn(bn,"artifacts",Vn,"public","data","rooms",d),{status:"playing",currentRound:at,turnState:"GUESSING",roundTarget:pt,players:Ct,readyPlayers:[],lastRoundResult:null})},Mt=async it=>{const at=g.players.find(yt=>yt.id===it),pt=g.roundTarget;let Ct=[...g.players],xt="",Se=!1;if(at.currentRole===pt)Se=!0,xt=`Success! Police caught the ${us[pt].name}.`,Ct=Ct.map(yt=>{let ie=0;return yt.currentRole==="KING"?ie=10:yt.currentRole==="POLICE"?ie=8:yt.currentRole===pt?ie=0:ie=us[yt.currentRole].points,{...yt,roundScore:ie,totalScore:yt.totalScore+ie}});else{Se=!1;const yt=us[at.currentRole].name;xt=`Failed! Police accused ${at.name} (${yt}).`,Ct=Ct.map(ie=>{let Dt=0;return ie.currentRole==="KING"?Dt=10:ie.currentRole==="POLICE"?Dt=0:Dt=us[ie.currentRole].points,{...ie,roundScore:Dt,totalScore:ie.totalScore+Dt}})}const dn={round:g.currentRound,target:g.roundTarget,winner:Se?"Police":"Criminals",scores:Ct.map(yt=>({name:yt.name,role:yt.currentRole,score:yt.roundScore}))};await Xn(Tn(bn,"artifacts",Vn,"public","data","rooms",d),{players:Ct,turnState:"RESULT",lastRoundResult:xt,roundHistory:Oc(dn)})},be=async()=>{const it=g.players.map(at=>({...at,totalScore:0,currentRole:null,roundScore:0}));await Xn(Tn(bn,"artifacts",Vn,"public","data","rooms",d),{gameInstanceId:Date.now(),currentRound:0,status:"lobby",players:it,roundHistory:[],readyPlayers:[],gameReadyPlayers:[],turnState:"IDLE"})},ce=async()=>{const it=`bot-${Date.now()}`,at=g.players.map(xt=>xt.name),pt=EN.filter(xt=>!at.includes(xt)),Ct=pt.length>0?pt[0]:`Bot ${g.players.length+1}`;await Xn(Tn(bn,"artifacts",Vn,"public","data","rooms",d),{players:Oc({id:it,name:Ct,isBot:!0,totalScore:0,currentRole:null,roundScore:0})})};if(i==="menu")return w.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[w.jsx(Xd,{}),Z&&w.jsx(Ev,{onClose:()=>ft(!1)}),w.jsxs("div",{className:"z-10 mb-10 text-center animate-in fade-in zoom-in duration-700",children:[w.jsx(Pl,{size:64,className:"text-red-700 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(59,130,246,0.5)]"}),w.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-b from-red-700 to-blue-600 font-serif tracking-widest drop-shadow-md",children:"POLICE HUNT"}),w.jsx("p",{className:"text-slate-400 tracking-[0.3em] uppercase mt-2 font-bold",children:"The Heist"})]}),w.jsxs("div",{className:"max-w-md w-full bg-slate-800/90 backdrop-blur border border-slate-600 p-8 rounded-2xl shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[b&&w.jsx("div",{className:"bg-red-900/50 text-red-200 p-3 rounded mb-4 text-sm text-center border border-red-800",children:b}),w.jsx("input",{className:"w-full bg-slate-900 border border-slate-600 p-3 rounded mb-4 text-white placeholder-slate-500 focus:border-blue-500 outline-none transition-colors",placeholder:"Your Nickname",value:q,onChange:it=>tt(it.target.value)}),w.jsxs("button",{onClick:ct,disabled:M,className:"w-full bg-linear-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 p-4 rounded-xl font-bold mb-4 flex items-center justify-center gap-2 border border-yellow-500/30 shadow-[0_0_15px_rgba(234,179,8,0.2)] transition-all text-black",children:[w.jsx(Pl,{size:20})," Generate Crime Scene"]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[w.jsx("input",{className:"w-full sm:flex-1 bg-slate-900 border border-slate-600 p-3 rounded text-white placeholder-slate-500 uppercase font-mono tracking-wider focus:border-blue-500 outline-none",placeholder:"ROOM CODE",value:l,onChange:it=>c(it.target.value.toUpperCase())}),w.jsx("button",{onClick:Bt,disabled:M,className:"w-full sm:w-auto bg-blue-700 hover:bg-blue-600 border border-blue-500 px-6 py-3 rounded font-bold transition-colors shadow-lg",children:"Join"})]}),w.jsxs("button",{onClick:()=>ft(!0),className:"w-full mt-4 text-sm text-slate-400 hover:text-white flex items-center justify-center gap-2 py-2 transition-colors",children:[w.jsx(pv,{size:16})," Penal Codes"]})]}),w.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Chor, Dakaat, Babu, Police. A tribute game.",w.jsx("br",{}),"Developed by ",w.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",w.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-red-500 underline hover:text-red-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const it=g.hostId===r.uid;return w.jsxs("div",{className:"min-h-screen bg-slate-950 text-white p-4 flex flex-col items-center relative overflow-hidden",children:[w.jsx(Xd,{}),w.jsx(bN,{}),A&&w.jsx(vv,{onConfirmLeave:Gt,onConfirmLobby:()=>{et(),R(!1)},onCancel:()=>R(!1),isHost:it,inGame:!1}),w.jsxs("div",{className:"w-full max-w-lg z-10 bg-slate-800/90 p-8 rounded-2xl border border-slate-700 shadow-2xl mb-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-700 pb-4",children:[w.jsxs("h2",{className:"text-2xl font-bold font-serif text-blue-400",children:["Station:"," ",w.jsx("span",{className:"text-white font-mono",children:g.id})]}),w.jsx("button",{onClick:()=>R(!0),className:"bg-slate-700 p-2 rounded hover:bg-red-900/50 hover:text-red-400 transition-colors",title:"Leave Room",children:w.jsx(bm,{size:20})})]}),w.jsx("div",{className:"bg-slate-900/50 rounded-xl p-4 mb-6 border border-slate-700",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2 text-slate-400 font-bold uppercase text-xs tracking-wider",children:[w.jsx(aN,{size:16})," Rounds"]}),g.hostId===r.uid?w.jsxs("div",{className:"flex flex-col items-end",children:[w.jsx("input",{type:"number",className:"bg-slate-800 text-center w-20 p-2 rounded border border-slate-600 focus:border-yellow-500 outline-none font-bold",value:Yt,onChange:at=>ne(at.target.value),onBlur:st,min:"5",max:"200"}),Ot&&w.jsx("span",{className:"text-red-400 text-[10px] mt-1",children:Ot})]}):w.jsx("div",{className:"font-black text-2xl text-yellow-500",children:g.maxRounds})]})}),w.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 mb-6 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between mb-4 text-xs font-bold text-slate-500 uppercase",children:[w.jsx("span",{children:"Squad"}),w.jsxs("span",{children:[g.players.length," / 4"]})]}),g.players.map(at=>w.jsxs("div",{className:"flex items-center justify-between bg-slate-800 p-3 rounded mb-2 border border-slate-700",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${at.isBot?"bg-purple-600":"bg-slate-600"}`,children:at.isBot?w.jsx(Kd,{size:16}):w.jsx(FT,{size:16})}),w.jsxs("span",{className:at.id===r.uid?"text-yellow-400 font-bold":"text-white",children:[at.name," ",at.id===g.hostId&&""]})]}),g.hostId===r.uid&&at.id!==r.uid&&w.jsx("button",{onClick:()=>K(at.id),className:"p-2 hover:bg-red-900/50 rounded text-red-400 transition-colors",title:"Kick Player",children:w.jsx(mN,{size:16})})]},at.id))]}),g.hostId===r.uid?w.jsxs(w.Fragment,{children:[g.players.length<4&&w.jsxs("button",{onClick:ce,className:"w-full py-3 mb-4 rounded-xl border-2 border-dashed border-slate-600 text-slate-400 hover:bg-slate-800 flex items-center justify-center gap-2",children:[w.jsx(Kd,{size:18})," Add AI Bot"]}),w.jsxs("button",{onClick:St,disabled:g.players.length!==4||!!Ot,className:"w-full bg-green-600 hover:bg-green-500 disabled:opacity-50 disabled:cursor-not-allowed py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2",children:[w.jsx(nN,{size:20})," Start Game"]})]}):w.jsx("div",{className:"text-center text-slate-400 animate-pulse italic",children:"Waiting for Captain to start..."})]}),w.jsx(_v,{})]})}if(i==="game"&&g){const it=g.players.find(yt=>yt.id===r.uid);if(!it)return null;const at=g.players.find(yt=>yt.currentRole==="POLICE"),pt=it.currentRole==="POLICE",Ct=g.readyPlayers?.includes(r.uid),xt=g.players.filter(yt=>!yt.isBot).length,Se=g.readyPlayers?.length||0,dn=g.hostId===r.uid;return w.jsxs("div",{className:`min-h-screen bg-slate-950 text-white flex flex-col relative overflow-hidden transition-transform duration-100 font-sans ${le?"translate-x-1":""}`,children:[w.jsx(Xd,{}),le&&w.jsx("div",{className:"absolute inset-0 bg-red-500/20 z-40 pointer-events-none"}),V&&w.jsx(Tv,{type:"colorful"}),U&&w.jsx(Tv,{type:"gold"}),A&&w.jsx(vv,{onCancel:()=>R(!1),onConfirmLeave:Gt,onConfirmLobby:()=>{et(),R(!1)},isHost:dn,inGame:!0}),Z&&w.jsx(Ev,{onClose:()=>ft(!1)}),w.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md p-3 flex justify-between items-center shadow-lg z-10 border-b border-slate-700",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-slate-400 font-bold uppercase tracking-wide",children:"Round"}),w.jsxs("div",{className:"font-bold text-xl leading-none text-blue-400",children:[g.currentRound," ",w.jsxs("span",{className:"text-slate-500 text-sm",children:["/ ",g.maxRounds]})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>ft(!0),className:"bg-slate-700 p-2 rounded hover:bg-slate-600 text-slate-300",title:"Game Rules",children:w.jsx(pv,{size:20})}),w.jsx("button",{onClick:()=>nt(!0),className:"bg-slate-700 p-2 rounded hover:bg-slate-600 text-slate-300",title:"Scoreboard",children:w.jsx(Sm,{size:20})}),w.jsx("button",{onClick:()=>R(!0),className:"bg-slate-700 p-2 rounded hover:bg-red-900/50 hover:text-red-400 transition-colors text-slate-300",title:"Leave Game",children:w.jsx(bm,{size:20})})]})]}),w.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center justify-center gap-6 z-10",children:[w.jsx("div",{className:"text-center mb-4 w-full max-w-md",children:g.status==="finished"?w.jsx("div",{className:"text-3xl font-bold text-yellow-400 animate-bounce",children:"GAME OVER"}):g.turnState==="GUESSING"?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"text-slate-400 text-sm uppercase tracking-widest mb-1",children:"Mission"}),w.jsxs("div",{className:"text-2xl font-bold mb-2",children:["Find"," ",w.jsx("span",{className:g.roundTarget==="THIEF"?"text-red-300":"text-red-500",children:g.roundTarget})]}),w.jsx("div",{className:"text-sm bg-slate-800/80 p-2 rounded-lg border border-slate-700 animate-pulse text-blue-300 backdrop-blur-sm",children:pt?"Click a player to guess!":`${at?.name} is investigating...`})]}):w.jsxs("div",{className:"bg-slate-800/90 backdrop-blur px-6 py-4 rounded-xl border border-slate-600 shadow-xl w-full",children:[w.jsx("div",{className:"text-lg font-bold mb-1 text-center text-white",children:g.lastRoundResult}),g.status!=="finished"&&w.jsxs("div",{className:"mt-4",children:[w.jsx("button",{onClick:vt,disabled:Ct,className:`w-full py-3 rounded-lg font-bold transition-all ${Ct?"bg-slate-600 text-slate-400":"bg-green-600 hover:bg-green-500 text-white shadow-lg hover:scale-105"}`,children:Ct?"Waiting for others...":"Ready for Next Round"}),w.jsxs("div",{className:"text-xs text-center mt-2 text-slate-500",children:[Se,"/",xt," Players Ready"]})]})]})}),w.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md",children:g.players.map(yt=>{let ie=yt.currentRole,Dt=!0;(g.turnState==="RESULT"||g.status==="finished"||ie==="KING"||ie==="POLICE"||yt.id===r.uid)&&(Dt=!1);const Jt=ie?us[ie]:null,he=pt&&g.turnState==="GUESSING"&&Dt,di=yt.id===r.uid;return w.jsxs("div",{onClick:()=>he?Mt(yt.id):null,className:`
                                relative p-4 rounded-xl border-2 flex flex-col items-center justify-center aspect-3/4 transition-all backdrop-blur-sm
                                ${di?"bg-slate-800/90 shadow-[0_0_20px_rgba(6,182,212,0.4)] border-green-400 ring-2 ring-cyan-400/30 transform scale-105 z-10":"bg-slate-800/80 border-slate-700"}
                                ${he?"cursor-pointer hover:scale-105 border-red-400 bg-red-900/20 shadow-[0_0_15px_rgba(248,113,113,0.5)]":""}
                            `,children:[w.jsxs("div",{className:`font-bold text-sm mb-2 truncate w-full text-center flex items-center justify-center gap-1 ${di?"text-cyan-300":"text-white"}`,children:[yt.isBot&&w.jsx(Kd,{size:12,className:"text-purple-400"}),yt.name," ",di&&"(You)"]}),Dt?w.jsxs("div",{className:"flex-1 flex items-center justify-center",children:[w.jsx(QC,{size:48,className:"text-slate-600"}),w.jsx("div",{className:"absolute bottom-4 text-xs font-bold text-slate-500",children:"UNKNOWN"})]}):w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center animate-in fade-in zoom-in duration-300",children:[w.jsx(Jt.icon,{size:48,className:Jt.textColor}),w.jsx("div",{className:`mt-2 font-black uppercase ${Jt.textColor}`,children:Jt.name}),w.jsxs("div",{className:"text-xs text-slate-400",children:[Jt.points," pts"]})]}),g.turnState==="RESULT"&&w.jsx("div",{className:`absolute -top-2 -right-2 w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs border-2 border-slate-900 shadow-lg ${yt.roundScore>0?"bg-green-500":"bg-red-500"}`,children:yt.roundScore}),g.turnState==="RESULT"&&g.readyPlayers?.includes(yt.id)&&w.jsx("div",{className:"absolute bottom-2 right-2 text-green-500 bg-slate-900 rounded-full",children:w.jsx(GC,{size:16})})]},yt.id)})}),w.jsxs("div",{className:"mt-auto bg-slate-800/90 backdrop-blur w-full max-w-md p-4 rounded-xl border border-slate-700 flex justify-between items-center shadow-lg",children:[w.jsx("span",{className:"text-slate-400 text-sm font-bold uppercase",children:"My Score"}),w.jsx("span",{className:"text-3xl font-black text-yellow-500",children:it.totalScore})]})]}),J&&w.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-slate-800 w-full max-w-2xl max-h-[85vh] rounded-2xl flex flex-col border border-slate-700 shadow-2xl relative",children:[w.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center",children:[w.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[w.jsx(Sm,{className:"text-yellow-400"})," Scoreboard"]}),g.status!=="finished"&&w.jsx("button",{onClick:()=>nt(!1),children:w.jsx(QT,{})})]}),(()=>{const yt=[...g.players].sort((he,di)=>di.totalScore-he.totalScore),ie=yt[0]?.totalScore||0,Dt=yt.filter(he=>he.totalScore===ie),Jt=Dt.length>1;return w.jsxs(w.Fragment,{children:[g.status==="finished"&&w.jsxs("div",{className:"bg-linear-to-r from-yellow-600 to-yellow-800 p-4 text-center",children:[w.jsx("div",{className:"text-sm font-bold text-yellow-200 uppercase tracking-widest",children:Jt?"Champions":"Champion"}),w.jsx("div",{className:"text-3xl font-black text-white drop-shadow-md",children:Dt.map(he=>he.name).join(" & ")})]}),w.jsxs("div",{className:"p-4 bg-slate-900/50",children:[w.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs font-bold text-slate-500 uppercase mb-2 text-center",children:[w.jsx("div",{className:"text-left pl-2",children:"Player"}),w.jsx("div",{children:"Role"}),w.jsx("div",{children:"Last"}),w.jsx("div",{children:"Total"})]}),yt.map((he,di)=>{const _r=g.status==="finished"&&he.totalScore===ie;return w.jsxs("div",{className:`grid grid-cols-4 gap-2 p-3 rounded mb-1 items-center text-center ${_r?"bg-yellow-900/30 border border-yellow-500/50":"bg-slate-700"}`,children:[w.jsxs("div",{className:"text-left font-bold truncate flex items-center gap-1",children:[_r&&w.jsx(GT,{size:12,className:"text-yellow-400"})," ",he.name]}),w.jsx("div",{className:"text-xs opacity-70",children:he.currentRole?us[he.currentRole].name:"-"}),w.jsxs("div",{className:`font-bold ${he.roundScore>0?"text-green-400":"text-slate-500"}`,children:["+",he.roundScore]}),w.jsx("div",{className:"font-black text-yellow-400 text-lg",children:he.totalScore})]},he.id)})]})]})})(),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[w.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"History"}),[...g.roundHistory||[]].reverse().map((yt,ie)=>w.jsxs("div",{className:"mb-2 text-sm border-b border-slate-700 pb-2",children:[w.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[w.jsxs("span",{children:["Round ",yt.round,"  Hunted ",yt.target]}),w.jsxs("span",{className:yt.winner==="Police"?"text-blue-400":"text-red-400",children:[yt.winner," Won"]})]}),w.jsx("div",{className:"grid grid-cols-4 gap-1",children:yt.scores.map((Dt,Jt)=>w.jsxs("div",{className:"bg-slate-800 p-1 rounded text-center",children:[w.jsx("div",{className:"text-[10px] text-slate-500 truncate",children:Dt.name}),w.jsxs("div",{className:`font-bold text-xs ${Dt.score>0?"text-green-400":"text-slate-600"}`,children:["+",Dt.score]})]},Jt))})]},ie))]}),g.status==="finished"&&w.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-800 rounded-b-2xl",children:w.jsxs("div",{className:"flex flex-col gap-3",children:[g.hostId===r.uid?w.jsxs("button",{onClick:be,className:"w-full bg-green-600 hover:bg-green-500 py-3 rounded-xl font-bold flex items-center justify-center gap-2 text-lg shadow-lg",children:[w.jsx(sN,{})," Play Again"]}):w.jsx("div",{className:"text-center text-slate-400 italic",children:"Waiting for Host to restart..."}),w.jsx("button",{onClick:Gt,className:"w-full bg-slate-700 hover:bg-slate-600 py-3 rounded-xl font-bold text-white border border-slate-500",children:"Exit to Menu"})]})})]})}),w.jsx(_v,{})]})}return w.jsx("div",{className:"text-white text-center p-10",children:"Loading Game Resources..."})}Mb.createRoot(document.getElementById("root")).render(w.jsx(Kt.StrictMode,{children:w.jsx(SN,{})}));
