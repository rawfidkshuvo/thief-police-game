(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},_l={};var V_;function Ab(){if(V_)return _l;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var k_;function wb(){return k_||(k_=1,Id.exports=Ab()),Id.exports}var w=wb(),Nd={exports:{}},St={};var U_;function Rb(){if(U_)return St;U_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,Z={};function ft(O,K,et){this.props=O,this.context=K,this.refs=Z,this.updater=et||J}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function dt(O,K,et){this.props=O,this.context=K,this.refs=Z,this.updater=et||J}var Xt=dt.prototype=new Et;Xt.constructor=dt,nt(Xt,ft.prototype),Xt.isPureReactComponent=!0;var ne=Array.isArray;function Mt(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,K,et){var st=et.ref;return{$$typeof:r,type:O,key:K,ref:st!==void 0?st:null,props:et}}function V(O,K){return I(O.type,K,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return K[et]})}var R=/\/+/g;function le(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function Te(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Mt,Mt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,et,st,_t){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var Nt=!1;if(O===null)Nt=!0;else switch(wt){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(O.$$typeof){case r:case t:Nt=!0;break;case E:return Nt=O._init,G(Nt(O._payload),K,et,st,_t)}}if(Nt)return _t=_t(O),Nt=st===""?"."+le(O,0):st,ne(_t)?(et="",Nt!=null&&(et=Nt.replace(R,"$&/")+"/"),G(_t,K,et,"",function(Qi){return Qi})):_t!=null&&(x(_t)&&(_t=V(_t,et+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+Nt)),K.push(_t)),1;Nt=0;var be=st===""?".":st+":";if(ne(O))for(var ue=0;ue<O.length;ue++)st=O[ue],wt=be+le(st,ue),Nt+=G(st,K,et,wt,_t);else if(ue=q(O),typeof ue=="function")for(O=ue.call(O),ue=0;!(st=O.next()).done;)st=st.value,wt=be+le(st,ue++),Nt+=G(st,K,et,wt,_t);else if(wt==="object"){if(typeof O.then=="function")return G(Te(O),K,et,st,_t);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function tt(O,K,et){if(O==null)return O;var st=[],_t=0;return G(O,st,"","",function(wt){return K.call(et,wt,_t++)}),st}function ct(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var zt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:tt,forEach:function(O,K,et){tt(O,function(){K.apply(this,arguments)},et)},count:function(O){var K=0;return tt(O,function(){K++}),K},toArray:function(O){return tt(O,function(K){return K})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=A,St.Children=qt,St.Component=ft,St.Fragment=i,St.Profiler=l,St.PureComponent=dt,St.StrictMode=a,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,K,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=nt({},O.props),_t=O.key;if(K!=null)for(wt in K.key!==void 0&&(_t=""+K.key),K)!S.call(K,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&K.ref===void 0||(st[wt]=K[wt]);var wt=arguments.length-2;if(wt===1)st.children=et;else if(1<wt){for(var Nt=Array(wt),be=0;be<wt;be++)Nt[be]=arguments[be+2];st.children=Nt}return I(O.type,_t,st)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,K,et){var st,_t={},wt=null;if(K!=null)for(st in K.key!==void 0&&(wt=""+K.key),K)S.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=K[st]);var Nt=arguments.length-2;if(Nt===1)_t.children=et;else if(1<Nt){for(var be=Array(Nt),ue=0;ue<Nt;ue++)be[ue]=arguments[ue+2];_t.children=be}if(O&&O.defaultProps)for(st in Nt=O.defaultProps,Nt)_t[st]===void 0&&(_t[st]=Nt[st]);return I(O,wt,_t)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:p,render:O}},St.isValidElement=x,St.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ct}},St.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},St.startTransition=function(O){var K=N.T,et={};N.T=et;try{var st=O(),_t=N.S;_t!==null&&_t(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Mt,zt)}catch(wt){zt(wt)}finally{K!==null&&et.types!==null&&(K.types=et.types),N.T=K}},St.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},St.use=function(O){return N.H.use(O)},St.useActionState=function(O,K,et){return N.H.useActionState(O,K,et)},St.useCallback=function(O,K){return N.H.useCallback(O,K)},St.useContext=function(O){return N.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,K){return N.H.useDeferredValue(O,K)},St.useEffect=function(O,K){return N.H.useEffect(O,K)},St.useEffectEvent=function(O){return N.H.useEffectEvent(O)},St.useId=function(){return N.H.useId()},St.useImperativeHandle=function(O,K,et){return N.H.useImperativeHandle(O,K,et)},St.useInsertionEffect=function(O,K){return N.H.useInsertionEffect(O,K)},St.useLayoutEffect=function(O,K){return N.H.useLayoutEffect(O,K)},St.useMemo=function(O,K){return N.H.useMemo(O,K)},St.useOptimistic=function(O,K){return N.H.useOptimistic(O,K)},St.useReducer=function(O,K,et){return N.H.useReducer(O,K,et)},St.useRef=function(O){return N.H.useRef(O)},St.useState=function(O){return N.H.useState(O)},St.useSyncExternalStore=function(O,K,et){return N.H.useSyncExternalStore(O,K,et)},St.useTransition=function(){return N.H.useTransition()},St.version="19.2.0",St}var L_;function Am(){return L_||(L_=1,Nd.exports=Rb()),Nd.exports}var $t=Am(),xd={exports:{}},vl={},Dd={exports:{}},Od={};var P_;function Cb(){return P_||(P_=1,(function(r){function t(G,tt){var ct=G.length;G.push(tt);t:for(;0<ct;){var zt=ct-1>>>1,qt=G[zt];if(0<l(qt,tt))G[zt]=tt,G[ct]=qt,ct=zt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var tt=G[0],ct=G.pop();if(ct!==tt){G[0]=ct;t:for(var zt=0,qt=G.length,O=qt>>>1;zt<O;){var K=2*(zt+1)-1,et=G[K],st=K+1,_t=G[st];if(0>l(et,ct))st<qt&&0>l(_t,et)?(G[zt]=_t,G[st]=ct,zt=st):(G[zt]=et,G[K]=ct,zt=K);else if(st<qt&&0>l(_t,ct))G[zt]=_t,G[st]=ct,zt=st;else break t}}return tt}function l(G,tt){var ct=G.sortIndex-tt.sortIndex;return ct!==0?ct:G.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,A=null,M=3,q=!1,J=!1,nt=!1,Z=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Xt(G){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=G)a(_),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=i(_)}}function ne(G){if(nt=!1,Xt(G),!J)if(i(y)!==null)J=!0,Mt||(Mt=!0,U());else{var tt=i(_);tt!==null&&Te(ne,tt.startTime-G)}}var Mt=!1,N=-1,S=5,I=-1;function V(){return Z?!0:!(r.unstable_now()-I<S)}function x(){if(Z=!1,Mt){var G=r.unstable_now();I=G;var tt=!0;try{t:{J=!1,nt&&(nt=!1,Et(N),N=-1),q=!0;var ct=M;try{e:{for(Xt(G),A=i(y);A!==null&&!(A.expirationTime>G&&V());){var zt=A.callback;if(typeof zt=="function"){A.callback=null,M=A.priorityLevel;var qt=zt(A.expirationTime<=G);if(G=r.unstable_now(),typeof qt=="function"){A.callback=qt,Xt(G),tt=!0;break e}A===i(y)&&a(y),Xt(G)}else a(y);A=i(y)}if(A!==null)tt=!0;else{var O=i(_);O!==null&&Te(ne,O.startTime-G),tt=!1}}break t}finally{A=null,M=ct,q=!1}tt=void 0}}finally{tt?U():Mt=!1}}}var U;if(typeof dt=="function")U=function(){dt(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,le=R.port2;R.port1.onmessage=x,U=function(){le.postMessage(null)}}else U=function(){ft(x,0)};function Te(G,tt){N=ft(function(){G(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var tt=3;break;default:tt=M}var ct=M;M=tt;try{return G()}finally{M=ct}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=M;M=G;try{return tt()}finally{M=ct}},r.unstable_scheduleCallback=function(G,tt,ct){var zt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?zt+ct:zt):ct=zt,G){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ct+qt,G={id:E++,callback:tt,priorityLevel:G,startTime:ct,expirationTime:qt,sortIndex:-1},ct>zt?(G.sortIndex=ct,t(_,G),i(y)===null&&G===i(_)&&(nt?(Et(N),N=-1):nt=!0,Te(ne,ct-zt))):(G.sortIndex=qt,t(y,G),J||q||(J=!0,Mt||(Mt=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var tt=M;return function(){var ct=M;M=tt;try{return G.apply(this,arguments)}finally{M=ct}}}})(Od)),Od}var z_;function Ib(){return z_||(z_=1,Dd.exports=Cb()),Dd.exports}var Md={exports:{}},an={};var j_;function Nb(){if(j_)return an;j_=1;var r=Am();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},an.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},an.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},an.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},an.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:q}):E==="script"&&a.d.X(y,{crossOrigin:A,integrity:M,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},an.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},an.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},an.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},an.requestFormReset=function(y){a.d.r(y)},an.unstable_batchedUpdates=function(y,_){return y(_)},an.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.0",an}var B_;function xb(){if(B_)return Md.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=Nb(),Md.exports}var H_;function Db(){if(H_)return vl;H_=1;var r=Ib(),t=Am(),i=xb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Xt=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ft:return"Profiler";case Z:return"StrictMode";case ne:return"Suspense";case Mt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case dt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}var Te=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},zt=[],qt=-1;function O(e){return{current:e}}function K(e){0>qt||(e.current=zt[qt],zt[qt]=null,qt--)}function et(e,n){qt++,zt[qt]=e.current,e.current=n}var st=O(null),_t=O(null),wt=O(null),Nt=O(null);function be(e,n){switch(et(wt,n),et(_t,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?i_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=i_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),et(st,e)}function ue(){K(st),K(_t),K(wt)}function Qi(e){e.memoizedState!==null&&et(Nt,e);var n=st.current,s=s_(n,e.type);n!==s&&(et(_t,e),et(st,s))}function it(e){_t.current===e&&(K(st),K(_t)),Nt.current===e&&(K(Nt),ml._currentValue=ct)}var ot,mt;function Tt(e){if(ot===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ot=n&&n[1]||"",mt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+e+mt}var Gt=!1;function _e(e,n){if(!e||Gt)return"";Gt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),z=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Gt=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Tt(s):""}function Pn(e,n){switch(e.tag){case 26:case 27:case 5:return Tt(e.type);case 16:return Tt("Lazy");case 13:return e.child!==n&&n!==null?Tt("Suspense Fallback"):Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return _e(e.type,!1);case 11:return _e(e.type.render,!1);case 1:return _e(e.type,!0);case 31:return Tt("Activity");default:return""}}function ce(e){try{var n="",s=null;do n+=Pn(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var xt=Object.prototype.hasOwnProperty,Jt=r.unstable_scheduleCallback,jt=r.unstable_cancelCallback,Rn=r.unstable_shouldYield,rn=r.unstable_requestPaint,he=r.unstable_now,fe=r.unstable_getCurrentPriorityLevel,zn=r.unstable_ImmediatePriority,bs=r.unstable_UserBlockingPriority,Ss=r.unstable_NormalPriority,xh=r.unstable_LowPriority,Jl=r.unstable_IdlePriority,Wl=r.log,tu=r.unstable_setDisableYieldValue,ei=null,Xe=null;function jn(e){if(typeof Wl=="function"&&tu(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ei,e)}catch{}}var we=Math.clz32?Math.clz32:nu,eu=Math.log,aa=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/aa|0)|0}var pi=256,Tr=262144,xe=4194304;function yi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _i(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=yi(o):(g&=T,g!==0?h=yi(g):s||(s=T&~e,s!==0&&(h=yi(s))))):(T=o&~f,T!==0?h=yi(T):g!==0?h=yi(g):s||(s=o&~e,s!==0&&(h=yi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ni(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),e}function vi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function br(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-we(s),Y=1<<F;T[F]=0,C[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var H=j[F];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&Sr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Sr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-we(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function vo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-we(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Eo(e,n){var s=n&-n;return s=(s&42)!==0?1:Ar(s),(s&(e.suspendedLanes|n))!==0?0:s}function Ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function ii(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var si=Math.random().toString(36).slice(2),De="__reactFiber$"+si,Fe="__reactProps$"+si,Ei="__reactContainer$"+si,oa="__reactEvents$"+si,Mh="__reactListeners$"+si,ru="__reactHandles$"+si,au="__reactResources$"+si,Ti="__reactMarker$"+si;function la(e){delete e[De],delete e[Fe],delete e[oa],delete e[Mh],delete e[ru]}function bi(e){var n=e[De];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Ei]||s[De]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=h_(e);e!==null;){if(s=e[De])return s;e=h_(e)}return n}e=s,s=e.parentNode}return null}function Bn(e){if(e=e[De]||e[Ei]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Si(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Oe(e){e[Ti]=!0}var To=new Set,bo={};function Ai(e,n){wi(e,n),wi(e+"Capture",n)}function wi(e,n){for(bo[e]=n,e=0;e<n.length;e++)To.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},wo={};function ou(e){return xt.call(wo,e)?!0:xt.call(Ao,e)?!1:So.test(e)?wo[e]=!0:(Ao[e]=!0,!1)}function ua(e,n,s){if(ou(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function In(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Me(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function As(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=As(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function wr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=As(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function pn(e){return e.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ca(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Qe(n)):e.value!==""+Qe(n)&&(e.value=""+Qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Co(e,g,Qe(n)):s!=null?Co(e,g,Qe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Qe(T):e.removeAttribute("name")}function lu(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Wt(e);return}s=s!=null?""+Qe(s):"",n=n!=null?""+Qe(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Wt(e)}function Co(e,n,s){n==="number"&&Ri(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ws(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Qe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,s){if(n!=null&&(n=""+Qe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Qe(s):""}function Rs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Te(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Qe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Wt(e)}function yn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||cu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function No(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return Cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ri(){}var xo=null;function Hn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,Ci=null;function Cr(e){var n=Bn(e);if(n&&(e=n.stateNode)){var s=e[Fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ca(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Fe]||null;if(!h)throw Error(a(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&wr(o)}break t;case"textarea":uu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ws(e,!!s.multiple,n,!1)}}}var da=!1;function Ns(e,n,s){if(da)return e(n,s);da=!0;try{var o=e(n);return o}finally{if(da=!1,(Is!==null||Ci!==null)&&(sc(),Is&&(n=Is,e=Ci,Ci=Is=null,Cr(n),e)))for(n=0;n<e.length;n++)Cr(e[n])}}function ai(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Fe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(qn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Ir=!1}var Ii=null,Do=null,Nr=null;function Oo(){if(Nr)return Nr;var e,n=Do,s=n.length,o,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Nr=h.slice(e,1<o?1-o:void 0)}function xr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function oi(){return!1}function $e(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yi:oi,this.isPropagationStopped=oi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=$e(Xi),xs=A({},Xi,{view:0,detail:0}),Mo=$e(xs),Ds,ma,xi,ga=A({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(Ds=e.screenX-xi.screenX,ma=e.screenY-xi.screenY):ma=Ds=0,xi=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Vo=$e(ga),Dr=A({},ga,{dataTransfer:0}),fu=$e(Dr),du=A({},xs,{relatedTarget:0}),Or=$e(du),ko=A({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=$e(ko),pa=A({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=$e(pa),pu=A({},Xi,{data:0}),Di=$e(pu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function Os(){return Eu}var hn=A({},xs,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=xr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?xr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=$e(hn),bu=A({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=$e(bu),u=A({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=$e(u),v=A({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=$e(v),L=A({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=$e(L),W=A({},Xi,{newState:0,oldState:0}),Rt=$e(W),Re=[9,13,27,32],Kt=qn&&"CompositionEvent"in window,pe=null;qn&&"documentMode"in document&&(pe=document.documentMode);var Gn=qn&&"TextEvent"in window&&!pe,Oi=qn&&(!Kt||pe&&8<pe&&11>=pe),li=" ",ui=!1;function Mr(e,n){switch(e){case"keyup":return Re.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function YT(e,n){switch(e){case"compositionend":return ya(n);case"keypress":return n.which!==32?null:(ui=!0,li);case"textInput":return e=n.data,e===li&&ui?null:e;default:return null}}function XT(e,n){if(_a)return e==="compositionend"||!Kt&&Mr(e,n)?(e=Oo(),Nr=Do=Ii=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var $T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$T[e.type]:n==="textarea"}function gg(e,n,s,o){Is?Ci?Ci.push(o):Ci=[o]:Is=o,n=hc(n,"onChange"),0<n.length&&(s=new Ni("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Uo=null,Lo=null;function ZT(e){Zy(e,0)}function Su(e){var n=Cn(e);if(wr(n))return e}function pg(e,n){if(e==="change")return n}var yg=!1;if(qn){var Vh;if(qn){var kh="oninput"in document;if(!kh){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),kh=typeof _g.oninput=="function"}Vh=kh}else Vh=!1;yg=Vh&&(!document.documentMode||9<document.documentMode)}function vg(){Uo&&(Uo.detachEvent("onpropertychange",Eg),Lo=Uo=null)}function Eg(e){if(e.propertyName==="value"&&Su(Lo)){var n=[];gg(n,Lo,e,Hn(e)),Ns(ZT,n)}}function JT(e,n,s){e==="focusin"?(vg(),Uo=n,Lo=s,Uo.attachEvent("onpropertychange",Eg)):e==="focusout"&&vg()}function WT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Lo)}function t1(e,n){if(e==="click")return Su(n)}function e1(e,n){if(e==="input"||e==="change")return Su(n)}function n1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:n1;function Po(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!xt.call(n,h)||!Nn(e[h],n[h]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bg(e,n){var s=Tg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Tg(s)}}function Sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ri(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ri(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var i1=qn&&"documentMode"in document&&11>=document.documentMode,va=null,Lh=null,zo=null,Ph=!1;function wg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||va==null||va!==Ri(o)||(o=va,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=hc(Lh,"onSelect"),0<o.length&&(n=new Ni("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=va)))}function Vr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ea={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},zh={},Rg={};qn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function kr(e){if(zh[e])return zh[e];if(!Ea[e])return e;var n=Ea[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Rg)return zh[e]=n[s];return e}var Cg=kr("animationend"),Ig=kr("animationiteration"),Ng=kr("animationstart"),s1=kr("transitionrun"),r1=kr("transitionstart"),a1=kr("transitioncancel"),xg=kr("transitionend"),Dg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function ci(e,n){Dg.set(e,n),Ai(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fn=[],Ta=0,Bh=0;function wu(){for(var e=Ta,n=Bh=Ta=0;n<e;){var s=Fn[n];Fn[n++]=null;var o=Fn[n];Fn[n++]=null;var h=Fn[n];Fn[n++]=null;var f=Fn[n];if(Fn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Og(s,h,f)}}function Ru(e,n,s,o){Fn[Ta++]=e,Fn[Ta++]=n,Fn[Ta++]=s,Fn[Ta++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Hh(e,n,s,o){return Ru(e,n,s,o),Cu(e)}function Ur(e,n){return Ru(e,null,null,n),Cu(e)}function Og(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-we(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Cu(e){if(50<ol)throw ol=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ba={};function o1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,n,s,o){return new o1(e,n,s,o)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,n){var s=e.alternate;return s===null?(s=xn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Mg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")qh(e)&&(g=1);else if(typeof e=="string")g=fb(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=xn(31,s,n,h),e.elementType=I,e.lanes=f,e;case nt:return Lr(s.children,h,f,n);case Z:g=8,h|=24;break;case ft:return e=xn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case ne:return e=xn(13,s,n,h),e.elementType=ne,e.lanes=f,e;case Mt:return e=xn(19,s,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case Et:g=9;break t;case Xt:g=11;break t;case N:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=xn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Lr(e,n,s,o){return e=xn(7,e,o,n),e.lanes=s,e}function Gh(e,n,s){return e=xn(6,e,null,n),e.lanes=s,e}function Vg(e){var n=xn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=xn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kg=new WeakMap;function Qn(e,n){if(typeof e=="object"&&e!==null){var s=kg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ce(n)},kg.set(e,n),n)}return{value:e,source:n,stack:ce(n)}}var Sa=[],Aa=0,Nu=null,jo=0,Kn=[],Yn=0,Ms=null,Mi=1,Vi="";function Ji(e,n){Sa[Aa++]=jo,Sa[Aa++]=Nu,Nu=e,jo=n}function Ug(e,n,s){Kn[Yn++]=Mi,Kn[Yn++]=Vi,Kn[Yn++]=Ms,Ms=e;var o=Mi;e=Vi;var h=32-we(o)-1;o&=~(1<<h),s+=1;var f=32-we(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Mi=1<<32-we(n)+h|s<<h|o,Vi=f+e}else Mi=1<<f|s<<h|o,Vi=e}function Qh(e){e.return!==null&&(Ji(e,1),Ug(e,1,0))}function Kh(e){for(;e===Nu;)Nu=Sa[--Aa],Sa[Aa]=null,jo=Sa[--Aa],Sa[Aa]=null;for(;e===Ms;)Ms=Kn[--Yn],Kn[Yn]=null,Vi=Kn[--Yn],Kn[Yn]=null,Mi=Kn[--Yn],Kn[Yn]=null}function Lg(e,n){Kn[Yn++]=Mi,Kn[Yn++]=Vi,Kn[Yn++]=Ms,Mi=n.id,Vi=n.overflow,Ms=e}var Ze=null,de=null,Bt=!1,Vs=null,Xn=!1,Yh=Error(a(519));function ks(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Qn(n,e)),Yh}function Pg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[De]=e,n[Fe]=o,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)Ot(ul[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Rs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||e_(n.textContent,s)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=ri),n=!0):n=!1,n||ks(e,!0)}function zg(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ze=Ze.return}}function wa(e){if(e!==Ze)return!1;if(!Bt)return zg(e),Bt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&de&&ks(e),zg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=c_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=c_(e)}else n===27?(n=de,Xs(e.type)?(e=_d,_d=null,de=e):de=n):de=Ze?Zn(e.stateNode.nextSibling):null;return!0}function Pr(){de=Ze=null,Bt=!1}function Xh(){var e=Vs;return e!==null&&(Tn===null?Tn=e:Tn.push.apply(Tn,e),Vs=null),e}function Bo(e){Vs===null?Vs=[e]:Vs.push(e)}var $h=O(null),zr=null,Wi=null;function Us(e,n,s){et($h,n._currentValue),n._currentValue=s}function ts(e){e._currentValue=$h.current,K($h)}function Zh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Jh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Zh(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Zh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ra(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Nn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===Nt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&Jh(n,e,s,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){zr=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return jg(zr,e)}function Du(e,n){return zr===null&&jr(e),jg(e,n)}function jg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Wi===null){if(e===null)throw Error(a(308));Wi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wi=Wi.next=n;return s}var l1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},u1=r.unstable_scheduleCallback,c1=r.unstable_NormalPriority,Ve={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new l1,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&u1(c1,function(){e.controller.abort()})}var qo=null,tf=0,Ca=0,Ia=null;function h1(e,n){if(qo===null){var s=qo=[];tf=0,Ca=sd(),Ia={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,n.then(Bg,Bg),n}function Bg(){if(--tf===0&&qo!==null){Ia!==null&&(Ia.status="fulfilled");var e=qo;qo=null,Ca=0,Ia=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function f1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Hg=G.S;G.S=function(e,n){wy=he(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&h1(e,n),Hg!==null&&Hg(e,n)};var Br=O(null);function ef(){var e=Br.current;return e!==null?e:oe.pooledCache}function Ou(e,n){n===null?et(Br,Br.current):et(Br,n.pool)}function qg(){var e=ef();return e===null?null:{parent:Ve._currentValue,pool:e}}var Na=Error(a(460)),nf=Error(a(474)),Mu=Error(a(542)),Vu={then:function(){}};function Gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ri,ri),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e;default:if(typeof n.status=="string")n.then(ri,ri);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e}throw qr=n,Na}}function Hr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(qr=s,Na):s}}var qr=null;function Qg(){if(qr===null)throw Error(a(459));var e=qr;return qr=null,e}function Kg(e){if(e===Na||e===Mu)throw Error(a(483))}var xa=null,Go=0;function ku(e){var n=Go;return Go+=1,xa===null&&(xa=[]),Fg(xa,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Zi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,Q){return D===null||D.tag!==6?(D=Gh(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,Q){var ht=P.type;return ht===nt?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Hr(ht)===D.type)?(D=h(D,P.props),Fo(D,P),D.return=k,D):(D=Iu(P.type,P.key,P.props,null,k.mode,Q),Fo(D,P),D.return=k,D)}function z(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Fh(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,ht){return D===null||D.tag!==7?(D=Lr(P,k.mode,Q,ht),D.return=k,D):(D=h(D,P),D.return=k,D)}function Y(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Gh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return P=Iu(D.type,D.key,D.props,null,k.mode,P),Fo(P,D),P.return=k,P;case J:return D=Fh(D,k.mode,P),D.return=k,D;case S:return D=Hr(D),Y(k,D,P)}if(Te(D)||U(D))return D=Lr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Y(k,ku(D),P);if(D.$$typeof===dt)return Y(k,Du(k,D),P);Uu(k,D)}return null}function j(k,D,P,Q){var ht=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:T(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===ht?C(k,D,P,Q):null;case J:return P.key===ht?z(k,D,P,Q):null;case S:return P=Hr(P),j(k,D,P,Q)}if(Te(P)||U(P))return ht!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return j(k,D,ku(P),Q);if(P.$$typeof===dt)return j(k,D,Du(k,P),Q);Uu(k,P)}return null}function H(k,D,P,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,T(D,k,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return k=k.get(Q.key===null?P:Q.key)||null,C(D,k,Q,ht);case J:return k=k.get(Q.key===null?P:Q.key)||null,z(D,k,Q,ht);case S:return Q=Hr(Q),H(k,D,P,Q,ht)}if(Te(Q)||U(Q))return k=k.get(P)||null,F(D,k,Q,ht,null);if(typeof Q.then=="function")return H(k,D,P,ku(Q),ht);if(Q.$$typeof===dt)return H(k,D,P,Du(D,Q),ht);Uu(D,Q)}return null}function at(k,D,P,Q){for(var ht=null,Ft=null,lt=D,It=D=0,kt=null;lt!==null&&It<P.length;It++){lt.index>It?(kt=lt,lt=null):kt=lt.sibling;var Qt=j(k,lt,P[It],Q);if(Qt===null){lt===null&&(lt=kt);break}e&&lt&&Qt.alternate===null&&n(k,lt),D=f(Qt,D,It),Ft===null?ht=Qt:Ft.sibling=Qt,Ft=Qt,lt=kt}if(It===P.length)return s(k,lt),Bt&&Ji(k,It),ht;if(lt===null){for(;It<P.length;It++)lt=Y(k,P[It],Q),lt!==null&&(D=f(lt,D,It),Ft===null?ht=lt:Ft.sibling=lt,Ft=lt);return Bt&&Ji(k,It),ht}for(lt=o(lt);It<P.length;It++)kt=H(lt,k,It,P[It],Q),kt!==null&&(e&&kt.alternate!==null&&lt.delete(kt.key===null?It:kt.key),D=f(kt,D,It),Ft===null?ht=kt:Ft.sibling=kt,Ft=kt);return e&&lt.forEach(function(tr){return n(k,tr)}),Bt&&Ji(k,It),ht}function pt(k,D,P,Q){if(P==null)throw Error(a(151));for(var ht=null,Ft=null,lt=D,It=D=0,kt=null,Qt=P.next();lt!==null&&!Qt.done;It++,Qt=P.next()){lt.index>It?(kt=lt,lt=null):kt=lt.sibling;var tr=j(k,lt,Qt.value,Q);if(tr===null){lt===null&&(lt=kt);break}e&&lt&&tr.alternate===null&&n(k,lt),D=f(tr,D,It),Ft===null?ht=tr:Ft.sibling=tr,Ft=tr,lt=kt}if(Qt.done)return s(k,lt),Bt&&Ji(k,It),ht;if(lt===null){for(;!Qt.done;It++,Qt=P.next())Qt=Y(k,Qt.value,Q),Qt!==null&&(D=f(Qt,D,It),Ft===null?ht=Qt:Ft.sibling=Qt,Ft=Qt);return Bt&&Ji(k,It),ht}for(lt=o(lt);!Qt.done;It++,Qt=P.next())Qt=H(lt,k,It,Qt.value,Q),Qt!==null&&(e&&Qt.alternate!==null&&lt.delete(Qt.key===null?It:Qt.key),D=f(Qt,D,It),Ft===null?ht=Qt:Ft.sibling=Qt,Ft=Qt);return e&&lt.forEach(function(Sb){return n(k,Sb)}),Bt&&Ji(k,It),ht}function ae(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:t:{for(var ht=P.key;D!==null;){if(D.key===ht){if(ht=P.type,ht===nt){if(D.tag===7){s(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Hr(ht)===D.type){s(k,D.sibling),Q=h(D,P.props),Fo(Q,P),Q.return=k,k=Q;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===nt?(Q=Lr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Iu(P.type,P.key,P.props,null,k.mode,Q),Fo(Q,P),Q.return=k,k=Q)}return g(k);case J:t:{for(ht=P.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Fh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case S:return P=Hr(P),ae(k,D,P,Q)}if(Te(P))return at(k,D,P,Q);if(U(P)){if(ht=U(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),pt(k,D,P,Q)}if(typeof P.then=="function")return ae(k,D,ku(P),Q);if(P.$$typeof===dt)return ae(k,D,Du(k,P),Q);Uu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(s(k,D),Q=Gh(P,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,D)}return function(k,D,P,Q){try{Go=0;var ht=ae(k,D,P,Q);return xa=null,ht}catch(lt){if(lt===Na||lt===Mu)throw lt;var Ft=xn(29,lt,null,k.mode);return Ft.lanes=Q,Ft.return=k,Ft}finally{}}}var Gr=Yg(!0),Xg=Yg(!1),Ls=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),Og(e,null,s),n}return Ru(e,o,n,s),Cu(e)}function Qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}function af(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var of=!1;function Ko(){if(of){var e=Ia;if(e!==null)throw e}}function Yo(e,n,s,o){of=!1;var h=e.updateQueue;Ls=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=z:T.next=z,F.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,F=z=C=null,T=f;do{var j=T.lane&-536870913,H=j!==T.lane;if(H?(Vt&j)===j:(o&j)===j){j!==0&&j===Ca&&(of=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,pt=T;j=n;var ae=s;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){Y=at.call(ae,Y,j);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,j=typeof at=="function"?at.call(ae,Y,j):at,j==null)break t;Y=A({},Y,j);break t;case 2:Ls=!0}}j=T.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(z=F=H,C=Y):F=F.next=H,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Gs|=g,e.lanes=g,e.memoizedState=Y}}function $g(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Zg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)$g(s[e],n)}var Da=O(null),Lu=O(0);function Jg(e,n){e=us,et(Lu,e),et(Da,n),us=e|n.baseLanes}function lf(){et(Lu,us),et(Da,Da.current)}function uf(){us=Lu.current,K(Da),K(Lu)}var Dn=O(null),$n=null;function js(e){var n=e.alternate;et(Ce,Ce.current&1),et(Dn,e),$n===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&($n=e)}function cf(e){et(Ce,Ce.current),et(Dn,e),$n===null&&($n=e)}function Wg(e){e.tag===22?(et(Ce,Ce.current),et(Dn,e),$n===null&&($n=e)):Bs()}function Bs(){et(Ce,Ce.current),et(Dn,Dn.current)}function On(e){K(Dn),$n===e&&($n=null),K(Ce)}var Ce=O(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var es=0,Ct=null,se=null,ke=null,zu=!1,Oa=!1,Fr=!1,ju=0,Xo=0,Ma=null,d1=0;function Se(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Nn(e[s],n[s]))return!1;return!0}function ff(e,n,s,o,h,f){return es=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Up:Cf,Fr=!1,f=s(o,h),Fr=!1,Oa&&(f=ep(n,s,o,h)),tp(e),f}function tp(e){G.H=Jo;var n=se!==null&&se.next!==null;if(es=0,ke=se=Ct=null,zu=!1,Xo=0,Ma=null,n)throw Error(a(300));e===null||Ue||(e=e.dependencies,e!==null&&xu(e)&&(Ue=!0))}function ep(e,n,s,o){Ct=e;var h=0;do{if(Oa&&(Ma=null),Xo=0,Oa=!1,25<=h)throw Error(a(301));if(h+=1,ke=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Lp,f=n(s,o)}while(Oa);return f}function m1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(Ct.flags|=1024),n}function df(){var e=ju!==0;return ju=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}es=0,ke=se=Ct=null,Oa=!1,Xo=ju=0,Ma=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Ct.memoizedState=ke=e:ke=ke.next=e,ke}function Ie(){if(se===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=ke===null?Ct.memoizedState:ke.next;if(n!==null)ke=n,se=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ke===null?Ct.memoizedState=ke=e:ke=ke.next=e}return ke}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,Ma===null&&(Ma=[]),e=Fg(Ma,e,n),n=Ct,(ke===null?n.memoizedState:ke.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Up:Cf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===dt)return Je(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Bu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function ns(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=Ie();return yf(n,se,e)}function yf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,C=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Vt&Y)===Y:(es&Y)===Y){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ca&&(F=!0);else if((es&j)===j){z=z.next,j===Ca&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=Y,g=f):C=C.next=Y,Ct.lanes|=j,Gs|=j;Y=z.action,Fr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=j,g=f):C=C.next=j,Ct.lanes|=Y,Gs|=Y;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=T,!Nn(f,e.memoizedState)&&(Ue=!0,F&&(s=Ia,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=Ie(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Nn(f,n.memoizedState)||(Ue=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function np(e,n,s){var o=Ct,h=Ie(),f=Bt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Nn((se||h).memoizedState,s);if(g&&(h.memoizedState=s,Ue=!0),h=h.queue,Tf(rp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||ke!==null&&ke.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},sp.bind(null,o,h,s,n),null),oe===null)throw Error(a(349));f||(es&127)!==0||ip(o,n,s)}return s}function ip(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=Bu(),Ct.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function sp(e,n,s,o){n.value=s,n.getSnapshot=o,ap(n)&&op(e)}function rp(e,n,s){return s(function(){ap(n)&&op(e)})}function ap(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Nn(e,s)}catch{return!0}}function op(e){var n=Ur(e,2);n!==null&&bn(n,e,2)}function vf(e){var n=fn();if(typeof e=="function"){var s=e;if(e=s(),Fr){jn(!0);try{s()}finally{jn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},n}function lp(e,n,s,o){return e.baseState=s,yf(e,se,typeof o=="function"?o:ns)}function g1(e,n,s,o,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,up(n,f)):(f.next=s.next,n.pending=s.next=f)}}function up(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=s(h,o),C=G.S;C!==null&&C(g,T),cp(e,n,T)}catch(z){Ef(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),cp(e,n,f)}catch(z){Ef(e,n,z)}}function cp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){hp(e,n,o)},function(o){return Ef(e,n,o)}):hp(e,n,s)}function hp(e,n,s){n.status="fulfilled",n.value=s,fp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,up(e,s)))}function Ef(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,fp(n),n=n.next;while(n!==o)}e.action=null}function fp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dp(e,n){return n}function mp(e,n){if(Bt){var s=oe.formState;if(s!==null){t:{var o=Ct;if(Bt){if(de){e:{for(var h=de,f=Xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){de=Zn(h.nextSibling),o=h.data==="F!";break t}}ks(o)}o=!1}o&&(n=s[0])}}return s=fn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:n},s.queue=o,s=Mp.bind(null,Ct,o),o.dispatch=s,o=vf(!1),f=Rf.bind(null,Ct,!1,o.queue),o=fn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=g1.bind(null,Ct,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function gp(e){var n=Ie();return pp(n,se,e)}function pp(e,n,s){if(n=yf(e,n,dp)[0],e=qu(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===Na?Mu:g}else o=n;n=Ie();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,Va(9,{destroy:void 0},p1.bind(null,h,s),null)),[o,f,e]}function p1(e,n){e.action=n}function yp(e){var n=Ie(),s=se;if(s!==null)return pp(n,s,e);Ie(),n=n.memoizedState,s=Ie();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Va(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Bu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function _p(){return Ie().memoizedState}function Gu(e,n,s,o){var h=fn();Ct.flags|=e,h.memoizedState=Va(1|n,{destroy:void 0},s,o===void 0?null:o)}function Fu(e,n,s,o){var h=Ie();o=o===void 0?null:o;var f=h.memoizedState.inst;se!==null&&o!==null&&hf(o,se.memoizedState.deps)?h.memoizedState=Va(n,f,s,o):(Ct.flags|=e,h.memoizedState=Va(1|n,f,s,o))}function vp(e,n){Gu(8390656,8,e,n)}function Tf(e,n){Fu(2048,8,e,n)}function y1(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Bu(),Ct.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ep(e){var n=Ie().memoizedState;return y1({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tp(e,n){return Fu(4,2,e,n)}function bp(e,n){return Fu(4,4,e,n)}function Sp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,s){s=s!=null?s.concat([e]):null,Fu(4,4,Sp.bind(null,n,e),s)}function bf(){}function wp(e,n){var s=Ie();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Rp(e,n){var s=Ie();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),Fr){jn(!0);try{e()}finally{jn(!1)}}return s.memoizedState=[o,n],o}function Sf(e,n,s){return s===void 0||(es&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Cy(),Ct.lanes|=e,Gs|=e,s)}function Cp(e,n,s,o){return Nn(s,n)?s:Da.current!==null?(e=Sf(e,s,o),Nn(e,n)||(Ue=!0),e):(es&42)===0||(es&1073741824)!==0&&(Vt&261930)===0?(Ue=!0,e.memoizedState=s):(e=Cy(),Ct.lanes|=e,Gs|=e,n)}function Ip(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,Rf(e,!1,n,s);try{var C=h(),z=G.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=f1(C,o);Zo(e,n,F,kn(e))}else Zo(e,n,o,kn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},kn())}finally{tt.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function _1(){}function Af(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Np(e).queue;Ip(e,h,n,ct,s===null?_1:function(){return xp(e),s(o)})}function Np(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xp(e){var n=Np(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},kn())}function wf(){return Je(ml)}function Dp(){return Ie().memoizedState}function Op(){return Ie().memoizedState}function v1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=kn();e=Ps(s);var o=zs(n,e,s);o!==null&&(bn(o,n,s),Qo(o,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function E1(e,n,s){var o=kn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Vp(n,s):(s=Hh(e,n,s,o),s!==null&&(bn(s,e,o),kp(s,n,o)))}function Mp(e,n,s){var o=kn();Zo(e,n,s,o)}function Zo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,Nn(T,g))return Ru(e,n,h,0),oe===null&&wu(),!1}catch{}finally{}if(s=Hh(e,n,h,o),s!==null)return bn(s,e,o),kp(s,n,o),!0}return!1}function Rf(e,n,s,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=Hh(e,s,o,2),n!==null&&bn(n,e,2)}function Qu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Vp(e,n){Oa=zu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function kp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}var Jo={readContext:Je,use:Hu,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};Jo.useEffectEvent=Se;var Up={readContext:Je,use:Hu,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:Je,useEffect:vp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Gu(4194308,4,Sp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var s=fn();n=n===void 0?null:n;var o=e();if(Fr){jn(!0);try{e()}finally{jn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=fn();if(s!==void 0){var h=s(n);if(Fr){jn(!0);try{s(n)}finally{jn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=E1.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Mp.bind(null,Ct,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,n){var s=fn();return Sf(s,e,n)},useTransition:function(){var e=vf(!1);return e=Ip.bind(null,Ct,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Ct,h=fn();if(Bt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),oe===null)throw Error(a(349));(Vt&127)!==0||ip(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,vp(rp.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},sp.bind(null,o,f,s,n),null),s},useId:function(){var e=fn(),n=oe.identifierPrefix;if(Bt){var s=Vi,o=Mi;s=(o&~(1<<32-we(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ju++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=d1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:mp,useActionState:mp,useOptimistic:function(e){var n=fn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,Ct,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return fn().memoizedState=v1.bind(null,Ct)},useEffectEvent:function(e){var n=fn(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Je,use:Hu,useCallback:wp,useContext:Je,useEffect:Tf,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:qu,useRef:_p,useState:function(){return qu(ns)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Ie();return Cp(s,se.memoizedState,e,n)},useTransition:function(){var e=qu(ns)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:wf,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var s=Ie();return lp(s,se,e,n)},useMemoCache:pf,useCacheRefresh:Op};Cf.useEffectEvent=Ep;var Lp={readContext:Je,use:Hu,useCallback:wp,useContext:Je,useEffect:Tf,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:_f,useRef:_p,useState:function(){return _f(ns)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Ie();return se===null?Sf(s,e,n):Cp(s,se.memoizedState,e,n)},useTransition:function(){var e=_f(ns)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:wf,useFormState:yp,useActionState:yp,useOptimistic:function(e,n){var s=Ie();return se!==null?lp(s,se,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Op};Lp.useEffectEvent=Ep;function If(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Nf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=kn(),h=Ps(o);h.payload=n,s!=null&&(h.callback=s),n=zs(e,h,o),n!==null&&(bn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=kn(),h=Ps(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=zs(e,h,o),n!==null&&(bn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=kn(),o=Ps(s);o.tag=2,n!=null&&(o.callback=n),n=zs(e,o,s),n!==null&&(bn(n,e,s),Qo(n,e,s))}};function Pp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Po(s,o)||!Po(h,f):!0}function zp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function Qr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function jp(e){Au(e)}function Bp(e){console.error(e)}function Hp(e){Au(e)}function Ku(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,s){return s=Ps(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(e,n)},s}function Gp(e){return e=Ps(e),e.tag=3,e}function Fp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){qp(n,s,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function T1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ra(n,s,h,!0),s=Dn.current,s!==null){switch(s.tag){case 31:case 13:return $n===null?rc():s.alternate===null&&Ae===0&&(Ae=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return s.flags|=65536,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(e,o,h)),!1}throw Error(a(435,s.tag))}return ed(e,o,h),rc(),!1}if(Bt)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),Bo(Qn(e,s)))):(o!==Yh&&(n=Error(a(423),{cause:o}),Bo(Qn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Qn(o,s),h=xf(e.stateNode,o,h),af(e,h),Ae!==4&&(Ae=2)),!1;var f=Error(a(520),{cause:o});if(f=Qn(f,s),al===null?al=[f]:al.push(f),Ae!==4&&(Ae=2),n===null)return!0;o=Qn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=xf(s.stateNode,o,e),af(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gp(h),Fp(h,e,s,o),af(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),Ue=!1;function We(e,n,s,o){n.child=e===null?Xg(n,null,s,o):Gr(n,e.child,s,o)}function Qp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return jr(n),o=ff(e,n,s,g,f,h),T=df(),e!==null&&!Ue?(mf(e,n,h),is(e,n,h)):(Bt&&T&&Qh(n),n.flags|=1,We(e,n,o,h),n.child)}function Kp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yp(e,n,f,o,h)):(e=Iu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(g,o)&&e.ref===n.ref)return is(e,n,h)}return n.flags|=1,e=Zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Yp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(Ue=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(Ue=!0);else return n.lanes=e.lanes,is(e,n,h)}return Of(e,n,s,o,h)}function Xp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return $p(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Jg(n,f):lf(),Wg(n);else return o=n.lanes=536870912,$p(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),Jg(n,f),Bs(),n.memoizedState=null):(e!==null&&Ou(n,null),lf(),Bs());return We(e,n,h,s),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $p(e,n,s,o,h){var f=ef();return f=f===null?null:{parent:Ve._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),lf(),Wg(n),e!==null&&Ra(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Zp(e,n,s){return Gr(n,e.child,null,s),e=Yu(n,n.pendingProps),e.flags|=2,On(n),n.memoizedState=null,e}function b1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,Wo(null,e);if(cf(n),(e=de)?(e=u_(e,Xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Ze=n,de=null)):e=null,e===null)throw ks(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Zp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ue||Ra(e,n,s,!1),h=(s&e.childLanes)!==0,Ue||h){if(o=oe,o!==null&&(g=Eo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ur(e,g),bn(o,e,g),Df;rc(),n=Zp(e,n,s)}else e=f.treeContext,de=Zn(g.nextSibling),Ze=n,Bt=!0,Vs=null,Xn=!1,e!==null&&Lg(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=Zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Of(e,n,s,o,h){return jr(n),s=ff(e,n,s,o,void 0,h),o=df(),e!==null&&!Ue?(mf(e,n,h),is(e,n,h)):(Bt&&o&&Qh(n),n.flags|=1,We(e,n,s,h),n.child)}function Jp(e,n,s,o,h,f){return jr(n),n.updateQueue=null,s=ep(n,o,s,h),tp(e),o=df(),e!==null&&!Ue?(mf(e,n,f),is(e,n,f)):(Bt&&o&&Qh(n),n.flags|=1,We(e,n,s,f),n.child)}function Wp(e,n,s,o,h){if(jr(n),n.stateNode===null){var f=ba,g=s.contextType;typeof g=="object"&&g!==null&&(f=Je(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Je(g):ba,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(If(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,C=Qr(s,T);f.props=C;var z=f.context,F=s.contextType;g=ba,typeof F=="object"&&F!==null&&(g=Je(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==g)&&zp(n,f,o,g),Ls=!1;var j=n.memoizedState;f.state=j,Yo(n,o,f,h),Ko(),z=n.memoizedState,T||j!==z||Ls?(typeof Y=="function"&&(If(n,s,Y,o),z=n.memoizedState),(C=Ls||Pp(n,s,C,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,F=Qr(s,g),f.props=F,Y=n.pendingProps,j=f.context,z=s.contextType,C=ba,typeof z=="object"&&z!==null&&(C=Je(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==C)&&zp(n,f,o,C),Ls=!1,j=n.memoizedState,f.state=j,Yo(n,o,f,h),Ko();var H=n.memoizedState;g!==Y||j!==H||Ls||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof T=="function"&&(If(n,s,T,o),H=n.memoizedState),(F=Ls||Pp(n,s,F,o,j,H,C)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Gr(n,e.child,null,h),n.child=Gr(n,null,s,h)):We(e,n,s,h),n.memoizedState=f.state,e=n.child):e=is(e,n,h),e}function ty(e,n,s,o){return Pr(),n.flags|=256,We(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:qg()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Vn),e}function ey(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?js(n):Bs(),(e=de)?(e=u_(e,Xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Ze=n,de=null)):e=null,e===null)throw ks(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Bs(),h=n.mode,T=$u({mode:"hidden",children:T},h),o=Lr(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,Wo(null,o)):(js(n),Uf(n,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(js(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(Bs(),n.child=e.child,n.flags|=128,n=null):(Bs(),T=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),T=Lr(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Gr(n,e.child,null,s),o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,n=Wo(null,o));else if(js(n),yd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=Lf(e,n,s)}else if(Ue||Ra(e,n,s,!1),g=(s&e.childLanes)!==0,Ue||g){if(g=oe,g!==null&&(o=Eo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ur(e,o),bn(g,e,o),Df;pd(T)||rc(),n=Lf(e,n,s)}else pd(T)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,de=Zn(T.nextSibling),Ze=n,Bt=!0,Vs=null,Xn=!1,e!==null&&Lg(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(Bs(),T=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=Zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=Zi(z,T):(T=Lr(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Wo(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Vf(s):(h=T.cachePool,h!==null?(C=Ve._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=qg(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=kf(e,g,s),n.memoizedState=Mf,Wo(e.child,o)):(js(n),s=e.child,e=s.sibling,s=Zi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=xn(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return Gr(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ny(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,s)}function Pf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function iy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ce.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,et(Ce,g),We(e,n,o,s),o=Bt?jo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,s,n);else if(e.tag===19)ny(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Pu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Gs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ra(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Zi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Zi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function S1(e,n,s){switch(n.tag){case 3:be(n,n.stateNode.containerInfo),Us(n,Ve,e.memoizedState.cache),Pr();break;case 27:case 5:Qi(n);break;case 4:be(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(js(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ey(e,n,s):(js(n),e=is(e,n,s),e!==null?e.sibling:null);js(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ra(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return iy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ce,Ce.current),o)break;return null;case 22:return n.lanes=0,Xp(e,n,s,n.pendingProps);case 24:Us(n,Ve,e.memoizedState.cache)}return is(e,n,s)}function sy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ue=!0;else{if(!zf(e,s)&&(n.flags&128)===0)return Ue=!1,S1(e,n,s);Ue=(e.flags&131072)!==0}else Ue=!1,Bt&&(n.flags&1048576)!==0&&Ug(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Hr(n.elementType),n.type=e,typeof e=="function")qh(e)?(o=Qr(e,o),n.tag=1,n=Wp(null,n,e,o,s)):(n.tag=0,n=Of(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Xt){n.tag=11,n=Qp(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=Kp(null,n,e,o,s);break t}}throw n=le(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Qr(o,n.pendingProps),Wp(e,n,o,h,s);case 3:t:{if(be(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Yo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Us(n,Ve,o),o!==f.cache&&Jh(n,[Ve],s,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ty(e,n,o,s);break t}else if(o!==h){h=Qn(Error(a(424)),n),Bo(h),n=ty(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=Zn(e.firstChild),Ze=n,Bt=!0,Vs=null,Xn=!0,s=Xg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Pr(),o===h){n=is(e,n,s);break t}We(e,n,o,s)}n=n.child}return n;case 26:return Xu(e,n),e===null?(s=g_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,e=n.pendingProps,o=fc(wt.current).createElement(s),o[De]=n,o[Fe]=e,tn(o,s,e),Oe(o),n.stateNode=o):n.memoizedState=g_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qi(n),e===null&&Bt&&(o=n.stateNode=f_(n.type,n.pendingProps,wt.current),Ze=n,Xn=!0,h=de,Xs(n.type)?(_d=h,de=Zn(o.firstChild)):de=h),We(e,n,n.pendingProps.children,s),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=de)&&(o=W1(o,n.type,n.pendingProps,Xn),o!==null?(n.stateNode=o,Ze=n,de=Zn(o.firstChild),Xn=!1,h=!0):h=!1),h||ks(n)),Qi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,m1,null,null,s),ml._currentValue=h),Xu(e,n),We(e,n,o,s),n.child;case 6:return e===null&&Bt&&((e=s=de)&&(s=tb(s,n.pendingProps,Xn),s!==null?(n.stateNode=s,Ze=n,de=null,e=!0):e=!1),e||ks(n)),null;case 13:return ey(e,n,s);case 4:return be(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Gr(n,null,o,s):We(e,n,o,s),n.child;case 11:return Qp(e,n,n.type,n.pendingProps,s);case 7:return We(e,n,n.pendingProps,s),n.child;case 8:return We(e,n,n.pendingProps.children,s),n.child;case 12:return We(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Us(n,n.type,o.value),We(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=Je(h),o=o(h),n.flags|=1,We(e,n,o,s),n.child;case 14:return Kp(e,n,n.type,n.pendingProps,s);case 15:return Yp(e,n,n.type,n.pendingProps,s);case 19:return iy(e,n,s);case 31:return b1(e,n,s);case 22:return Xp(e,n,s,n.pendingProps);case 24:return jr(n),o=Je(Ve),e===null?(h=ef(),h===null&&(h=oe,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},sf(n),Us(n,Ve,h)):((e.lanes&s)!==0&&(rf(e,n),Yo(n,null,null,s),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,Ve,o)):(o=f.cache,Us(n,Ve,o),o!==h.cache&&Jh(n,[Ve],s,!0))),We(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ss(e){e.flags|=4}function jf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw qr=Vu,nf}else e.flags&=-16777217}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E_(n))if(Dy())e.flags|=8192;else throw qr=Vu,nf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Pa|=n)}function tl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function me(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function A1(e,n,s){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(n),null;case 1:return me(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ts(Ve),ue(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(wa(n)?ss(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),me(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ss(n),f!==null?(me(n),ry(n,f)):(me(n),jf(n,h,null,o,s))):f?f!==e.memoizedState?(ss(n),me(n),ry(n,f)):(me(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ss(n),me(n),jf(n,h,e,o,s)),null;case 27:if(it(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return me(n),null}e=st.current,wa(n)?Pg(n):(e=f_(h,o,s),n.stateNode=e,ss(n))}return me(n),null;case 5:if(it(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return me(n),null}if(f=st.current,wa(n))Pg(n);else{var g=fc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[De]=n,f[Fe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(tn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ss(n)}}return me(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,wa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[De]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||e_(e.nodeValue,s)),e||ks(n,!0)}else e=fc(e).createTextNode(o),e[De]=n,n.stateNode=e}return me(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=wa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[De]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(a(558))}return me(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[De]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),me(n),null);case 4:return ue(),e===null&&ld(n.stateNode.containerInfo),me(n),null;case 10:return ts(n.type),me(n),null;case 19:if(K(Ce),o=n.memoizedState,o===null)return me(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(Ae!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Mg(s,e),s=s.sibling;return et(Ce,Ce.current&1|2),Bt&&Ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&he()>nc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return me(n),null}else 2*he()-o.renderingStartTime>nc&&s!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=he(),e.sibling=null,s=Ce.current,et(Ce,h?s&1|2:s&1),Bt&&Ji(n,o.treeForkCount),e):(me(n),null);case 22:case 23:return On(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(me(n),n.subtreeFlags&6&&(n.flags|=8192)):me(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Br),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ts(Ve),me(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function w1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ts(Ve),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return it(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(On(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Ce),null;case 4:return ue(),null;case 10:return ts(n.type),null;case 22:case 23:return On(n),uf(),e!==null&&K(Br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ts(Ve),null;case 25:return null;default:return null}}function ay(e,n){switch(Kh(n),n.tag){case 3:ts(Ve),ue();break;case 26:case 27:case 5:it(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:K(Ce);break;case 10:ts(n.type);break;case 22:case 23:On(n),uf(),e!==null&&K(Br);break;case 24:ts(Ve)}}function el(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){ee(n,n.return,T)}}function Hs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=s,z=T;try{z()}catch(F){ee(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){ee(n,n.return,F)}}function oy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Zg(n,s)}catch(o){ee(e,e.return,o)}}}function ly(e,n,s){s.props=Qr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ee(e,n,o)}}function nl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){ee(e,n,h)}}function ki(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ee(e,n,h)}else s.current=null}function uy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ee(e,e.return,h)}}function Bf(e,n,s){try{var o=e.stateNode;K1(o,e.type,s,n),o[Fe]=n}catch(h){ee(e,e.return,h)}}function cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xs(e.type)||e.tag===4}function Hf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ri));else if(o!==4&&(o===27&&Xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function Ju(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ju(e,n,s),e=e.sibling;e!==null;)Ju(e,n,s),e=e.sibling}function hy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,o,s),n[De]=e,n[Fe]=s}catch(f){ee(e,e.return,f)}}var rs=!1,Le=!1,Gf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function R1(e,n){if(e=e.containerInfo,hd=vc,e=Ag(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,C=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(T=g+h),Y!==f||o!==0&&Y.nodeType!==3||(C=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(T=g),j===f&&++F===o&&(C=g),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},vc=!1,Ke=n;Ke!==null;)if(n=Ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ke=e;else for(;Ke!==null;){switch(n=Ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Qr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){ee(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ke=e;break}Ke=n.return}}function dy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:os(e,s),o&4&&el(5,s);break;case 1:if(os(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){ee(s,s.return,g)}else{var h=Qr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ee(s,s.return,g)}}o&64&&oy(s),o&512&&nl(s,s.return);break;case 3:if(os(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Zg(e,n)}catch(g){ee(s,s.return,g)}}break;case 27:n===null&&o&4&&hy(s);case 26:case 5:os(e,s),n===null&&o&4&&uy(s),o&512&&nl(s,s.return);break;case 12:os(e,s);break;case 31:os(e,s),o&4&&py(e,s);break;case 13:os(e,s),o&4&&yy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=k1.bind(null,s),eb(e,s))));break;case 22:if(o=s.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||Le,h=rs;var f=Le;rs=o,(Le=n)&&!f?ls(e,s,(s.subtreeFlags&8772)!==0):os(e,s),rs=h,Le=f}break;case 30:break;default:os(e,s)}}function my(e){var n=e.alternate;n!==null&&(e.alternate=null,my(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&la(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,_n=!1;function as(e,n,s){for(s=s.child;s!==null;)gy(e,n,s),s=s.sibling}function gy(e,n,s){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ei,s)}catch{}switch(s.tag){case 26:Le||ki(s,n),as(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Le||ki(s,n);var o=ye,h=_n;Xs(s.type)&&(ye=s.stateNode,_n=!1),as(e,n,s),hl(s.stateNode),ye=o,_n=h;break;case 5:Le||ki(s,n);case 6:if(o=ye,h=_n,ye=null,as(e,n,s),ye=o,_n=h,ye!==null)if(_n)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(s.stateNode)}catch(f){ee(s,n,f)}else try{ye.removeChild(s.stateNode)}catch(f){ee(s,n,f)}break;case 18:ye!==null&&(_n?(e=ye,o_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Qa(e)):o_(ye,s.stateNode));break;case 4:o=ye,h=_n,ye=s.stateNode.containerInfo,_n=!0,as(e,n,s),ye=o,_n=h;break;case 0:case 11:case 14:case 15:Hs(2,s,n),Le||Hs(4,s,n),as(e,n,s);break;case 1:Le||(ki(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ly(s,n,o)),as(e,n,s);break;case 21:as(e,n,s);break;case 22:Le=(o=Le)||s.memoizedState!==null,as(e,n,s),Le=o;break;default:as(e,n,s)}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(s){ee(n,n.return,s)}}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(s){ee(n,n.return,s)}}function C1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fy),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var s=C1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=U1.bind(null,e,o);o.then(h,h)}})}function vn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Xs(T.type)){ye=T.stateNode,_n=!1;break t}break;case 5:ye=T.stateNode,_n=!1;break t;case 3:case 4:ye=T.stateNode.containerInfo,_n=!0;break t}T=T.return}if(ye===null)throw Error(a(160));gy(f,g,h),ye=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,e),n=n.sibling}var hi=null;function _y(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vn(n,e),En(e),o&4&&(Hs(3,e,e.return),el(3,e),Hs(5,e,e.return));break;case 1:vn(n,e),En(e),o&512&&(Le||s===null||ki(s,s.return)),o&64&&rs&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=hi;if(vn(n,e),En(e),o&512&&(Le||s===null||ki(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,o,s),f[De]=e,Oe(f),o=f;break t;case"link":var g=__("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),tn(f,o,s),h.head.appendChild(f);break;case"meta":if(g=__("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),tn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[De]=e,Oe(f),o=f}e.stateNode=o}else v_(h,e.type,e.stateNode);else e.stateNode=y_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?v_(h,e.type,e.stateNode):y_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:vn(n,e),En(e),o&512&&(Le||s===null||ki(s,s.return)),s!==null&&o&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(vn(n,e),En(e),o&512&&(Le||s===null||ki(s,s.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(at){ee(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(vn(n,e),En(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){ee(e,e.return,at)}}break;case 3:if(gc=null,h=hi,hi=dc(n.containerInfo),vn(n,e),hi=h,En(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(at){ee(e,e.return,at)}Gf&&(Gf=!1,vy(e));break;case 4:o=hi,hi=dc(e.stateNode.containerInfo),vn(n,e),En(e),hi=o;break;case 12:vn(n,e),En(e);break;case 31:vn(n,e),En(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:vn(n,e),En(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ec=he()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=rs,F=Le;if(rs=z||h,Le=F||C,vn(n,e),Le=F,rs=z,En(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||rs||Le||Kr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){ee(C,C.return,at)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(at){ee(C,C.return,at)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?l_(H,!0):l_(C.stateNode,!1)}catch(at){ee(C,C.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Wu(e,s))));break;case 19:vn(n,e),En(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:vn(n,e),En(e)}}function En(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(cy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(e);Ju(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(yn(g,""),s.flags&=-33);var T=Hf(e);Ju(e,T,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Hf(e);qf(e,z,C);break;default:throw Error(a(161))}}catch(F){ee(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function os(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(e,n.alternate,n),n=n.sibling}function Kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Hs(4,n,n.return),Kr(n);break;case 1:ki(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),Kr(n);break;case 27:hl(n.stateNode);case 26:case 5:ki(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}e=e.sibling}}function ls(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,s),el(4,f);break;case 1:if(ls(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ee(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)$g(C[h],T)}catch(z){ee(o,o.return,z)}}s&&g&64&&oy(f),nl(f,f.return);break;case 27:hy(f);case 26:case 5:ls(h,f,s),s&&o===null&&g&4&&uy(f),nl(f,f.return);break;case 12:ls(h,f,s);break;case 31:ls(h,f,s),s&&g&4&&py(h,f);break;case 13:ls(h,f,s),s&&g&4&&yy(h,f);break;case 22:f.memoizedState===null&&ls(h,f,s),nl(f,f.return);break;case 30:break;default:ls(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ho(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function fi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(e,n,s,o),n=n.sibling}function Ey(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:fi(e,n,s,o),h&2048&&el(9,n);break;case 1:fi(e,n,s,o);break;case 3:fi(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){fi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ee(n,n.return,C)}}else fi(e,n,s,o);break;case 31:fi(e,n,s,o);break;case 13:fi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?fi(e,n,s,o):il(e,n):f._visibility&2?fi(e,n,s,o):(f._visibility|=2,ka(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:fi(e,n,s,o),h&2048&&Qf(n.alternate,n);break;default:fi(e,n,s,o)}}function ka(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,C=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,T,C,h),el(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?ka(f,g,T,C,h):il(f,g):(F._visibility|=2,ka(f,g,T,C,h)),h&&z&2048&&Ff(g.alternate,g);break;case 24:ka(f,g,T,C,h),h&&z&2048&&Qf(g.alternate,g);break;default:ka(f,g,T,C,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:il(s,o),h&2048&&Ff(o.alternate,o);break;case 24:il(s,o),h&2048&&Qf(o.alternate,o);break;default:il(s,o)}n=n.sibling}}var sl=8192;function Ua(e,n,s){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)Ty(e,n,s),e=e.sibling}function Ty(e,n,s){switch(e.tag){case 26:Ua(e,n,s),e.flags&sl&&e.memoizedState!==null&&db(s,hi,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,n,s);break;case 3:case 4:var o=hi;hi=dc(e.stateNode.containerInfo),Ua(e,n,s),hi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Ua(e,n,s),sl=o):Ua(e,n,s));break;default:Ua(e,n,s)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ke=o,Ay(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Hs(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):rl(e);break;default:rl(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ke=o,Ay(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Hs(8,n,n.return),tc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Ay(e,n){for(;Ke!==null;){var s=Ke;switch(s.tag){case 0:case 11:case 15:Hs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ke=o;else t:for(s=e;Ke!==null;){o=Ke;var h=o.sibling,f=o.return;if(my(o),o===s){Ke=null;break t}if(h!==null){h.return=f,Ke=h;break t}Ke=f}}}var I1={getCacheForType:function(e){var n=Je(Ve),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Je(Ve).controller.signal}},N1=typeof WeakMap=="function"?WeakMap:Map,Yt=0,oe=null,Dt=null,Vt=0,te=0,Mn=null,qs=!1,La=!1,Kf=!1,us=0,Ae=0,Gs=0,Yr=0,Yf=0,Vn=0,Pa=0,al=null,Tn=null,Xf=!1,ec=0,wy=0,nc=1/0,ic=null,Fs=null,Be=0,Qs=null,za=null,cs=0,$f=0,Zf=null,Ry=null,ol=0,Jf=null;function kn(){return(Yt&2)!==0&&Vt!==0?Vt&-Vt:G.T!==null?sd():su()}function Cy(){if(Vn===0)if((Vt&536870912)===0||Bt){var e=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Vn=e}else Vn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),Vn}function bn(e,n,s){(e===oe&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(ja(e,0),Ks(e,Vt,Vn,!1)),br(e,s),((Yt&2)===0||e!==oe)&&(e===oe&&((Yt&2)===0&&(Yr|=s),Ae===4&&Ks(e,Vt,Vn,!1)),Ui(e))}function Iy(e,n,s){if((Yt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||ni(e,n),h=o?O1(e,n):td(e,n,!0),f=o;do{if(h===0){La&&!o&&Ks(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!x1(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=al;var C=T.current.memoizedState.isDehydrated;if(C&&(ja(T,g).flags|=256),g=td(T,g,!1),g!==2){if(Kf&&!C){T.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break t}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ja(e,0),Ks(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ks(o,n,Vn,!qs);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-he(),10<h)){if(Ks(o,n,Vn,!qs),_i(o,0,!0)!==0)break t;cs=n,o.timeoutHandle=r_(Ny.bind(null,o,s,Tn,ic,Xf,n,Vn,Yr,Pa,qs,f,"Throttled",-0,0),h);break t}Ny(o,s,Tn,ic,Xf,n,Vn,Yr,Pa,qs,f,null,-0,0)}}break}while(!0);Ui(e)}function Ny(e,n,s,o,h,f,g,T,C,z,F,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},Ty(n,f,Y);var at=(f&62914560)===f?ec-he():(f&4194048)===f?wy-he():0;if(at=mb(Y,at),at!==null){cs=f,e.cancelPendingCommit=at(Ly.bind(null,e,n,f,s,o,h,g,T,C,F,Y,null,j,H)),Ks(e,f,g,!z);return}}Ly(e,n,f,s,o,h,g,T,C)}function x1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(e,n,s,o){n&=~Yf,n&=~Yr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-we(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Sr(e,s,n)}function sc(){return(Yt&6)===0?(ll(0),!1):!0}function Wf(){if(Dt!==null){if(te===0)var e=Dt.return;else e=Dt,Wi=zr=null,gf(e),xa=null,Go=0,e=Dt;for(;e!==null;)ay(e.alternate,e),e=e.return;Dt=null}}function ja(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,$1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),cs=0,Wf(),oe=e,Dt=s=Zi(e.current,null),Vt=n,te=0,Mn=null,qs=!1,La=ni(e,n),Kf=!1,Pa=Vn=Yf=Yr=Gs=Ae=0,Tn=al=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-we(o),f=1<<h;n|=e[h],o&=~f}return us=n,wu(),s}function xy(e,n){Ct=null,G.H=Jo,n===Na||n===Mu?(n=Qg(),te=3):n===nf?(n=Qg(),te=4):te=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,Dt===null&&(Ae=1,Ku(e,Qn(n,e.current)))}function Dy(){var e=Dn.current;return e===null?!0:(Vt&4194048)===Vt?$n===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===$n:!1}function Oy(){var e=G.H;return G.H=Jo,e===null?Jo:e}function My(){var e=G.A;return G.A=I1,e}function rc(){Ae=4,qs||(Vt&4194048)!==Vt&&Dn.current!==null||(La=!0),(Gs&134217727)===0&&(Yr&134217727)===0||oe===null||Ks(oe,Vt,Vn,!1)}function td(e,n,s){var o=Yt;Yt|=2;var h=Oy(),f=My();(oe!==e||Vt!==n)&&(ic=null,ja(e,n)),n=!1;var g=Ae;t:do try{if(te!==0&&Dt!==null){var T=Dt,C=Mn;switch(te){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var z=te;if(te=0,Mn=null,Ba(e,T,C,z),s&&La){g=0;break t}break;default:z=te,te=0,Mn=null,Ba(e,T,C,z)}}D1(),g=Ae;break}catch(F){xy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Wi=zr=null,Yt=o,G.H=h,G.A=f,Dt===null&&(oe=null,Vt=0,wu()),g}function D1(){for(;Dt!==null;)Vy(Dt)}function O1(e,n){var s=Yt;Yt|=2;var o=Oy(),h=My();oe!==e||Vt!==n?(ic=null,nc=he()+500,ja(e,n)):La=ni(e,n);t:do try{if(te!==0&&Dt!==null){n=Dt;var f=Mn;e:switch(te){case 1:te=0,Mn=null,Ba(e,n,f,1);break;case 2:case 9:if(Gg(f)){te=0,Mn=null,ky(n);break}n=function(){te!==2&&te!==9||oe!==e||(te=7),Ui(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Gg(f)?(te=0,Mn=null,ky(n)):(te=0,Mn=null,Ba(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var T=Dt;if(g?E_(g):T.stateNode.complete){te=0,Mn=null;var C=T.sibling;if(C!==null)Dt=C;else{var z=T.return;z!==null?(Dt=z,ac(z)):Dt=null}break e}}te=0,Mn=null,Ba(e,n,f,5);break;case 6:te=0,Mn=null,Ba(e,n,f,6);break;case 8:Wf(),Ae=6;break t;default:throw Error(a(462))}}M1();break}catch(F){xy(e,F)}while(!0);return Wi=zr=null,G.H=o,G.A=h,Yt=s,Dt!==null?0:(oe=null,Vt=0,wu(),Ae)}function M1(){for(;Dt!==null&&!Rn();)Vy(Dt)}function Vy(e){var n=sy(e.alternate,e,us);e.memoizedProps=e.pendingProps,n===null?ac(e):Dt=n}function ky(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Jp(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Jp(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:gf(n);default:ay(s,n),n=Dt=Mg(n,us),n=sy(s,n,us)}e.memoizedProps=e.pendingProps,n===null?ac(e):Dt=n}function Ba(e,n,s,o){Wi=zr=null,gf(n),xa=null,Go=0;var h=n.return;try{if(T1(e,h,n,s,Vt)){Ae=1,Ku(e,Qn(s,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;Ae=1,Ku(e,Qn(s,e.current)),Dt=null;return}n.flags&32768?(Bt||o===1?e=!0:La||(Vt&536870912)!==0?e=!1:(qs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,qs);return}e=n.return;var s=A1(n.alternate,n,us);if(s!==null){Dt=s;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);Ae===0&&(Ae=5)}function Uy(e,n){do{var s=w1(e.alternate,e);if(s!==null){s.flags&=32767,Dt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=s}while(e!==null);Ae=6,Dt=null}function Ly(e,n,s,o,h,f,g,T,C){e.cancelPendingCommit=null;do oc();while(Be!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,s,f,g,T,C),e===oe&&(Dt=oe=null,Vt=0),za=n,Qs=e,cs=s,$f=f,Zf=h,Ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,L1(Ss,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=tt.p,tt.p=2,g=Yt,Yt|=4;try{R1(e,n,s)}finally{Yt=g,tt.p=h,G.T=o}}Be=1,Py(),zy(),jy()}}function Py(){if(Be===1){Be=0;var e=Qs,n=za,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=tt.p;tt.p=2;var h=Yt;Yt|=4;try{_y(n,e);var f=fd,g=Ag(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Sg(T.ownerDocument.documentElement,T)){if(C!==null&&Uh(T)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),at=T.textContent.length,pt=Math.min(C.start,at),ae=C.end===void 0?pt:Math.min(C.end,at);!H.extend&&pt>ae&&(g=ae,ae=pt,pt=g);var k=bg(T,pt),D=bg(T,ae);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),pt>ae?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}vc=!!hd,fd=hd=null}finally{Yt=h,tt.p=o,G.T=s}}e.current=n,Be=2}}function zy(){if(Be===2){Be=0;var e=Qs,n=za,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=tt.p;tt.p=2;var h=Yt;Yt|=4;try{dy(e,n.alternate,n)}finally{Yt=h,tt.p=o,G.T=s}}Be=3}}function jy(){if(Be===4||Be===3){Be=0,rn();var e=Qs,n=za,s=cs,o=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,za=Qs=null,By(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fs=null),Ki(s),n=n.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ei,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=tt.p,tt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,tt.p=h}}(cs&3)!==0&&oc(),Ui(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Jf?ol++:(ol=0,Jf=e):ol=0,ll(0)}}function By(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function oc(){return Py(),zy(),jy(),Hy()}function Hy(){if(Be!==5)return!1;var e=Qs,n=$f;$f=0;var s=Ki(cs),o=G.T,h=tt.p;try{tt.p=32>s?32:s,G.T=null,s=Zf,Zf=null;var f=Qs,g=cs;if(Be=0,za=Qs=null,cs=0,(Yt&6)!==0)throw Error(a(331));var T=Yt;if(Yt|=4,Sy(f.current),Ey(f,f.current,g,s),Yt=T,ll(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ei,f)}catch{}return!0}finally{tt.p=h,G.T=o,By(e,n)}}function qy(e,n,s){n=Qn(s,n),n=xf(e.stateNode,n,2),e=zs(e,n,2),e!==null&&(br(e,2),Ui(e))}function ee(e,n,s){if(e.tag===3)qy(e,e,s);else for(;n!==null;){if(n.tag===3){qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){e=Qn(s,e),s=Gp(2),o=zs(n,s,2),o!==null&&(Fp(s,o,n,e),br(o,2),Ui(o));break}}n=n.return}}function ed(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new N1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=V1.bind(null,e,n,s),n.then(e,e))}function V1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,oe===e&&(Vt&s)===s&&(Ae===4||Ae===3&&(Vt&62914560)===Vt&&300>he()-ec?(Yt&2)===0&&ja(e,0):Yf|=s,Pa===Vt&&(Pa=0)),Ui(e)}function Gy(e,n){n===0&&(n=iu()),e=Ur(e,n),e!==null&&(br(e,n),Ui(e))}function k1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Gy(e,s)}function U1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Gy(e,s)}function L1(e,n){return Jt(e,n)}var lc=null,Ha=null,nd=!1,uc=!1,id=!1,Ys=0;function Ui(e){e!==Ha&&e.next===null&&(Ha===null?lc=Ha=e:Ha=Ha.next=e),uc=!0,nd||(nd=!0,z1())}function ll(e,n){if(!id&&uc){id=!0;do for(var s=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-we(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yy(o,f))}else f=Vt,f=_i(o,o===oe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ni(o,f)||(s=!0,Yy(o,f));o=o.next}while(s);id=!1}}function P1(){Fy()}function Fy(){uc=nd=!1;var e=0;Ys!==0&&X1()&&(e=Ys);for(var n=he(),s=null,o=lc;o!==null;){var h=o.next,f=Qy(o,n);f===0?(o.next=null,s===null?lc=h:s.next=h,h===null&&(Ha=s)):(s=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}Be!==0&&Be!==5||ll(e),Ys!==0&&(Ys=0)}function Qy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-we(f),T=1<<g,C=h[g];C===-1?((T&s)===0||(T&o)!==0)&&(h[g]=Dh(T,n)):C<=n&&(e.expiredLanes|=T),f&=~T}if(n=oe,s=Vt,s=_i(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&jt(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ni(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&jt(o),Ki(s)){case 2:case 8:s=bs;break;case 32:s=Ss;break;case 268435456:s=Jl;break;default:s=Ss}return o=Ky.bind(null,e),s=Jt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&jt(o),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(oc()&&e.callbackNode!==s)return null;var o=Vt;return o=_i(e,e===oe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Iy(e,o,n),Qy(e,he()),e.callbackNode!=null&&e.callbackNode===s?Ky.bind(null,e):null)}function Yy(e,n){if(oc())return null;Iy(e,n,!0)}function z1(){Z1(function(){(Yt&6)!==0?Jt(zn,P1):Fy()})}function sd(){if(Ys===0){var e=Ca;e===0&&(e=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Ys=e}return Ys}function Xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function $y(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function j1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Xy((h[Fe]||null).action),g=o.submitter;g&&(n=(n=g[Fe]||null)?Xy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ni("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ys!==0){var C=g?$y(h,g):new FormData(h);Af(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?$y(h,g):new FormData(h),Af(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var rd=0;rd<jh.length;rd++){var ad=jh[rd],B1=ad.toLowerCase(),H1=ad[0].toUpperCase()+ad.slice(1);ci(B1,"on"+H1)}ci(Cg,"onAnimationEnd"),ci(Ig,"onAnimationIteration"),ci(Ng,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(s1,"onTransitionRun"),ci(r1,"onTransitionStart"),ci(a1,"onTransitionCancel"),ci(xg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Zy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(T=o[g],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=C}}}}function Ot(e,n){var s=n[oa];s===void 0&&(s=n[oa]=new Set);var o=e+"__bubble";s.has(o)||(Jy(n,e,2,!1),s.add(o))}function od(e,n,s){var o=0;n&&(o|=4),Jy(s,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[cc]){e[cc]=!0,To.forEach(function(s){s!=="selectionchange"&&(q1.has(s)||od(s,!1,e),od(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,od("selectionchange",!1,n))}}function Jy(e,n,s,o){switch(C_(n)){case 2:var h=yb;break;case 8:h=_b;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=bi(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}T=T.parentNode}}o=o.return}Ns(function(){var z=f,F=Hn(s),Y=[];t:{var j=Dg.get(e);if(j!==void 0){var H=Ni,at=e;switch(e){case"keypress":if(xr(s)===0)break t;case"keydown":case"keyup":H=Tu;break;case"focusin":at="focus",H=Or;break;case"focusout":at="blur",H=Or;break;case"beforeblur":case"afterblur":H=Or;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Cg:case Ig:case Ng:H=mu;break;case xg:H=b;break;case"scroll":case"scrollend":H=Mo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=$i;break;case"toggle":case"beforetoggle":H=Rt}var pt=(n&4)!==0,ae=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ai(D,k),Q!=null&&pt.push(cl(D,Q,P))),ae)break;D=D.return}0<pt.length&&(j=new H(j,at,null,s,F),Y.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==xo&&(at=s.relatedTarget||s.fromElement)&&(bi(at)||at[Ei]))break t;if((H||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,H?(at=s.relatedTarget||s.toElement,H=z,at=at?bi(at):null,at!==null&&(ae=c(at),pt=at.tag,at!==ae||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(H=null,at=z),H!==at)){if(pt=Vo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=$i,Q="onPointerLeave",k="onPointerEnter",D="pointer"),ae=H==null?j:Cn(H),P=at==null?j:Cn(at),j=new pt(Q,D+"leave",H,s,F),j.target=ae,j.relatedTarget=P,Q=null,bi(F)===z&&(pt=new pt(k,D+"enter",at,s,F),pt.target=P,pt.relatedTarget=ae,Q=pt),ae=Q,H&&at)e:{for(pt=G1,k=H,D=at,P=0,Q=k;Q;Q=pt(Q))P++;Q=0;for(var ht=D;ht;ht=pt(ht))Q++;for(;0<P-Q;)k=pt(k),P--;for(;0<Q-P;)D=pt(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){pt=k;break e}k=pt(k),D=pt(D)}pt=null}else pt=null;H!==null&&Wy(Y,j,H,pt,!1),at!==null&&ae!==null&&Wy(Y,ae,at,pt,!0)}}t:{if(j=z?Cn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Ft=pg;else if(mg(j))if(yg)Ft=e1;else{Ft=WT;var lt=JT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ha(z.elementType)&&(Ft=pg):Ft=t1;if(Ft&&(Ft=Ft(e,z))){gg(Y,Ft,s,F);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Co(j,"number",j.value)}switch(lt=z?Cn(z):window,e){case"focusin":(mg(lt)||lt.contentEditable==="true")&&(va=lt,Lh=z,zo=null);break;case"focusout":zo=Lh=va=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,wg(Y,s,F);break;case"selectionchange":if(i1)break;case"keydown":case"keyup":wg(Y,s,F)}var It;if(Kt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else _a?Mr(e,s)&&(kt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(kt="onCompositionStart");kt&&(Oi&&s.locale!=="ko"&&(_a||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&_a&&(It=Oo()):(Ii=F,Do="value"in Ii?Ii.value:Ii.textContent,_a=!0)),lt=hc(z,kt),0<lt.length&&(kt=new Di(kt,e,null,s,F),Y.push({event:kt,listeners:lt}),It?kt.data=It:(It=ya(s),It!==null&&(kt.data=It)))),(It=Gn?YT(e,s):XT(e,s))&&(kt=hc(z,"onBeforeInput"),0<kt.length&&(lt=new Di("onBeforeInput","beforeinput",null,s,F),Y.push({event:lt,listeners:kt}),lt.data=It)),j1(Y,e,z,s,F)}Zy(Y,n)})}function cl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function hc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ai(e,s),h!=null&&o.unshift(cl(e,h,f)),h=ai(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function G1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=ai(s,f),z!=null&&g.unshift(cl(s,z,C))):h||(z=ai(s,f),z!=null&&g.push(cl(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var F1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(F1,`
`).replace(Q1,"")}function e_(e,n){return n=t_(n),t_(e)===n}function re(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(e,""+o);break;case"className":In(e,"class",o);break;case"tabIndex":In(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":In(e,s,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){In(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ri);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=fa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ua(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hu.get(s)||s,ua(e,s,o))}}function cd(e,n,s,o,h,f){switch(s){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Fe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ua(e,s,o)}}}function tn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,g,s,null)}}h&&re(e,n,"srcSet",s.srcSet,s,null),o&&re(e,n,"src",s.src,s,null);return;case"input":Ot("invalid",e);var T=f=g=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:re(e,n,o,F,s,null)}}lu(e,f,T,C,z,g,h,!1);return;case"select":Ot("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:re(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?ws(e,!!o,n,!1):s!=null&&ws(e,!!o,s,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:re(e,n,g,T,s,null)}Rs(e,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:re(e,n,C,o,s,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Ot(ul[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,z,o,s,null)}return;default:if(ha(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&cd(e,n,F,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&re(e,n,T,o,s,null))}function K1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,z=null,F=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(H)||re(e,n,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&re(e,n,j,H,o,Y)}}ca(e,g,T,C,z,F,f,h);return;case"select":H=g=T=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||re(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&re(e,n,h,f,o,C)}n=T,s=g,o=H,j!=null?ws(e,!!s,j,!1):!!o!=!!s&&(n!=null?ws(e,!!s,n,!0):ws(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:re(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,g,h,o,f)}uu(e,j,H);return;case"option":for(var at in s)if(j=s[at],s.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:re(e,n,at,null,o,j)}for(C in o)if(j=o[C],H=s[C],o.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:re(e,n,C,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&re(e,n,pt,null,o,j);for(z in o)if(j=o[z],H=s[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:re(e,n,z,j,o,H)}return;default:if(ha(n)){for(var ae in s)j=s[ae],s.hasOwnProperty(ae)&&j!==void 0&&!o.hasOwnProperty(ae)&&cd(e,n,ae,void 0,o,j);for(F in o)j=o[F],H=s[F],!o.hasOwnProperty(F)||j===H||j===void 0&&H===void 0||cd(e,n,F,j,o,H);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&re(e,n,k,null,o,j);for(Y in o)j=o[Y],H=s[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||re(e,n,Y,j,o,H)}function n_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&n_(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>T)break;var F=C.transferSize,Y=C.initiatorType;F&&n_(Y)&&(C=C.responseEnd,g+=F*(C<T?1:(T-z)/(C-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function i_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function X1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(e){return a_.resolve(null).then(e).catch(J1)}:r_;function J1(e){setTimeout(function(){throw e})}function Xs(e){return e==="head"}function o_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Qa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")hl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,hl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Ti]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&hl(e.ownerDocument.body);s=h}while(s);Qa(n)}function l_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),la(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function W1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ti])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Zn(e.nextSibling),e===null)break}return null}function tb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Zn(e.nextSibling),e===null))return null;return e}function u_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function c_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Zn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function h_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function f_(e,n,s){switch(n=fc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);la(e)}var Jn=new Map,d_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hs=tt.d;tt.d={f:nb,r:ib,D:sb,C:rb,L:ab,m:ob,X:ub,S:lb,M:cb};function nb(){var e=hs.f(),n=sc();return e||n}function ib(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?xp(n):hs.r(e)}var qa=typeof document>"u"?null:document;function m_(e,n,s){var o=qa;if(o&&typeof n=="string"&&n){var h=pn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),d_.has(h)||(d_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),tn(n,"link",e),Oe(n),o.head.appendChild(n)))}}function sb(e){hs.D(e),m_("dns-prefetch",e,null)}function rb(e,n){hs.C(e,n),m_("preconnect",e,n)}function ab(e,n,s){hs.L(e,n,s);var o=qa;if(o&&e&&n){var h='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+pn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+pn(s.imageSizes)+'"]')):h+='[href="'+pn(e)+'"]';var f=h;switch(n){case"style":f=Ga(e);break;case"script":f=Fa(e)}Jn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Jn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),tn(n,"link",e),Oe(n),o.head.appendChild(n)))}}function ob(e,n){hs.m(e,n);var s=qa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pn(o)+'"][href="'+pn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(e)}if(!Jn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Jn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(f)))return}o=s.createElement("link"),tn(o,"link",e),Oe(o),s.head.appendChild(o)}}}function lb(e,n,s){hs.S(e,n,s);var o=qa;if(o&&e){var h=Si(o).hoistableStyles,f=Ga(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(fl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Jn.get(f))&&vd(e,s);var C=g=o.createElement("link");Oe(C),tn(C,"link",e),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,mc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function ub(e,n){hs.X(e,n);var s=qa;if(s&&e){var o=Si(s).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=A({src:e,async:!0},n),(n=Jn.get(h))&&Ed(e,n),f=s.createElement("script"),Oe(f),tn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function cb(e,n){hs.M(e,n);var s=qa;if(s&&e){var o=Si(s).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Jn.get(h))&&Ed(e,n),f=s.createElement("script"),Oe(f),tn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g_(e,n,s,o){var h=(h=wt.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ga(s.href),s=Si(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ga(s.href);var f=Si(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Jn.set(e,s),f||hb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(s),s=Si(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ga(e){return'href="'+pn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function p_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function hb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tn(n,"link",s),Oe(n),e.head.appendChild(n))}function Fa(e){return'[src="'+pn(e)+'"]'}function dl(e){return"script[async]"+e}function y_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+pn(s.href)+'"]');if(o)return n.instance=o,Oe(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Oe(o),tn(o,"style",h),mc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ga(s.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Oe(f),f;o=p_(s),(h=Jn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),Oe(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),tn(f,"link",o),n.state.loading|=4,mc(f,s.precedence,e),n.instance=f;case"script":return f=Fa(s.src),(h=e.querySelector(dl(f)))?(n.instance=h,Oe(h),h):(o=s,(h=Jn.get(f))&&(o=A({},s),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Oe(h),tn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,s.precedence,e));return n.instance}function mc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function __(e,n,s){if(gc===null){var o=new Map,h=gc=new Map;h.set(s,o)}else h=gc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ti]||f[De]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function v_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function fb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function db(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ga(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Oe(f);return}f=n.ownerDocument||n,o=p_(o),(h=Jn.get(h))&&vd(o,h),f=f.createElement("link"),Oe(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),tn(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=pc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function mb(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*Y1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(gb,e),yc=null,pc.call(e))}function gb(e,n){if(!(n.state.loading&4)){var s=yc.get(e);if(s)var o=s.get(null);else{s=new Map,yc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function pb(e,n,s,o,h,f,g,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function T_(e,n,s,o,h,f,g,T,C,z,F,Y){return e=new pb(e,n,s,g,C,z,F,Y,T),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},sf(f),e}function b_(e){return e?(e=ba,e):ba}function S_(e,n,s,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ps(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=zs(e,o,n),s!==null&&(bn(s,e,n),Qo(s,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function bd(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function w_(e){if(e.tag===13||e.tag===31){var n=Ur(e,67108864);n!==null&&bn(n,e,67108864),bd(e,67108864)}}function R_(e){if(e.tag===13||e.tag===31){var n=kn();n=Ar(n);var s=Ur(e,n);s!==null&&bn(s,e,n),bd(e,n)}}var vc=!0;function yb(e,n,s,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=2,Sd(e,n,s,o)}finally{tt.p=f,G.T=h}}function _b(e,n,s,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=8,Sd(e,n,s,o)}finally{tt.p=f,G.T=h}}function Sd(e,n,s,o){if(vc){var h=Ad(o);if(h===null)ud(e,n,o,Ec,s),I_(e,o);else if(Eb(h,e,n,s,o))o.stopPropagation();else if(I_(e,o),n&4&&-1<vb.indexOf(e)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=yi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-we(g);T.entanglements[1]|=C,g&=~C}Ui(f),(Yt&6)===0&&(nc=he()+500,ll(0))}}break;case 31:case 13:T=Ur(f,2),T!==null&&bn(T,f,2),sc(),bd(f,2)}if(f=Ad(o),f===null&&ud(e,n,o,Ec,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,s)}}function Ad(e){return e=Hn(e),wd(e)}var Ec=null;function wd(e){if(Ec=null,e=bi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case zn:return 2;case bs:return 8;case Ss:case xh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Rd=!1,$s=null,Zs=null,Js=null,gl=new Map,pl=new Map,Ws=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,n){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&w_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Eb(e,n,s,o,h){switch(n){case"focusin":return $s=yl($s,e,n,s,o,h),!0;case"dragenter":return Zs=yl(Zs,e,n,s,o,h),!0;case"mouseover":return Js=yl(Js,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,s,o,h)),!0}return!1}function N_(e){var n=bi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ii(e.priority,function(){R_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,ii(e.priority,function(){R_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ad(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);xo=o,s.target.dispatchEvent(o),xo=null}else return n=Bn(s),n!==null&&w_(n),e.blockedOn=s,!1;n.shift()}return!0}function x_(e,n,s){Tc(e)&&s.delete(n)}function Tb(){Rd=!1,$s!==null&&Tc($s)&&($s=null),Zs!==null&&Tc(Zs)&&(Zs=null),Js!==null&&Tc(Js)&&(Js=null),gl.forEach(x_),pl.forEach(x_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tb)))}var Sc=null;function D_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||s)===null)continue;break}var f=Bn(s);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Qa(e){function n(C){return bc(C,e)}$s!==null&&bc($s,e),Zs!==null&&bc(Zs,e),Js!==null&&bc(Js,e),gl.forEach(n),pl.forEach(n);for(var s=0;s<Ws.length;s++){var o=Ws[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ws.length&&(s=Ws[0],s.blockedOn===null);)N_(s),s.blockedOn===null&&Ws.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Fe]||null;if(typeof f=="function")g||D_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Fe]||null)T=g.formAction;else if(wd(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),D_(s)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Ac.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=kn();S_(s,o,e,n,null,null)},Ac.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;S_(e.current,2,null,e,null,null),sc(),n[Ei]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ws.length&&n!==0&&n<Ws[s].priority;s++);Ws.splice(s,0,e),s===0&&N_(e)}};var M_=t.version;if(M_!=="19.2.0")throw Error(a(527,M_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var bb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{ei=wc.inject(bb),Xe=wc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=jp,f=Bp,g=Hp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=T_(e,1,!1,null,null,s,o,null,h,f,g,O_),e[Ei]=n.current,ld(e),new Cd(n)},vl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=jp,g=Bp,T=Hp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=T_(e,1,!0,n,s??null,o,h,C,f,g,T,O_),n.context=b_(null),s=n.current,o=kn(),o=Ar(o),h=Ps(o),h.callback=null,zs(s,h,o),s=o,n.current.lanes=s,br(n,s),Ui(n),e[Ei]=n.current,ld(e),new Ac(n)},vl.version="19.2.0",vl}var q_;function Ob(){if(q_)return xd.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=Db(),xd.exports}var Mb=Ob();const Vb=()=>{};var G_={};const bv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},kb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,E=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,q=_&63;y||(q=64,d||(M=64)),a.push(i[E],i[A],i[M],i[q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(bv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):kb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new Ub;const M=c<<2|p>>4;if(a.push(M),_!==64){const q=p<<4&240|_>>2;if(a.push(q),A!==64){const J=_<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lb=function(r){const t=bv(r);return Sv.encodeByteArray(t,!0)},Hc=function(r){return Lb(r).replace(/\./g,"")},Av=function(r){try{return Sv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Pb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zb=()=>Pb().__FIREBASE_DEFAULTS__,jb=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Bb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Av(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return Vb()||zb()||jb()||Bb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},wv=r=>uh()?.emulatorHosts?.[r],Hb=r=>{const t=wv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Rv=()=>uh()?.config,Cv=r=>uh()?.[`_${r}`];class qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ho(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Iv(r){return(await fetch(r,{credentials:"include"})).ok}function Gb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const wl={};function Fb(){const r={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?r.emulator.push(t):r.prod.push(t);return r}function Qb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let F_=!1;function Nv(r,t){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||wl[r]===t||wl[r]||F_)return;wl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Fb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,q){M.setAttribute("width","24"),M.setAttribute("id",q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{F_=!0,d()},M}function E(M,q){M.setAttribute("id",q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=Qb(a),q=i("text"),J=document.getElementById(q)||document.createElement("span"),nt=i("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),ft=i("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const dt=M.element;p(dt),E(Z,nt);const Xt=_();y(Et,ft),dt.append(Et,J,Z,Xt),document.body.appendChild(dt)}c?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function Yb(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $b(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Wb(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tS(){try{return typeof indexedDB=="object"}catch{return!1}}function eS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const nS="FirebaseError";class Ts extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=nS,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?iS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ts(l,p,a)}}function iS(r,t){return r.replace(sS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const sS=/\{\$([^}]+)}/g;function rS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function fr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(Q_(c)&&Q_(d)){if(!fr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function jl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function aS(r,t){const i=new oS(r,t);return i.subscribe.bind(i)}class oS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");lS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Vd),l.error===void 0&&(l.error=Vd),l.complete===void 0&&(l.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Vd(){}function gn(r){return r&&r._delegate?r._delegate:r}class Wr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xr="[DEFAULT]";class uS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new qb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hS(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cS(r){return r===Xr?void 0:r}function hS(r){return r.instantiationMode==="EAGER"}class fS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new uS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const dS={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},mS=Ut.INFO,gS={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},pS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=gS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=mS,this._logHandler=pS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const yS=(r,t)=>t.some(i=>r instanceof i);let K_,Y_;function _S(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vS(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,$d=new WeakMap,Dv=new WeakMap,kd=new WeakMap,Rm=new WeakMap;function ES(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(or(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&xv.set(i,r)}).catch(()=>{}),Rm.set(t,r),t}function TS(r){if($d.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});$d.set(r,t)}let Zd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return $d.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Dv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function bS(r){Zd=r(Zd)}function SS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return Dv.set(a,t.sort?t.sort():[t]),or(a)}:vS().includes(r)?function(...t){return r.apply(Ud(this),t),or(xv.get(this))}:function(...t){return or(r.apply(Ud(this),t))}}function AS(r){return typeof r=="function"?SS(r):(r instanceof IDBTransaction&&TS(r),yS(r,_S())?new Proxy(r,Zd):r)}function or(r){if(r instanceof IDBRequest)return ES(r);if(kd.has(r))return kd.get(r);const t=AS(r);return t!==r&&(kd.set(r,t),Rm.set(t,r)),t}const Ud=r=>Rm.get(r);function wS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=or(d);return a&&d.addEventListener("upgradeneeded",y=>{a(or(d.result),y.oldVersion,y.newVersion,or(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const RS=["get","getKey","getAll","getAllKeys","count"],CS=["put","add","delete","clear"],Ld=new Map;function X_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=CS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||RS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Ld.set(t,c),c}bS(r=>({...r,get:(t,i,a)=>X_(t,i)||r.get(t,i,a),has:(t,i)=>!!X_(t,i)||r.has(t,i)}));class IS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function NS(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",$_="0.14.6";const gs=new wm("@firebase/app"),xS="@firebase/app-compat",DS="@firebase/analytics-compat",OS="@firebase/analytics",MS="@firebase/app-check-compat",VS="@firebase/app-check",kS="@firebase/auth",US="@firebase/auth-compat",LS="@firebase/database",PS="@firebase/data-connect",zS="@firebase/database-compat",jS="@firebase/functions",BS="@firebase/functions-compat",HS="@firebase/installations",qS="@firebase/installations-compat",GS="@firebase/messaging",FS="@firebase/messaging-compat",QS="@firebase/performance",KS="@firebase/performance-compat",YS="@firebase/remote-config",XS="@firebase/remote-config-compat",$S="@firebase/storage",ZS="@firebase/storage-compat",JS="@firebase/firestore",WS="@firebase/ai",tA="@firebase/firestore-compat",eA="firebase",nA="12.6.0";const Wd="[DEFAULT]",iA={[Jd]:"fire-core",[xS]:"fire-core-compat",[OS]:"fire-analytics",[DS]:"fire-analytics-compat",[VS]:"fire-app-check",[MS]:"fire-app-check-compat",[kS]:"fire-auth",[US]:"fire-auth-compat",[LS]:"fire-rtdb",[PS]:"fire-data-connect",[zS]:"fire-rtdb-compat",[jS]:"fire-fn",[BS]:"fire-fn-compat",[HS]:"fire-iid",[qS]:"fire-iid-compat",[GS]:"fire-fcm",[FS]:"fire-fcm-compat",[QS]:"fire-perf",[KS]:"fire-perf-compat",[YS]:"fire-rc",[XS]:"fire-rc-compat",[$S]:"fire-gcs",[ZS]:"fire-gcs-compat",[JS]:"fire-fst",[tA]:"fire-fst-compat",[WS]:"fire-vertex","fire-js":"fire-js",[eA]:"fire-js-all"};const qc=new Map,sA=new Map,tm=new Map;function Z_(r,t){try{r.container.addComponent(t)}catch(i){gs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function io(r){const t=r.name;if(tm.has(t))return gs.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const i of qc.values())Z_(i,r);for(const i of sA.values())Z_(i,r);return!0}function Cm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Wn(r){return r==null?!1:r.settings!==void 0}const rA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new zl("app","Firebase",rA);class aA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const fo=nA;function Ov(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Wd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw lr.create("bad-app-name",{appName:String(l)});if(i||(i=Rv()),!i)throw lr.create("no-options");const c=qc.get(l);if(c){if(fr(i,c.options)&&fr(a,c.config))return c;throw lr.create("duplicate-app",{appName:l})}const d=new fS(l);for(const y of tm.values())d.addComponent(y);const p=new aA(i,a,d);return qc.set(l,p),p}function Mv(r=Wd){const t=qc.get(r);if(!t&&r===Wd&&Rv())return Ov();if(!t)throw lr.create("no-app",{appName:r});return t}function ur(r,t,i){let a=iA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}io(new Wr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const oA="firebase-heartbeat-database",lA=1,Dl="firebase-heartbeat-store";let Pd=null;function Vv(){return Pd||(Pd=wS(oA,lA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(r=>{throw lr.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function uA(r){try{const i=(await Vv()).transaction(Dl),a=await i.objectStore(Dl).get(kv(r));return await i.done,a}catch(t){if(t instanceof Ts)gs.warn(t.message);else{const i=lr.create("idb-get",{originalErrorMessage:t?.message});gs.warn(i.message)}}}async function J_(r,t){try{const a=(await Vv()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(t,kv(r)),await a.done}catch(i){if(i instanceof Ts)gs.warn(i.message);else{const a=lr.create("idb-set",{originalErrorMessage:i?.message});gs.warn(a.message)}}}function kv(r){return`${r.name}!${r.options.appId}`}const cA=1024,hA=30;class fA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>hA){const l=gA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){gs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:a}=dA(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return gs.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function dA(r,t=cA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),t0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),t0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class mA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tS()?eS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function t0(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function gA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function pA(r){io(new Wr("platform-logger",t=>new IS(t),"PRIVATE")),io(new Wr("heartbeat",t=>new fA(t),"PRIVATE")),ur(Jd,$_,r),ur(Jd,$_,"esm2020"),ur("fire-js","")}pA("");var yA="firebase",_A="12.6.0";ur(yA,_A,"app");function Uv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vA=Uv,Lv=new zl("auth","Firebase",Uv());const Gc=new wm("@firebase/auth");function EA(r,...t){Gc.logLevel<=Ut.WARN&&Gc.warn(`Auth (${fo}): ${r}`,...t)}function Oc(r,...t){Gc.logLevel<=Ut.ERROR&&Gc.error(`Auth (${fo}): ${r}`,...t)}function ps(r,...t){throw Im(r,...t)}function Pi(r,...t){return Im(r,...t)}function Pv(r,t,i){const a={...vA(),[t]:i};return new zl("auth","Firebase",a).create(t,{appName:r.name})}function ms(r){return Pv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Lv.create(r,...t)}function vt(r,t,...i){if(!r)throw Im(t,...i)}function fs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Oc(t),new Error(t)}function ys(r,t){r||fs(t)}function em(){return typeof self<"u"&&self.location?.href||""}function TA(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function bA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TA()||$b()||"connection"in navigator)?navigator.onLine:!0}function SA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Bl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ys(i>t,"Short delay should be less than long delay!"),this.isMobile=Kb()||Zb()}get(){return bA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nm(r,t){ys(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class zv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RA=new Bl(3e4,6e4);function Hl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function mo(r,t,i,a,l={}){return jv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=jl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return Xb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&ho(r.emulatorConfig.host)&&(_.credentials="include"),zv.fetch()(await Bv(r,r.config.apiHost,i,p),_)})}async function jv(r,t,i){r._canInitEmulator=!1;const a={...AA,...t};try{const l=new CA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Rc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Pv(r,E,_);ps(r,E)}}catch(l){if(l instanceof Ts)throw l;ps(r,"network-request-failed",{message:String(l)})}}async function xm(r,t,i,a,l={}){const c=await mo(r,t,i,a,l);return"mfaPendingCredential"in c&&ps(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Bv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Nm(r.config,l):`${r.config.apiScheme}://${l}`;return wA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class CA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Pi(this.auth,"network-request-failed")),RA.get())})}}function Rc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Pi(r,t,a);return l.customData._tokenResponse=i,l}async function IA(r,t){return mo(r,"POST","/v1/accounts:delete",t)}async function Fc(r,t){return mo(r,"POST","/v1/accounts:lookup",t)}function Rl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function NA(r,t=!1){const i=gn(r),a=await i.getIdToken(t),l=Dm(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Rl(zd(l.auth_time)),issuedAtTime:Rl(zd(l.iat)),expirationTime:Rl(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function Dm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Av(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function n0(r){const t=Dm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ol(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ts&&xA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function xA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class DA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),a=await Ol(r,Fc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Hv(l.providerUserInfo):[],d=MA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function OA(r){const t=gn(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function MA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Hv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function VA(r,t){const i=await jv(r,{},async()=>{const a=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Bv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&ho(r.emulatorConfig.host)&&(y.credentials="include"),zv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kA(r,t){return mo(r,"POST","/v2/accounts:revokeToken",Hl(r,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):n0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=n0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await VA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return fs("not implemented")}}function er(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class di{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new DA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return NA(this,t)}reload(){return OA(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new di({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(ms(this.auth));const t=await this.getIdToken();return await Ol(this,IA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:q,providerData:J,stsTokenManager:nt}=i;vt(A&&nt,t,"internal-error");const Z=Ja.fromJSON(this.name,nt);vt(typeof A=="string",t,"internal-error"),er(a,t.name),er(l,t.name),vt(typeof M=="boolean",t,"internal-error"),vt(typeof q=="boolean",t,"internal-error"),er(c,t.name),er(d,t.name),er(p,t.name),er(y,t.name),er(_,t.name),er(E,t.name);const ft=new di({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:E});return J&&Array.isArray(J)&&(ft.providerData=J.map(Et=>({...Et}))),y&&(ft._redirectEventId=y),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new di({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Hv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ja;p.updateFromIdToken(a);const y=new di({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const i0=new Map;function ds(r){ys(r instanceof Function,"Expected a class definition");let t=i0.get(r);return t?(ys(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,i0.set(r,t),t)}class qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}qv.type="NONE";const s0=qv;function Mc(r,t,i){return`firebase:${r}:${t}:${i}`}class Wa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?di._fromGetAccountInfoResponse(this.auth,i,t):null}return di._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Wa(ds(s0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ds(s0);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let A;if(typeof E=="string"){const M=await Fc(t,{idToken:E}).catch(()=>{});if(!M)break;A=await di._fromGetAccountInfoResponse(t,M,E)}else A=di._fromJSON(t,E);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Wa(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Wa(c,t,a))}}function r0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Gv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xv(t))return"Blackberry";if($v(t))return"Webos";if(Fv(t))return"Safari";if((t.includes("chrome/")||Qv(t))&&!t.includes("edge/"))return"Chrome";if(Yv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Gv(r=cn()){return/firefox\//i.test(r)}function Fv(r=cn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qv(r=cn()){return/crios\//i.test(r)}function Kv(r=cn()){return/iemobile/i.test(r)}function Yv(r=cn()){return/android/i.test(r)}function Xv(r=cn()){return/blackberry/i.test(r)}function $v(r=cn()){return/webos/i.test(r)}function Om(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function UA(r=cn()){return Om(r)&&!!window.navigator?.standalone}function LA(){return Jb()&&document.documentMode===10}function Zv(r=cn()){return Om(r)||Yv(r)||$v(r)||Xv(r)||/windows phone/i.test(r)||Kv(r)}function Jv(r,t=[]){let i;switch(r){case"Browser":i=r0(cn());break;case"Worker":i=`${r0(cn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${fo}/${a}`}class PA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function zA(r,t={}){return mo(r,"GET","/v2/passwordPolicy",Hl(r,t))}const jA=6;class BA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class HA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new PA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ds(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),a=await di._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=SA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wn(this.app))return Promise.reject(ms(this));const i=t?gn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wn(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zA(this),i=new BA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await kA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ds(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Jv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&EA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ql(r){return gn(r)}class a0{constructor(t){this.auth=t,this.observer=null,this.addObserver=aS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qA(r){Mm=r}function GA(r){return Mm.loadJS(r)}function FA(){return Mm.gapiScript}function QA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function KA(r,t){const i=Cm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(fr(c,t??{}))return l;ps(l,"already-initialized")}return i.initialize({options:t})}function YA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ds);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function XA(r,t,i){const a=ql(r);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Wv(t),{host:d,port:p}=$A(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(fr(_,a.config.emulator)&&fr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,ho(d)?(Iv(`${c}//${d}${y}`),Nv("Auth",!0)):ZA()}function Wv(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function $A(r){const t=Wv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:o0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:o0(d)}}}function o0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function ZA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class tE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return fs("not implemented")}_getIdTokenResponse(t){return fs("not implemented")}_linkToIdToken(t,i){return fs("not implemented")}_getReauthenticationResolver(t){return fs("not implemented")}}async function to(r,t){return xm(r,"POST","/v1/accounts:signInWithIdp",Hl(r,t))}const JA="http://localhost";class ta extends tE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ps("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ta(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return to(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,to(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,to(t,i)}buildRequest(){const t={requestUri:JA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}class eE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends eE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class nr extends Gl{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class ir extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ta._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class sr extends Gl{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class rr extends Gl{constructor(){super("twitter.com")}static credential(t,i){return ta._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";async function WA(r,t){return xm(r,"POST","/v1/accounts:signUp",Hl(r,t))}class _s{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await di._fromIdTokenResponse(t,a,l),d=l0(a);return new _s({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=l0(a);return new _s({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function tw(r){if(Wn(r.app))return Promise.reject(ms(r));const t=ql(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new _s({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await WA(t,{returnSecureToken:!0}),a=await _s._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends Ts{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function nE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,a):c})}async function ew(r,t,i=!1){const a=await Ol(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return _s._forOperation(r,"link",a)}async function nw(r,t,i=!1){const{auth:a}=r;if(Wn(a.app))return Promise.reject(ms(a));const l="reauthenticate";try{const c=await Ol(r,nE(a,l,t,r),i);vt(c.idToken,a,"internal-error");const d=Dm(c.idToken);vt(d,a,"internal-error");const{sub:p}=d;return vt(r.uid===p,a,"user-mismatch"),_s._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ps(a,"user-mismatch"),c}}async function iw(r,t,i=!1){if(Wn(r.app))return Promise.reject(ms(r));const a="signIn",l=await nE(r,a,t),c=await _s._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function sw(r,t){return xm(r,"POST","/v1/accounts:signInWithCustomToken",Hl(r,t))}async function rw(r,t){if(Wn(r.app))return Promise.reject(ms(r));const i=ql(r),a=await sw(i,{token:t,returnSecureToken:!0}),l=await _s._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function aw(r,t,i,a){return gn(r).onIdTokenChanged(t,i,a)}function ow(r,t,i){return gn(r).beforeAuthStateChanged(t,i)}function lw(r,t,i,a){return gn(r).onAuthStateChanged(t,i,a)}const Yc="__sak";class iE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const uw=1e3,cw=10;class sE extends iE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);LA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,cw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}sE.type="LOCAL";const hw=sE;class rE extends iE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}rE.type="SESSION";const aE=rE;function fw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await fw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class dw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Vm("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function zi(){return window}function mw(r){zi().location.href=r}function oE(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function gw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pw(){return navigator?.serviceWorker?.controller||null}function yw(){return oE()?self:null}const lE="firebaseLocalStorageDb",_w=1,Xc="firebaseLocalStorage",uE="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function vw(){const r=indexedDB.deleteDatabase(lE);return new Fl(r).toPromise()}function im(){const r=indexedDB.open(lE,_w);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:uE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await vw(),t(await im()))})})}async function u0(r,t,i){const a=hh(r,!0).put({[uE]:t,value:i});return new Fl(a).toPromise()}async function Ew(r,t){const i=hh(r,!1).get(t),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function c0(r,t){const i=hh(r,!0).delete(t);return new Fl(i).toPromise()}const Tw=800,bw=3;class cE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>bw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(yw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gw(),!this.activeServiceWorker)return;this.sender=new dw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await u0(t,Yc,"1"),await c0(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Ew(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new Fl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cE.type="LOCAL";const Sw=cE;new Bl(3e4,6e4);function Aw(r,t){return t?ds(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class km extends tE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,i){return to(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ww(r){return iw(r.auth,new km(r),r.bypassAuthState)}function Rw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),nw(i,new km(r),r.bypassAuthState)}async function Cw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),ew(i,new km(r),r.bypassAuthState)}class hE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ww;case"linkViaPopup":case"linkViaRedirect":return Cw;case"reauthViaPopup":case"reauthViaRedirect":return Rw;default:ps(this.auth,"internal-error")}}resolve(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Iw=new Bl(2e3,1e4);class Za extends hE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const t=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Iw.get())};t()}}Za.currentPopupAction=null;const Nw="pendingRedirect",Vc=new Map;class xw extends hE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await Dw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dw(r,t){const i=Vw(t),a=Mw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Ow(r,t){Vc.set(r._key(),t)}function Mw(r){return ds(r._redirectPersistence)}function Vw(r){return Mc(Nw,r.config.apiKey,r.name)}async function kw(r,t,i=!1){if(Wn(r.app))return Promise.reject(ms(r));const a=ql(r),l=Aw(a,t),d=await new xw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Uw=600*1e3;class Lw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Pw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!fE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Pi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Uw&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(t))}saveEventToCache(t){this.cachedEventUids.add(h0(t)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function fE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Pw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fE(r);default:return!1}}async function zw(r,t={}){return mo(r,"GET","/v1/projects",t)}const jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bw=/^https?/;async function Hw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await zw(r);for(const i of t)try{if(qw(i))return}catch{}ps(r,"unauthorized-domain")}function qw(r){const t=em(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Bw.test(i))return!1;if(jw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Gw=new Bl(3e4,6e4);function f0(){const r=zi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Fw(r){return new Promise((t,i)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f0(),i(Pi(r,"network-request-failed"))},timeout:Gw.get()})}if(zi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(zi().gapi?.load)a();else{const l=QA("iframefcb");return zi()[l]=()=>{gapi.load?a():i(Pi(r,"network-request-failed"))},GA(`${FA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function Qw(r){return kc=kc||Fw(r),kc}const Kw=new Bl(5e3,15e3),Yw="__/auth/iframe",Xw="emulator/auth/iframe",$w={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jw(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Nm(t,Xw):`https://${r.config.authDomain}/${Yw}`,a={apiKey:t.apiKey,appName:r.name,v:fo},l=Zw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${jl(a).slice(1)}`}async function Ww(r){const t=await Qw(r),i=zi().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:Jw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$w,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Pi(r,"network-request-failed"),p=zi().setTimeout(()=>{c(d)},Kw.get());function y(){zi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const t2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e2=500,n2=600,i2="_blank",s2="http://localhost";class d0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r2(r,t,i,a=e2,l=n2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...t2,width:a.toString(),height:l.toString(),top:c,left:d},_=cn().toLowerCase();i&&(p=Qv(_)?i2:i),Gv(_)&&(t=t||s2,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[q,J])=>`${M}${q}=${J},`,"");if(UA(_)&&p!=="_self")return a2(t||"",p),new d0(null);const A=window.open(t||"",p,E);vt(A,r,"popup-blocked");try{A.focus()}catch{}return new d0(A)}function a2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const o2="__/auth/handler",l2="emulator/auth/handler",u2=encodeURIComponent("fac");async function m0(r,t,i,a,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:fo,eventId:l};if(t instanceof eE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",rS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(t instanceof Gl){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${u2}=${encodeURIComponent(y)}`:"";return`${c2(r)}?${jl(p).slice(1)}${_}`}function c2({config:r}){return r.emulator?Nm(r,l2):`https://${r.authDomain}/${o2}`}const jd="webStorageSupport";class h2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aE,this._completeRedirectFn=kw,this._overrideRedirectResult=Ow}async _openPopup(t,i,a,l){ys(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await m0(t,i,a,em(),l);return r2(t,c,Vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await m0(t,i,a,em(),l);return mw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ys(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Ww(t),a=new Lw(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),ps(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Hw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Zv()||Fv()||Om()}}const f2=h2;var g0="@firebase/auth",p0="1.11.1";class d2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function m2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g2(r){io(new Wr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jv(r)},_=new HA(a,l,c,y);return YA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),io(new Wr("auth-internal",t=>{const i=ql(t.getProvider("auth").getImmediate());return(a=>new d2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(g0,p0,m2(r)),ur(g0,p0,"esm2020")}const p2=300,y2=Cv("authIdTokenMaxAge")||p2;let y0=null;const _2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>y2)return;const l=i?.token;y0!==l&&(y0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function v2(r=Mv()){const t=Cm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=KA(r,{popupRedirectResolver:f2,persistence:[Sw,hw,aE]}),a=Cv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=_2(c.toString());ow(i,d,()=>d(i.currentUser)),aw(i,p=>d(p))}}const l=wv("auth");return l&&XA(i,`http://${l}`),i}function E2(){return document.getElementsByTagName("head")?.[0]??document}qA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Pi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",E2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g2("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,dE;(function(){var r;function t(N,S){function I(){}I.prototype=S.prototype,N.F=S.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,x,U){for(var R=Array(arguments.length-2),le=2;le<arguments.length;le++)R[le-2]=arguments[le];return S.prototype[x].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)V[x]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(x=0;x<16;++x)V[x]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=N.g[0],I=N.g[1],x=N.g[2];let U=N.g[3],R;R=S+(U^I&(x^U))+V[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(x^S&(I^x))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(I^U&(S^I))+V[2]+606105819&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(S^x&(U^S))+V[3]+3250441966&4294967295,I=x+(R<<22&4294967295|R>>>10),R=S+(U^I&(x^U))+V[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(x^S&(I^x))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(I^U&(S^I))+V[6]+2821735955&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(S^x&(U^S))+V[7]+4249261313&4294967295,I=x+(R<<22&4294967295|R>>>10),R=S+(U^I&(x^U))+V[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(x^S&(I^x))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(I^U&(S^I))+V[10]+4294925233&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(S^x&(U^S))+V[11]+2304563134&4294967295,I=x+(R<<22&4294967295|R>>>10),R=S+(U^I&(x^U))+V[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(x^S&(I^x))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(I^U&(S^I))+V[14]+2792965006&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(S^x&(U^S))+V[15]+1236535329&4294967295,I=x+(R<<22&4294967295|R>>>10),R=S+(x^U&(I^x))+V[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(S^I))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^I&(U^S))+V[11]+643717713&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(x^U))+V[0]+3921069994&4294967295,I=x+(R<<20&4294967295|R>>>12),R=S+(x^U&(I^x))+V[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(S^I))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^I&(U^S))+V[15]+3634488961&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(x^U))+V[4]+3889429448&4294967295,I=x+(R<<20&4294967295|R>>>12),R=S+(x^U&(I^x))+V[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(S^I))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^I&(U^S))+V[3]+4107603335&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(x^U))+V[8]+1163531501&4294967295,I=x+(R<<20&4294967295|R>>>12),R=S+(x^U&(I^x))+V[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(S^I))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^I&(U^S))+V[7]+1735328473&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(x^U))+V[12]+2368359562&4294967295,I=x+(R<<20&4294967295|R>>>12),R=S+(I^x^U)+V[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^x)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^I)+V[11]+1839030562&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^S)+V[14]+4259657740&4294967295,I=x+(R<<23&4294967295|R>>>9),R=S+(I^x^U)+V[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^x)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^I)+V[7]+4139469664&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^S)+V[10]+3200236656&4294967295,I=x+(R<<23&4294967295|R>>>9),R=S+(I^x^U)+V[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^x)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^I)+V[3]+3572445317&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^S)+V[6]+76029189&4294967295,I=x+(R<<23&4294967295|R>>>9),R=S+(I^x^U)+V[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^x)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^I)+V[15]+530742520&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^S)+V[2]+3299628645&4294967295,I=x+(R<<23&4294967295|R>>>9),R=S+(x^(I|~U))+V[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~x))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~I))+V[14]+2878612391&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~S))+V[5]+4237533241&4294967295,I=x+(R<<21&4294967295|R>>>11),R=S+(x^(I|~U))+V[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~x))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~I))+V[10]+4293915773&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~S))+V[1]+2240044497&4294967295,I=x+(R<<21&4294967295|R>>>11),R=S+(x^(I|~U))+V[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~x))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~I))+V[6]+2734768916&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~S))+V[13]+1309151649&4294967295,I=x+(R<<21&4294967295|R>>>11),R=S+(x^(I|~U))+V[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~x))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~I))+V[2]+718787259&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const I=S-this.blockSize,V=this.C;let x=this.h,U=0;for(;U<S;){if(x==0)for(;U<=I;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(V[x++]=N.charCodeAt(U++),x==this.blockSize){l(this,V),x=0;break}}else for(;U<S;)if(V[x++]=N[U++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[S++]=this.g[I]>>>V&255;return N};function c(N,S){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=S(N)}function d(N,S){this.h=S;const I=[];let V=!0;for(let x=N.length-1;x>=0;x--){const U=N[x]|0;V&&U==S||(I[x]=U,V=!1)}this.g=I}var p={};function y(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return Z(_(-N));const S=[];let I=1;for(let V=0;N>=I;V++)S[V]=N/I|0,I*=4294967296;return new d(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return Z(E(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let V=A;for(let U=0;U<N.length;U+=8){var x=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+x),S);x<8?(x=_(Math.pow(S,x)),V=V.j(x).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var A=y(0),M=y(1),q=y(16777216);r=d.prototype,r.m=function(){if(nt(this))return-Z(this).m();let N=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(nt(this))return"-"+Z(this).toString(N);const S=_(Math.pow(N,6));var I=this;let V="";for(;;){const x=Xt(I,S).g;I=ft(I,x.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=x,J(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=ft(this,N),nt(N)?-1:J(N)?0:1};function Z(N){const S=N.g.length,I=[];for(let V=0;V<S;V++)I[V]=~N.g[V];return new d(I,~N.h).add(M)}r.abs=function(){return nt(this)?Z(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let x=0;x<=S;x++){let U=V+(this.i(x)&65535)+(N.i(x)&65535),R=(U>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);V=R>>>16,U&=65535,R&=65535,I[x]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(N,S){return N.add(Z(S))}r.j=function(N){if(J(this)||J(N))return A;if(nt(this))return nt(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(nt(N))return Z(this.j(Z(N)));if(this.l(q)<0&&N.l(q)<0)return _(this.m()*N.m());const S=this.g.length+N.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<N.g.length;x++){const U=this.i(V)>>>16,R=this.i(V)&65535,le=N.i(x)>>>16,Te=N.i(x)&65535;I[2*V+2*x]+=R*Te,Et(I,2*V+2*x),I[2*V+2*x+1]+=U*Te,Et(I,2*V+2*x+1),I[2*V+2*x+1]+=R*le,Et(I,2*V+2*x+1),I[2*V+2*x+2]+=U*le,Et(I,2*V+2*x+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new d(I,0)};function Et(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function dt(N,S){this.g=N,this.h=S}function Xt(N,S){if(J(S))throw Error("division by zero");if(J(N))return new dt(A,A);if(nt(N))return S=Xt(Z(N),S),new dt(Z(S.g),Z(S.h));if(nt(S))return S=Xt(N,Z(S)),new dt(Z(S.g),S.h);if(N.g.length>30){if(nt(N)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(N)<=0;)I=ne(I),V=ne(V);var x=Mt(I,1),U=Mt(V,1);for(V=Mt(V,2),I=Mt(I,2);!J(V);){var R=U.add(V);R.l(N)<=0&&(x=x.add(I),U=R),V=Mt(V,1),I=Mt(I,1)}return S=ft(N,x.j(S)),new dt(x,S)}for(x=A;N.l(S)>=0;){for(I=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),R=U.j(S);nt(R)||R.l(N)>0;)I-=V,U=_(I),R=U.j(S);J(U)&&(U=M),x=x.add(U),N=ft(N,R)}return new dt(x,N)}r.B=function(N){return Xt(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function ne(N){const S=N.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Mt(N,S){const I=S>>5;S%=32;const V=N.g.length-I,x=[];for(let U=0;U<V;U++)x[U]=S>0?N.i(U+I)>>>S|N.i(U+I+1)<<32-S:N.i(U+I);return new d(x,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,dE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,cr=d}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mE,Tl,gE,Uc,sm,pE,yE,_E;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var W=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)W[Rt-2]=arguments[Rt];return m.prototype[L].apply(b,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=L[W]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const b=dt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var dt=new nt(()=>new Xt,u=>u.reset());class Xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Mt=!1,N=new Et,S=()=>{const u=Promise.resolve(void 0);ne=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){Z(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function le(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(le,x),le.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=wt(u,m,b,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),be={};function ue(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ue(u,m[B],v,b,L);return null}return v=ce(v),u&&u[Te]?u.J(m,v,p(b)?!!b.capture:!1,L):Qi(u,m,v,!1,b,L)}function Qi(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let Rt=_e(u);if(Rt||(u[Nt]=Rt=new st(u)),v=Rt.add(m,v,b,W,B),v.proxy)return v;if(b=it(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Tt(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function it(){function u(v){return m.call(u.src,u.listener,v)}const m=Gt;return u}function ot(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ot(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=ce(v),u&&u[Te]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=wt(m,v,b,L),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=_e(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,b,L)),(v=u>-1?m[u]:null)&&mt(v))}function mt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Te])_t(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Tt(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=_e(m))?(_t(v,u),v.h==0&&(v.src=null,m[Nt]=null)):ct(u)}}}function Tt(u){return u in be?be[u]:be[u]="on"+u}function Gt(u,m){if(u.da)u=!0;else{m=new le(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&mt(u),u=v.call(b,m)}return u}function _e(u){return u=u[Nt],u instanceof st?u:null}var Pn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ce(u){return typeof u=="function"?u:(u[Pn]||(u[Pn]=function(m){return u.handleEvent(m)}),u[Pn])}function xt(){V.call(this),this.i=new st(this),this.M=this,this.G=null}A(xt,V),xt.prototype[Te]=!0,xt.prototype.removeEventListener=function(u,m,v,b){ot(this,u,m,v,b)};function Jt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(b,u),et(m,L)}L=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],L=jt(B,b,!0,m)&&L;if(B=m.g=u,L=jt(B,b,!0,m)&&L,L=jt(B,b,!1,m)&&L,v)for(W=0;W<v.length;W++)B=m.g=v[W],L=jt(B,b,!1,m)&&L}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ct(v[b]);delete u.g[m],u.h--}}this.G=null},xt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},xt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function jt(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const Rt=W.listener,Re=W.ha||W.src;W.fa&&_t(u.i,W),L=Rt.call(Re,b)!==!1&&L}}return L&&!b.defaultPrevented}function Rn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function rn(u){u.g=Rn(()=>{u.g=null,u.i&&(u.i=!1,rn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class he extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:rn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(u){V.call(this),this.h=u,this.g={}}A(fe,V);var zn=[];function bs(u){zt(u.g,function(m,v){this.g.hasOwnProperty(v)&&mt(m)},u),u.g={}}fe.prototype.N=function(){fe.Z.N.call(this),bs(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=d.JSON.stringify,xh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){x.call(this,"d")}A(Xe,x);function jn(){x.call(this,"c")}A(jn,x);var we={},eu=null;function aa(){return eu=eu||new xt}we.Ia="serverreachability";function nu(u){x.call(this,we.Ia,u)}A(nu,x);function pi(u){const m=aa();Jt(m,new nu(m))}we.STAT_EVENT="statevent";function Tr(u,m){x.call(this,we.STAT_EVENT,u),this.stat=m}A(Tr,x);function xe(u){const m=aa();Jt(m,new Tr(m,u))}we.Ja="timingevent";function yi(u,m){x.call(this,we.Ja,u),this.size=m}A(yi,x);function _i(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function Dh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var W="",Rt=B.split("&");for(let Kt=0;Kt<Rt.length;Kt++){var Re=Rt[Kt].split("=");if(Re.length>1){const pe=Re[0];Re=Re[1];const Gn=pe.split("_");W=Gn.length>=2&&Gn[1]=="type"?W+(pe+"="+Re+"&"):W+(pe+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function iu(u,m,v,b,L,B,W){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+W})}function vi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(b?" "+b:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}ni.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<b.length;W++)b[W]=""}}}}return Ss(B)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function Ar(){}A(Ar,Wl),Ar.prototype.g=function(){return new XMLHttpRequest},Eo=new Ar;function Ki(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ii(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var De={},Fe={};function Ei(u,m,v){u.M=1,u.A=wr(Me(m)),u.u=v,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),Ti(u),u.B=Me(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ha(v.i,"t",b),u.C=0,v=u.j.L,u.h=new si,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new he(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(zn[0]=L.toString()),L=zn);for(let B=0;B<L.length;B++){const W=ue(v,L[B],b||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pi(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}ii.prototype.ba=function(u){u=u.target;const m=this.O;m&&oi(u)==3?m.j():this.Y(u)},ii.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=oi(this.g),Re=this.g.ya(),Kt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||Rt!=4||Re==7||(Re==8||Kt<=0?pi(3):pi(2)),bi(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(u=B)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,xe(12),Cn(this),Bn(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=au(this,v),pe==Fe){Rt==4&&(this.m=4,xe(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==De){this.m=4,xe(15),vi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,pe,null),Si(this,pe);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,xe(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,v,"[Invalid Chunked Response]"),Cn(this),Bn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(W),W.P=!0,xe(11))}}else vi(this.i,this.l,v,null),Si(this,v);Rt==4&&Cn(this),this.o&&!this.K&&(Rt==4?gu(this.j,this):(this.o=!1,Ti(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Cn(this),Bn(this)}}}catch{}finally{}};function Mh(u){if(!ru(u))return u.g.la();const m=$e(u.g);if(m==="")return"";let v="";const b=m.length,L=oi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Fe:(v=Number(m.substring(v,b)),isNaN(v)?De:(b+=1,b+v>m.length?Fe:(m=m.slice(b,b+v),u.C=b+v,m)))}ii.prototype.cancel=function(){this.K=!0,Cn(this)};function Ti(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(_(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ii.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(pi(),xe(17)),Cn(this),this.m=2,Bn(this)):la(this,this.T-u)};function Bn(u){u.j.I==0||u.K||gu(u.j,u)}function Cn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,bs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pa(v),Ds(v);else break t;Or(v),xe(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(_(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&pa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const pe=Kt[0];if(!(pe<=v.K))if(v.K=pe,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Gn=Kt[3];Gn!=null&&(v.ka=Gn,v.j.info("VER="+v.ka));const Oi=Kt[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const li=Kt[5];li!=null&&typeof li=="number"&&li>0&&(b=1.5*li,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ui=u.g;if(ui){const Mr=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var B=b.h;B.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(b.G){const ya=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(b.wa=ya,Wt(b.J,b.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var W=u;if(b.na=_u(b,b.L?b.ba:null,b.W),W.L){Ao(b.h,W);var Rt=W,Re=b.O;Re&&(Rt.H=Re),Rt.D&&(bi(Rt),Ti(Rt)),b.g=W}else du(b);v.i.length>0&&xi(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Di(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Di(v,7):Mo(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}pi(4)}catch{}}var Oe=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function In(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof In?(this.l=u.l,Qe(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Ro(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Qe(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),As(this,m[4]),this.h=Ri(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}In.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,ca,!0),"@"),u.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Co:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,uu)),u.join("")},In.prototype.resolve=function(u){const m=Me(this);let v=!!u.j;v?Qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)As(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const Rt=L[W++];Rt=="."?b&&W==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&W==L.length&&B.push("")):(B.push(Rt),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Ro(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Me(u){return new In(u)}function Qe(u,m,v){u.j=v?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof Rs?(u.i=m,fa(u.i,u.l)):(v||(m=Rr(m,ws)),u.i=new Rs(m,u.l))}function Wt(u,m,v){u.i.set(m,v)}function wr(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,pn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ca=/[#\/\?@]/g,lu=/[#\?:]/g,Co=/[#\?]/g,ws=/[#\?@]/g,uu=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&ua(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Rs.prototype,r.add=function(u,m){yn(this),this.i=null,u=Cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){yn(u),m=Cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return yn(u),m=Cs(u,m),u.g.has(m)}r.forEach=function(u,m){yn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function No(u,m){yn(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(Cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return yn(this),this.i=null,u=Cs(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function ha(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(Cs(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Ki(v);v=No(this,v);for(let B=0;B<v.length;B++){let W=L;v[B]!==""&&(W+="="+Ki(v[B])),u.push(W)}}return this.i=u.join("&")};function hu(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fa(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(cu(this,b),ha(this,L,v))},u)),u.j=m}function ri(u,m){const v=new ni;if(d.Image){const b=new Image;b.onload=E(Hn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Hn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Hn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Hn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function xo(u,m){const v=new ni,b=new AbortController,L=setTimeout(()=>{b.abort(),Hn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Hn(v,"TestPingServer: ok",!0,m):Hn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Hn(v,"TestPingServer: error",!1,m)})}function Hn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Is(){this.g=new Jl}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ci,Wl),Ci.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){xt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Cr,xt),r=Cr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ai(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):ai(this),this.readyState==3&&da(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},r.Na=function(u){this.g&&(this.response=u,Ns(this))},r.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ai(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qn(u){let m="";return zt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=qn(v),typeof u=="string"?v!=null&&Ki(v):Wt(u,m,v))}function ie(u){xt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ie,xt);var Ii=/^https?$/i,Do=["POST","PUT"];r=ie.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Nr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Nr(this,B)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Yi(u)}function Oo(u){u.A||(u.A=!0,Jt(u,"complete"),Jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Jt(this,"complete"),Jt(this,"abort"),Yi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),ie.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},r.Xa=function(){xr(this)};function xr(u){if(u.h&&typeof c<"u"){if(u.v&&oi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Jt(u,"readystatechange"),oi(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let W=String(u.D).match(ou)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),b=!Ii.test(W?W.toLowerCase():"")}v=b}if(v)Jt(u,"complete"),Jt(u,"success");else{u.o=6;try{var L=oi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Oo(u)}}finally{Yi(u)}}}}function Yi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Jt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function oi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xh(m)}};function $e(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&oi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=su(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}qt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function xs(u){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){xe(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=_u(this,null,this.W),xi(this)};function Mo(u){if(ma(u),u.I==3){var m=u.V++,v=Me(u.J);if(Wt(v,"SID",u.M),Wt(v,"RID",m),Wt(v,"TYPE","terminate"),Dr(u,v),m=new ii(u,u.j,m),m.M=2,m.A=wr(Me(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}yu(u)}function Ds(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ma(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ne||S(),Mt||(ne(),Mt=!0),N.add(m,u),u.D=0}}function ga(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(_(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ii(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=fu(this,L,m),v=Me(this.J),Wt(v,"RID",u),Wt(v,"CVER",22),this.G&&Wt(v,"X-HTTP-Session-Id",this.G),Dr(this,v),B&&(this.R?m="headers="+Ki(qn(B))+"&"+m:this.u&&Ir(v,this.u,B)),So(this.h,L),this.Ra&&Wt(v,"TYPE","init"),this.S?(Wt(v,"$req",m),Wt(v,"SID","null"),L.U=!0,Ei(L,v,null)):Ei(L,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||bo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const b=Me(u.J);Wt(b,"SID",u.M),Wt(b,"RID",v),Wt(b,"AID",u.K),Dr(u,b),u.u&&u.o&&Ir(b,u.u,u.o),v=new ii(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),Ei(v,b,m)}function Dr(u,m){u.H&&zt(u.H,function(v,b){Wt(m,b,v)}),u.l&&zt({},function(v,b){Wt(m,b,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const Re=["count="+v];Rt==-1?v>0?(Rt=L[0].g,Re.push("ofs="+Rt)):Rt=0:Re.push("ofs="+Rt);let Kt=!0;for(let pe=0;pe<v;pe++){var B=L[pe].g;const Gn=L[pe].map;if(B-=Rt,B<0)Rt=Math.max(0,L[pe].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var W=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Oi,li]of W){let ui=li;p(li)&&(ui=Ss(li)),Re.push(B+Oi+"="+encodeURIComponent(ui))}}catch(Oi){throw Re.push(B+"type="+encodeURIComponent("_badmap")),Oi}}catch{b&&b(Gn)}}if(Kt){W=Re.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ne||S(),Mt||(ne(),Mt=!0),N.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(_(u.Da,u),pu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Ds(this),mu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new ii(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Me(u.na);Wt(m,"RID","rpc"),Wt(m,"SID",u.M),Wt(m,"AID",u.K),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(m,"TO",u.ia),Wt(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(Me(m)),v.u=null,v.R=!0,oa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ds(this),Or(this),xe(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){pa(u),ko(u),u.g=null;var b=2}else if(wi(u.h,m))v=m.G,Ao(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=aa(),Jt(b,new yi(b,v)),xi(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ga(u,m)||b==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new In(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qe(b,"https"),wr(b),L?ri(b.toString(),v):xo(b.toString(),v)}else xe(2);u.I=0,u.l&&u.l.pa(m),yu(u),ma(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var b=v instanceof In?Me(v):new In(v);if(b.g!="")m&&(b.g=m+"."+b.g),As(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new In(null);b&&Qe(B,b),m&&(B.g=m),L&&As(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Wt(b,v,m),Wt(b,"VER",u.ka),Dr(u,b),b}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new Ci({ab:v})):new ie(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){xt.call(this),this.g=new xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}A(hn,xt),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Mo(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ss(u),u=v);m.i.push(new Oe(m.Ya++,u)),m.I==3&&xi(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,hn.Z.N.call(this)};function Tu(u){Xe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Tu,Xe);function bu(){jn.call(this),this.status=1}A(bu,jn);function $i(u){this.g=u}A($i,Eu),$i.prototype.ra=function(){Jt(this.g,"a")},$i.prototype.qa=function(u){Jt(this.g,new Tu(u))},$i.prototype.pa=function(u){Jt(this.g,new bu)},$i.prototype.oa=function(){Jt(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,_E=function(){return new Os},yE=function(){return aa()},pE=we,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Uc=Sr,vo.COMPLETE="complete",gE=vo,tu.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Tl=tu,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,mE=ie}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",E0="4.9.2";let ln=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let go="12.3.0";const ea=new wm("@firebase/firestore");function Ka(){return ea.logLevel}function rt(r,...t){if(ea.logLevel<=Ut.DEBUG){const i=t.map(Um);ea.debug(`Firestore (${go}): ${r}`,...i)}}function vs(r,...t){if(ea.logLevel<=Ut.ERROR){const i=t.map(Um);ea.error(`Firestore (${go}): ${r}`,...i)}}function so(r,...t){if(ea.logLevel<=Ut.WARN){const i=t.map(Um);ea.warn(`Firestore (${go}): ${r}`,...i)}}function Um(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,vE(r,a,i)}function vE(r,t,i){let a=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw vs(a),new Error(a)}function Zt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||vE(t,l,a)}function At(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ts{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class EE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class T2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class b2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class S2{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new hr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new hr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new EE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class A2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new T0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function C2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=C2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Lt(r,t){return r<t?-1:r>t?1:0}function rm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?Lt(l,c):Bd(l)?1:-1}return Lt(r.length,t.length)}const I2=55296,N2=57343;function Bd(r){const t=r.charCodeAt(0);return t>=I2&&t<=N2}function ro(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const b0="__name__";class Li{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Li.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Lt(t.length,i.length)}static compareSegments(t,i){const a=Li.isNumericId(t),l=Li.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Li.extractNumericId(t).compare(Li.extractNumericId(i)):rm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class ve extends Li{construct(t,i,a){return new ve(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ve(i)}static emptyPath(){return new ve([])}}const x2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Li{construct(t,i,a){return new nn(t,i,a)}static isValidIdentifier(t){return x2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new nn([b0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(i)}static emptyPath(){return new nn([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ve.fromString(t))}static fromName(t){return new gt(ve.fromString(t).popFirst(5))}static empty(){return new gt(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ve.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ve(t.slice()))}}function D2(r,t,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function O2(r,t,i,a){if(t===!0&&a===!0)throw new ut($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function S0(r){if(!gt.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function TE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function mi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(r);throw new ut($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function ze(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ql(r,t){if(!TE(r))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}const A0=-62135596800,w0=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*w0);return new ge(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<A0)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-A0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:ze("string",ge._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ge(0,0))}static max(){return new bt(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function M2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new ge(i+1,0):new ge(i,a));return new dr(l,gt.empty(),t)}function V2(r){return new dr(r.readTime,r.key,Ml)}class dr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new dr(bt.min(),gt.empty(),Ml)}static max(){return new dr(bt.max(),gt.empty(),Ml)}}function k2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Lt(r.largestBatchId,t.largestBatchId))}const U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function po(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==U2)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function P2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yo(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const zm=-1;function dh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function z2(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const bE="";function j2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=R0(t)),t=B2(r.get(i),t);return R0(t)}function B2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case bE:i+="";break;default:i+=c}}return i}function R0(r){return r+bE+""}function C0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function vr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function SE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class Ee{constructor(t,i){this.comparator=t,this.root=i||en.EMPTY}insert(t,i){return new Ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??en.RED,this.left=l??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new en(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return en.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new en(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(t){return new I0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class I0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new Ln([])}unionWith(t){let i=new qe(nn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Ln(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new AE("Invalid base64 string: "+c):c}})(t);return new sn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new sn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const H2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(r){if(Zt(!!r,39018),typeof r=="string"){let t=0;const i=H2.exec(r);if(Zt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ne(r.seconds),nanos:Ne(r.nanos)}}function Ne(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gr(r){return typeof r=="string"?sn.fromBase64String(r):sn.fromUint8Array(r)}const wE="server_timestamp",RE="__type__",CE="__previous_value__",IE="__local_write_time__";function jm(r){return(r?.mapValue?.fields||{})[RE]?.stringValue===wE}function mh(r){const t=r.mapValue.fields[CE];return jm(t)?mh(t):t}function Vl(r){const t=mr(r.mapValue.fields[IE].timestampValue);return new ge(t.seconds,t.nanos)}class q2{constructor(t,i,a,l,c,d,p,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const Zc="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}const NE="__type__",G2="__max__",Nc={mapValue:{}},xE="__vector__",Jc="value";function pr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:Q2(r)?9007199254740991:F2(r)?10:11:yt(28295,{value:r})}function Gi(r,t){if(r===t)return!0;const i=pr(r);if(i!==pr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=mr(l.timestampValue),p=mr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return gr(l.bytesValue).isEqual(gr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ne(l.geoPointValue.latitude)===Ne(c.geoPointValue.latitude)&&Ne(l.geoPointValue.longitude)===Ne(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ne(l.integerValue)===Ne(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ne(l.doubleValue),p=Ne(c.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return ro(r.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(C0(d)!==C0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Gi(d[y],p[y])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Ul(r,t){return(r.values||[]).find((i=>Gi(i,t)))!==void 0}function ao(r,t){if(r===t)return 0;const i=pr(r),a=pr(t);if(i!==a)return Lt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ne(c.integerValue||c.doubleValue),y=Ne(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return N0(r.timestampValue,t.timestampValue);case 4:return N0(Vl(r),Vl(t));case 5:return rm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=gr(c),y=gr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=Lt(p[_],y[_]);if(E!==0)return E}return Lt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Lt(Ne(c.latitude),Ne(d.latitude));return p!==0?p:Lt(Ne(c.longitude),Ne(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return x0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Jc]?.arrayValue,E=y[Jc]?.arrayValue,A=Lt(_?.values?.length||0,E?.values?.length||0);return A!==0?A:x0(_,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const M=rm(y[A],E[A]);if(M!==0)return M;const q=ao(p[y[A]],_[E[A]]);if(q!==0)return q}return Lt(y.length,E.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function N0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Lt(r,t);const i=mr(r),a=mr(t),l=Lt(i.seconds,a.seconds);return l!==0?l:Lt(i.nanos,a.nanos)}function x0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ao(i[l],a[l]);if(c)return c}return Lt(i.length,a.length)}function oo(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=mr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return gr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=am(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Lc(r){switch(pr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+Lc(t):16;case 5:return 2*r.stringValue.length;case 6:return gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return vr(a.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function om(r){return!!r&&"integerValue"in r}function Bm(r){return!!r&&"arrayValue"in r}function D0(r){return!!r&&"nullValue"in r}function O0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pc(r){return!!r&&"mapValue"in r}function F2(r){return(r?.mapValue?.fields||{})[NE]?.stringValue===xE}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return vr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Cl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(r.arrayValue.values[i]);return t}return{...r}}function Q2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===G2}class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=nn.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Cl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){vr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new wn(Cl(this.value))}}function DE(r){const t=[];return vr(r.fields,((i,a)=>{const l=new nn([i]);if(Pc(a)){const c=DE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Ln(t)}class un{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new un(t,0,bt.min(),bt.min(),bt.min(),wn.empty(),0)}static newFoundDocument(t,i,a,l){return new un(t,1,i,bt.min(),a,l,0)}static newNoDocument(t,i){return new un(t,2,i,bt.min(),bt.min(),wn.empty(),0)}static newUnknownDocument(t,i){return new un(t,3,i,bt.min(),bt.min(),wn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function M0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=ao(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function V0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Gi(r.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function K2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class OE{}class He extends OE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new X2(t,i,a):i==="array-contains"?new J2(t,a):i==="in"?new W2(t,a):i==="not-in"?new tR(t,a):i==="array-contains-any"?new eR(t,a):new He(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new $2(t,a):new Z2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends OE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Fi(t,i)}matches(t){return ME(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ME(r){return r.op==="and"}function VE(r){return Y2(r)&&ME(r)}function Y2(r){for(const t of r.filters)if(t instanceof Fi)return!1;return!0}function lm(r){if(r instanceof He)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(VE(r))return r.filters.map((t=>lm(t))).join(",");{const t=r.filters.map((i=>lm(i))).join(",");return`${r.op}(${t})`}}function kE(r,t){return r instanceof He?(function(a,l){return l instanceof He&&a.op===l.op&&a.field.isEqual(l.field)&&Gi(a.value,l.value)})(r,t):r instanceof Fi?(function(a,l){return l instanceof Fi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&kE(d,l.filters[p])),!0):!1})(r,t):void yt(19439)}function UE(r){return r instanceof He?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(r):r instanceof Fi?(function(i){return i.op.toString()+" {"+i.getFilters().map(UE).join(" ,")+"}"})(r):"Filter"}class X2 extends He{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class $2 extends He{constructor(t,i){super(t,"in",i),this.keys=LE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Z2 extends He{constructor(t,i){super(t,"not-in",i),this.keys=LE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function LE(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class J2 extends He{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Bm(i)&&Ul(i.arrayValue,this.value)}}class W2 extends He{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class tR extends He{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class eR extends He{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class nR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function k0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new nR(r,t,i,a,l,c,d)}function Hm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>oo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>oo(a))).join(",")),t.Te=i}return t.Te}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!K2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!kE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!V0(r.startAt,t.startAt)&&V0(r.endAt,t.endAt)}function um(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iR(r,t,i,a,l,c,d,p){return new gh(r,t,i,a,l,c,d,p)}function ph(r){return new gh(r)}function U0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sR(r){return r.collectionGroup!==null}function Il(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new qe(nn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(nn.keyField().canonicalString())||t.Ie.push(new th(nn.keyField(),a))}return t.Ie}function ji(r){const t=At(r);return t.Ee||(t.Ee=rR(t,Il(r))),t.Ee}function rR(r,t){if(r.limitType==="F")return k0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return k0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function cm(r,t,i){return new gh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function yh(r,t){return qm(ji(r),ji(t))&&r.limitType===t.limitType}function PE(r){return`${Hm(ji(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>UE(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${a})`})(ji(r))}; limitType=${r.limitType})`}function _h(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=M0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,p,y){const _=M0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Il(a),l))})(r,t)}function aR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zE(r){return(t,i)=>{let a=!1;for(const l of Il(r)){const c=oR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function oR(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?ao(y,_):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){vr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return SE(this.inner)}size(){return this.innerSize}}const lR=new Ee(gt.comparator);function Es(){return lR}const jE=new Ee(gt.comparator);function bl(...r){let t=jE;for(const i of r)t=t.insert(i.key,i);return t}function BE(r){let t=jE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Zr(){return Nl()}function HE(){return Nl()}function Nl(){return new sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const uR=new Ee(gt.comparator),cR=new qe(gt.comparator);function Pt(...r){let t=cR;for(const i of r)t=t.add(i);return t}const hR=new qe(Lt);function fR(){return hR}function Gm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function qE(r){return{integerValue:""+r}}function dR(r,t){return z2(t)?qE(t):Gm(r,t)}class vh{constructor(){this._=void 0}}function mR(r,t,i){return r instanceof eh?(function(l,c){const d={fields:{[RE]:{stringValue:wE},[IE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&jm(c)&&(c=mh(c)),c&&(d.fields[CE]=c),{mapValue:d}})(i,t):r instanceof lo?FE(r,t):r instanceof Ll?QE(r,t):(function(l,c){const d=GE(l,c),p=L0(d)+L0(l.Ae);return om(d)&&om(l.Ae)?qE(p):Gm(l.serializer,p)})(r,t)}function gR(r,t,i){return r instanceof lo?FE(r,t):r instanceof Ll?QE(r,t):i}function GE(r,t){return r instanceof nh?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends vh{}class lo extends vh{constructor(t){super(),this.elements=t}}function FE(r,t){const i=KE(t);for(const a of r.elements)i.some((l=>Gi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends vh{constructor(t){super(),this.elements=t}}function QE(r,t){let i=KE(t);for(const a of r.elements)i=i.filter((l=>!Gi(l,a)));return{arrayValue:{values:i}}}class nh extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function L0(r){return Ne(r.integerValue||r.doubleValue)}function KE(r){return Bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class pR{constructor(t,i){this.field=t,this.transform=i}}function yR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof lo&&l instanceof lo||a instanceof Ll&&l instanceof Ll?ro(a.elements,l.elements,Gi):a instanceof nh&&l instanceof nh?Gi(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(r.transform,t.transform)}class _R{constructor(t,i){this.version=t,this.transformResults=i}}class gi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new gi}static exists(t){return new gi(void 0,t)}static updateTime(t){return new gi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Eh{}function YE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Fm(r.key,gi.none()):new Kl(r.key,r.data,gi.none());{const i=r.data,a=wn.empty();let l=new qe(nn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Er(r.key,a,new Ln(l.toArray()),gi.none())}}function vR(r,t,i){r instanceof Kl?(function(l,c,d){const p=l.value.clone(),y=z0(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Er?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=z0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(XE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function xl(r,t,i,a){return r instanceof Kl?(function(c,d,p,y){if(!zc(c.precondition,d))return p;const _=c.value.clone(),E=j0(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Er?(function(c,d,p,y){if(!zc(c.precondition,d))return p;const _=j0(c.fieldTransforms,y,d),E=d.data;return E.setAll(XE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function ER(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=GE(a.transform,l||null);c!=null&&(i===null&&(i=wn.empty()),i.set(a.field,c))}return i||null}function P0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ro(a,l,((c,d)=>yR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Er extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function XE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function z0(r,t,i){const a=new Map;Zt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,gR(d,p,i[l]))}return a}function j0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,mR(c,d,t))}return a}class Fm extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TR extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&vR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=xl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=xl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=HE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=YE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((i,a)=>P0(i,a)))&&ro(this.baseMutations,t.baseMutations,((i,a)=>P0(i,a)))}}class Qm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Zt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return uR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Qm(t,i,a,l)}}class SR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Pe,Ht;function wR(r){switch(r){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function $E(r){if(r===void 0)return vs("GRPC error has no .code"),$.UNKNOWN;switch(r){case Pe.OK:return $.OK;case Pe.CANCELLED:return $.CANCELLED;case Pe.UNKNOWN:return $.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return $.INTERNAL;case Pe.UNAVAILABLE:return $.UNAVAILABLE;case Pe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Pe.NOT_FOUND:return $.NOT_FOUND;case Pe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Pe.ABORTED:return $.ABORTED;case Pe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Pe.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:r})}}(Ht=Pe||(Pe={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function RR(){return new TextEncoder}const CR=new cr([4294967295,4294967295],0);function B0(r){const t=RR().encode(r),i=new dE;return i.update(t),new Uint8Array(i.digest())}function H0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new cr([i,a],0),new cr([l,c],0)]}class Km{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(a<0)throw new Sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=cr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(cr.fromNumber(a)));return l.compare(CR)===1&&(l=new cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=B0(t),[a,l]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Km(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=B0(t),[a,l]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Th(bt.min(),l,new Ee(Lt),Es(),Pt())}}class Yl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Yl(a,i,Pt(),Pt(),Pt())}}class jc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class ZE{constructor(t,i){this.targetId=t,this.Ce=i}}class JE{constructor(t,i,a=sn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class q0{constructor(){this.ve=0,this.Fe=G0(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Yl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=G0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Es(),this.Je=xc(),this.He=xc(),this.Ye=new Ee(Lt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(um(c))if(a===0){const d=new gt(c.path);this.et(i,d,un.newNoDocument(d,bt.min()))}else Zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=gr(a).toUint8Array()}catch(y){if(y instanceof AE)return so("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Km(d,l,c)}catch(y){return so(y instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&um(p.target)){const y=new gt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,un.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Pt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ye,this.je,a);return this.je=Es(),this.Je=xc(),this.He=xc(),this.Ye=new Ee(Lt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new q0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new qe(Lt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new qe(Lt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new q0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new Ee(gt.comparator)}function G0(){return new Ee(gt.comparator)}const NR={asc:"ASCENDING",desc:"DESCENDING"},xR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DR={and:"AND",or:"OR"};class OR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function hm(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function MR(r,t){return ih(r,t.toTimestamp())}function Bi(r){return Zt(!!r,49232),bt.fromTimestamp((function(i){const a=mr(i);return new ge(a.seconds,a.nanos)})(r))}function Ym(r,t){return fm(r,t).canonicalString()}function fm(r,t){const i=(function(l){return new ve(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function tT(r){const t=ve.fromString(r);return Zt(rT(t),10190,{key:t.toString()}),t}function dm(r,t){return Ym(r.databaseId,t.path)}function Hd(r,t){const i=tT(t);if(i.get(1)!==r.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(nT(i))}function eT(r,t){return Ym(r.databaseId,t)}function VR(r){const t=tT(r);return t.length===4?ve.emptyPath():nT(t)}function mm(r){return new ve(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nT(r){return Zt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function F0(r,t,i){return{name:dm(r,t),fields:i.value.mapValue.fields}}function kR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Zt(E===void 0||typeof E=="string",58123),sn.fromBase64String(E||"")):(Zt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),sn.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?$.UNKNOWN:$E(_.code);return new ut(E,_.message||"")})(d);i=new JE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Hd(r,a.document.name),c=Bi(a.document.updateTime),d=a.document.createTime?Bi(a.document.createTime):bt.min(),p=new wn({mapValue:{fields:a.document.fields}}),y=un.newFoundDocument(l,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new jc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Hd(r,a.document),c=a.readTime?Bi(a.readTime):bt.min(),d=un.newNoDocument(l,c),p=a.removedTargetIds||[];i=new jc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Hd(r,a.document),c=a.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new AR(l,c),p=a.targetId;i=new ZE(p,d)}}return i}function UR(r,t){let i;if(t instanceof Kl)i={update:F0(r,t.key,t.value)};else if(t instanceof Fm)i={delete:dm(r,t.key)};else if(t instanceof Er)i={update:F0(r,t.key,t.data),updateMask:FR(t.fieldMask)};else{if(!(t instanceof TR))return yt(16599,{Vt:t.type});i={verify:dm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:MR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function LR(r,t){return r&&r.length>0?(Zt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Bi(l.updateTime):Bi(c);return d.isEqual(bt.min())&&(d=Bi(c)),new _R(d,l.transformResults||[])})(i,t)))):[]}function PR(r,t){return{documents:[eT(r,t.path)]}}function zR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=eT(r,l);const c=(function(_){if(_.length!==0)return sT(Fi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:Xa(M.field),direction:HR(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=hm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function jR(r){let t=VR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Zt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const M=iT(A);return M instanceof Fi&&VE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(J){return new th($a(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,dh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(A){const M=!!A.before,q=A.values||[];return new Wc(q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,q=A.values||[];return new Wc(q,M)})(i.endAt)),iR(t,l,d,c,p,"F",y,_)}function BR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function iT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=$a(i.unaryFilter.field);return He.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(i.unaryFilter.field);return He.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return He.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return He.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return He.create($a(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Fi.create(i.compositeFilter.filters.map((a=>iT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function HR(r){return NR[r]}function qR(r){return xR[r]}function GR(r){return DR[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return nn.fromServerFormat(r.fieldPath)}function sT(r){return r instanceof He?(function(i){if(i.op==="=="){if(O0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NAN"}};if(D0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NAN"}};if(D0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(i.field),op:qR(i.op),value:i.value}}})(r):r instanceof Fi?(function(i){const a=i.getFilters().map((l=>sT(l)));return a.length===1?a[0]:{compositeFilter:{op:GR(i.op),filters:a}}})(r):yt(54877,{filter:r})}function FR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function rT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ar{constructor(t,i,a,l,c=bt.min(),d=bt.min(),p=sn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class QR{constructor(t){this.yt=t}}function KR(r){const t=jR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cm(t,t.limit,"L"):t}class YR{constructor(){this.Cn=new XR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(dr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class XR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new qe(ve.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new qe(ve.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(aT,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}const K0="LruGarbageCollector",$R=1048576;function Y0([r,t],[i,a]){const l=Lt(r,i);return l===0?Lt(t,a):l}class ZR{constructor(t){this.Ir=t,this.buffer=new qe(Y0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Y0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class JR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(K0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yo(i)?rt(K0,"Ignoring IndexedDB error during garbage collection: ",i):await po(i)}await this.Vr(3e5)}))}}class WR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(fh.ce);const a=new ZR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Q0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),Ka()<=Ut.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function tC(r,t){return new WR(r,t)}class eC{constructor(){this.changes=new sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class iC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&xl(a.mutation,l,Ln.empty(),ge.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const l=Zr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=bl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Zr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Es();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((y,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof Er)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),xl(E.mutation,_,E.mutation.getFieldMask(),ge.now())):d.set(_.key,Ln.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new nC(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Nl();let l=new Ee(((d,p)=>d-p)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||Ln.empty();E=p.applyToLocalView(_,E),a.set(y,E);const A=(l.get(p.batchId)||Pt()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,A=HE();E.forEach((M=>{if(!c.has(M)){const q=YE(i.get(M),a.get(M));q!==null&&A.set(M,q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):sR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Zr());let p=Ml,y=c;return d.next((_=>X.forEach(_,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Pt()))).next((E=>({batchId:p,changes:BE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=bl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(A,M){return new gh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((E=>{E.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,un.newInvalidDocument(E)))}));let p=bl();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&xl(E.mutation,_,Ln.empty(),ge.now()),_h(i,_)&&(p=p.insert(y,_))})),p}))}}class sC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:KR(l.bundledQuery),readTime:Bi(l.readTime)}})(i)),X.resolve()}}class rC{constructor(){this.overlays=new Ee(gt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Zr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Zr(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new Ee(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=Zr(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Zr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new SR(i,a));let c=this.qr.get(i);c===void 0&&(c=Pt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class aC{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Xm{constructor(){this.Qr=new qe(Ye.$r),this.Ur=new qe(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ye(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ye(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new gt(new ve([])),a=new Ye(i,t),l=new Ye(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new ve([])),a=new Ye(i,t),l=new Ye(i,t+1);let c=Pt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ye(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ye{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Lt(t.Yr,i.Yr)}static Kr(t,i){return Lt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class oC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Ye.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ye(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ye(i,0),l=new Ye(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new qe(Lt);return i.forEach((l=>{const c=new Ye(l,0),d=new Ye(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new Ye(new gt(c),0);let p=new qe(Lt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Ye(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ye(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lC{constructor(t){this.ri=t,this.docs=(function(){return new Ee(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():un.newInvalidDocument(i))}getEntries(t,i){let a=Es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():un.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Es();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||k2(V2(E),a)<=0||(l.has(E.key)||_h(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new uC(this)}getSize(t){return X.resolve(this.size)}}class uC extends eC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class cC{constructor(t){this.persistence=t,this.si=new sa((i=>Hm(i)),qm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=uo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new uo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class oT{constructor(t,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new aC,this.referenceDelegate=t(this),this.Pi=new cC(this),this.indexManager=new YR,this.remoteDocumentCache=(function(l){return new lC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new QR(i),this.Ii=new sC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new rC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new oC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new hC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class hC extends L2{constructor(t){super(),this.currentSequenceNumber=t}}class $m{constructor(t){this.persistence=t,this.Ri=new Xm,this.Vi=null}static mi(t){return new $m(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new sa((a=>j2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=tC(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Zm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Zm(t,i.fromCache,a,l)}}class fC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class dC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Wb()?8:P2(cn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new fC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ka()<=Ut.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ka()<=Ut.DEBUG&&rt("QueryEngine","Query:",Ya(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ka()<=Ut.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(i))):X.resolve())}ys(t,i){if(U0(i))return X.resolve(null);let a=ji(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=cm(i,null,"F"),a=ji(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Pt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,cm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return U0(i)||l.isEqual(bt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Ka()<=Ut.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(i)),this.vs(t,d,i,M2(l,Ml)).next((p=>p)))}))}Ds(t,i){let a=new qe(zE(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ka()<=Ut.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.ps.getDocumentsMatchingQuery(t,i,dr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",mC=3e8;class gC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Ee(Lt),this.xs=new sa((c=>Hm(c)),qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function pC(r,t,i,a){return new gC(r,t,i,a)}async function lT(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Pt();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function yC(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const A=_.batch,M=A.keys();let q=X.resolve();return M.forEach((J=>{q=q.next((()=>E.getEntry(y,J))).next((nt=>{const Z=_.docVersions.get(J);Zt(Z!==null,48541),nt.version.compareTo(Z)<0&&(A.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),E.addEntry(nt)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Pt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function uT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function _C(r,t){const i=At(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((E,A)=>{const M=l.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?q=q.withResumeToken(sn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,a)),l=l.insert(A,q),(function(nt,Z,ft){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=mC?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,q,E)&&p.push(i.Pi.updateTargetData(c,q))}));let y=Es(),_=Pt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(vC(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(bt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function vC(r,t,i){let a=Pt(),l=Pt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Es();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(bt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(Jm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function EC(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=zm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function TC(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ar(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function gm(r,t,i){const a=At(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!yo(d))throw d;rt(Jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function X0(r,t,i){const a=At(r);let l=bt.min(),c=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const A=At(y),M=A.xs.get(E);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,E)})(a,d,ji(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Pt()))).next((p=>(bC(a,aR(t),p),{documents:p,Qs:c})))))}function bC(r,t,i){let a=r.Os.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class $0{constructor(){this.activeTargetIds=fR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SC{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AC{Oo(t){}shutdown(){}}const Z0="ConnectivityMonitor";class J0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Z0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Z0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function pm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const qd="RestConnection",wC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=pm(),p=this.zo(t,i.toUriEncodedString());rt(qd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),E=ho(_);return this.Jo(t,p,y,a,E).then((A=>(rt(qd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw so(qd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=wC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class CC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const on="WebChannelConnection";class IC extends RC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=pm();return new Promise(((p,y)=>{const _=new mE;_.setWithCredentials(!0),_.listenOnce(gE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uc.NO_ERROR:const A=_.getResponseJson();rt(on,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Uc.TIMEOUT:rt(on,`RPC '${t}' ${d} timed out`),y(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const M=_.getStatus();if(rt(on,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const J=q?.error;if(J&&J.status&&J.message){const nt=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Et)>=0?Et:$.UNKNOWN})(J.status);y(new ut(nt,J.message))}else y(new ut($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ut($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(on,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);rt(on,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=_E(),p=yE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");rt(on,`Creating RPC '${t}' stream ${l}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let M=!1,q=!1;const J=new CC({Yo:Z=>{q?rt(on,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(M||(rt(on,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),rt(on,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Zo:()=>A.close()}),nt=(Z,ft,Et)=>{Z.listen(ft,(dt=>{try{Et(dt)}catch(Xt){setTimeout((()=>{throw Xt}),0)}}))};return nt(A,Tl.EventType.OPEN,(()=>{q||(rt(on,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),nt(A,Tl.EventType.CLOSE,(()=>{q||(q=!0,rt(on,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(A))})),nt(A,Tl.EventType.ERROR,(Z=>{q||(q=!0,so(on,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),nt(A,Tl.EventType.MESSAGE,(Z=>{if(!q){const ft=Z.data[0];Zt(!!ft,16349);const Et=ft,dt=Et?.error||Et[0]?.error;if(dt){rt(on,`RPC '${t}' stream ${l} received error:`,dt);const Xt=dt.status;let ne=(function(S){const I=Pe[S];if(I!==void 0)return $E(I)})(Xt),Mt=dt.message;ne===void 0&&(ne=$.INTERNAL,Mt="Unknown error status: "+Xt+" with message "+dt.message),q=!0,J.a_(new ut(ne,Mt)),A.close()}else rt(on,`RPC '${t}' stream ${l} received:`,ft),J.u_(ft)}})),nt(p,pE.STAT_EVENT,(Z=>{Z.stat===sm.PROXY?rt(on,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===sm.NOPROXY&&rt(on,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}function bh(r){return new OR(r,!0)}class cT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W0="PersistentStream";class hT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(W0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NC extends hT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=kR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Bi(d.readTime):bt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=mm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=um(y)?{documents:PR(c,y)}:{query:zR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=WE(c,d.resumeToken);const _=hm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const _=hm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=BR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=mm(this.serializer),i.removeTarget=t,this.q_(i)}}class xC extends hT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=LR(t.writeResults,t.commitTime),a=Bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=mm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>UR(this.serializer,a)))};this.q_(i)}}class DC{}class OC extends DC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,fm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,fm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class VC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(rt(na,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await Xl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Ra=new MC(a,l)}}async function Sh(r){if(ra(r))for(const t of r.da)await t(!0)}async function Xl(r){for(const t of r.da)await t(!1)}function fT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ng(i)?eg(i):_o(i).O_()&&tg(i,t))}function Wm(r,t){const i=At(r),a=_o(i);i.Ia.delete(t),a.O_()&&dT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Ra.set("Unknown"))}function tg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}_o(r).Y_(t)}function dT(r,t){r.Va.Ue(t),_o(r).Z_(t)}function eg(r){r.Va=new IR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Ra.ua()}function ng(r){return ra(r)&&!_o(r).x_()&&r.Ia.size>0}function ra(r){return At(r).Ea.size===0}function mT(r){r.Va=void 0}async function kC(r){r.Ra.set("Online")}async function UC(r){r.Ia.forEach(((t,i)=>{tg(r,t)}))}async function LC(r,t){mT(r),ng(r)?(r.Ra.ha(t),eg(r)):r.Ra.set("Unknown")}async function PC(r,t,i){if(r.Ra.set("Online"),t instanceof JE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){rt(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(r,a)}else if(t instanceof jc?r.Va.Ze(t):t instanceof ZE?r.Va.st(t):r.Va.tt(t),!i.isEqual(bt.min()))try{const a=await uT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(sn.EMPTY_BYTE_STRING,E.snapshotVersion)),dT(c,y);const A=new ar(E.target,y,_,E.sequenceNumber);tg(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(na,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,t,i){if(!yo(t))throw t;r.Ea.add(1),await Xl(r),r.Ra.set("Offline"),i||(i=()=>uT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(na,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sh(r)}))}function gT(r,t){return t().catch((i=>rh(r,i,t)))}async function Ah(r){const t=At(r),i=yr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:zm;for(;zC(t);)try{const l=await EC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,jC(t,l)}catch(l){await rh(t,l)}pT(t)&&yT(t)}function zC(r){return ra(r)&&r.Ta.length<10}function jC(r,t){r.Ta.push(t);const i=yr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function pT(r){return ra(r)&&!yr(r).x_()&&r.Ta.length>0}function yT(r){yr(r).start()}async function BC(r){yr(r).ra()}async function HC(r){const t=yr(r);for(const i of r.Ta)t.ea(i.mutations)}async function qC(r,t,i){const a=r.Ta.shift(),l=Qm.from(a,t,i);await gT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ah(r)}async function GC(r,t){t&&yr(r).X_&&await(async function(a,l){if((function(d){return wR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();yr(a).B_(),await gT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(a)}})(r,t),pT(r)&&yT(r)}async function tv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),rt(na,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await Xl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function FC(r,t){const i=At(r);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(i,a,l){const c=At(i);return c.sa(),new NC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:kC.bind(null,r),t_:UC.bind(null,r),r_:LC.bind(null,r),H_:PC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),ng(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),mT(r))}))),r.ma}function yr(r){return r.fa||(r.fa=(function(i,a,l){const c=At(i);return c.sa(),new xC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:BC.bind(null,r),r_:GC.bind(null,r),ta:HC.bind(null,r),na:qC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ah(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ig{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new ig(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,t){if(vs("AsyncQueue",`${t}: ${r}`),yo(r))return new ut($.UNAVAILABLE,`${t}: ${r}`);throw r}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=bl(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new eo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class ev{constructor(){this.ga=new Ee(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class co{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new co(t,i,eo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class QC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class KC{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=nv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function nv(){return new sa((r=>PE(r)),yh)}async function _T(r,t){const i=At(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new QC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=sg(d,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&rg(i)}async function vT(r,t){const i=At(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YC(r,t){const i=At(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&rg(i)}function XC(r,t,i){const a=At(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function rg(r){r.Ca.forEach((t=>{t.next()}))}var ym,iv;(iv=ym||(ym={})).Ma="default",iv.Cache="cache";class ET{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new co(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ym.Cache}}class TT{constructor(t){this.key=t}}class bT{constructor(t){this.key=t}}class $C{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=zE(t),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new ev,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,A)=>{const M=l.get(E),q=_h(this.query,A)?A:null,J=!!M&&this.mutatedKeys.has(M.key),nt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Z=!1;M&&q?M.data.isEqual(q.data)?J!==nt&&(a.track({type:3,doc:q}),Z=!0):this.su(M,q)||(a.track({type:2,doc:q}),Z=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(p=!0)):!M&&q?(a.track({type:0,doc:q}),Z=!0):M&&!q&&(a.track({type:1,doc:M}),Z=!0,(y||_)&&(p=!0)),Z&&(q?(d=d.add(q),c=nt?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,A)=>(function(q,J){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:Z})}};return nt(q)-nt(J)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new co(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new bT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new TT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class ZC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class JC{constructor(t){this.key=t,this.hu=!1}}class WC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((p=>PE(p)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(gt.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tI(r,t,i=!0){const a=IT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ST(a,t,i,!0),l}async function eI(r,t){const i=IT(r);await ST(i,t,!0,!1)}async function ST(r,t,i,a){const l=await TC(r.localStore,ji(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await nI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&fT(r.remoteStore,l),p}async function nI(r,t,i,a,l){r.pu=(A,M,q)=>(async function(nt,Z,ft,Et){let dt=Z.view.ru(ft);dt.Cs&&(dt=await X0(nt.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,dt))));const Xt=Et&&Et.targetChanges.get(Z.targetId),ne=Et&&Et.targetMismatches.get(Z.targetId)!=null,Mt=Z.view.applyChanges(dt,nt.isPrimaryClient,Xt,ne);return rv(nt,Z.targetId,Mt.au),Mt.snapshot})(r,A,M,q);const c=await X0(r.localStore,t,!0),d=new $C(t,c.Qs),p=d.ru(c.documents),y=Yl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);rv(r,i,_.au);const E=new ZC(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function iI(r,t,i){const a=At(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Wm(a.remoteStore,l.targetId),_m(a,l.targetId)})).catch(po)):(_m(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function sI(r,t){const i=At(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Wm(i.remoteStore,a.targetId))}async function rI(r,t,i){const a=fI(r);try{const l=await(function(d,p){const y=At(d),_=ge.now(),E=p.reduce(((q,J)=>q.add(J.key)),Pt());let A,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let J=Es(),nt=Pt();return y.Ns.getEntries(q,E).next((Z=>{J=Z,J.forEach(((ft,Et)=>{Et.isValidDocument()||(nt=nt.add(ft))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,J))).next((Z=>{A=Z;const ft=[];for(const Et of p){const dt=ER(Et,A.get(Et.key).overlayedDocument);dt!=null&&ft.push(new Er(Et.key,dt,DE(dt.value.mapValue),gi.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,ft,p)})).next((Z=>{M=Z;const ft=Z.applyToLocalDocumentSet(A,nt);return y.documentOverlayCache.saveOverlays(q,Z.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:BE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ee(Lt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await $l(a,l.changes),await Ah(a.remoteStore)}catch(l){const c=sg(l,"Failed to persist write");i.reject(c)}}async function AT(r,t){const i=At(r);try{const a=await _C(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Zt(d.hu,14607):l.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await $l(i,a,t)}catch(a){await po(a)}}function sv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=At(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,A)=>{for(const M of A.Sa)M.va(p)&&(_=!0)})),_&&rg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function aI(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new Ee(gt.comparator);d=d.insert(c,un.newNoDocument(c,bt.min()));const p=Pt().add(c),y=new Th(bt.min(),new Map,new Ee(Lt),d,p);await AT(a,y),a.du=a.du.remove(c),a.Au.delete(t),og(a)}else await gm(a.localStore,t,!1).then((()=>_m(a,t,i))).catch(po)}async function oI(r,t){const i=At(r),a=t.batch.batchId;try{const l=await yC(i.localStore,t);RT(i,a,null),wT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,l)}catch(l){await po(l)}}async function lI(r,t,i){const a=At(r);try{const l=await(function(d,p){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Zt(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);RT(a,t,i),wT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await $l(a,l)}catch(l){await po(l)}}function wT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function RT(r,t,i){const a=At(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function _m(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||CT(r,a)}))}function CT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Wm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),og(r))}function rv(r,t,i){for(const a of i)a instanceof TT?(r.Ru.addReference(a.key,t),uI(r,a)):a instanceof bT?(rt(ag,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||CT(r,a.key)):yt(19791,{wu:a})}function uI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(ag,"New document in limbo: "+i),r.Eu.add(a),og(r))}function og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(ve.fromString(t)),a=r.fu.next();r.Au.set(a,new JC(i)),r.du=r.du.insert(i,a),fT(r.remoteStore,new ar(ji(ph(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function $l(r,t,i){const a=At(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){l.push(_);const E=Zm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Es,(q=>E.persistence.referenceDelegate.addReference(A,M.targetId,q))).next((()=>X.forEach(M.ds,(q=>E.persistence.referenceDelegate.removeReference(A,M.targetId,q)))))))))}catch(A){if(!yo(A))throw A;rt(Jm,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const q=E.Ms.get(M),J=q.snapshotVersion,nt=q.withLastLimboFreeSnapshotVersion(J);E.Ms=E.Ms.insert(M,nt)}}})(a.localStore,c))}async function cI(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){rt(ag,"User change. New user:",t.toKey());const a=await lT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ut($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Ls)}}function hI(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function IT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aI.bind(null,t),t.Pu.H_=YC.bind(null,t.eventManager),t.Pu.yu=XC.bind(null,t.eventManager),t}function fI(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lI.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pC(this.persistence,new dC,t.initialUser,this.serializer)}Cu(t){return new oT($m.mi,this.serializer)}Du(t){return new SC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class dI extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new JR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new oT((a=>sh.mi(a,i)),this.serializer)}}class vm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=cI.bind(null,this.syncEngine),await FC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KC})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),a=(function(c){return new IC(c)})(t.databaseInfo);return(function(c,d,p,y){return new OC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new VC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return J0.v()?new J0:new AC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,E){const A=new WC(l,c,d,p,y,_);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);rt(na,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class NT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const _r="FirestoreClient";class mI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=sg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(_r,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await lT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function av(r,t){r.asyncQueue.verifyOperationInProgress();const i=await gI(r);rt(_r,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>tv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>tv(t.remoteStore,l))),r._onlineComponents=t}async function gI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(_r,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;so("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new ah)}}else rt(_r,"Using default OfflineComponentProvider"),await Fd(r,new dI(void 0));return r._offlineComponents}async function xT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(_r,"Using user provided OnlineComponentProvider"),await av(r,r._uninitializedComponentsProvider._online)):(rt(_r,"Using default OnlineComponentProvider"),await av(r,new vm))),r._onlineComponents}function pI(r){return xT(r).then((t=>t.syncEngine))}async function Em(r){const t=await xT(r),i=t.eventManager;return i.onListen=tI.bind(null,t.syncEngine),i.onUnlisten=iI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=eI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=sI.bind(null,t.syncEngine),i}function yI(r,t,i={}){const a=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new NT({next:M=>{E.Nu(),d.enqueueAndForget((()=>vT(c,A)));const q=M.docs.has(p);!q&&M.fromCache?_.reject(new ut($.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&M.fromCache&&y&&y.source==="server"?_.reject(new ut($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new ET(ph(p.path),E,{includeMetadataChanges:!0,qa:!0});return _T(c,A)})(await Em(r),r.asyncQueue,t,i,a))),a.promise}function DT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const ov=new Map;const OT="firestore.googleapis.com",lv=!0;class uv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=lv}else this.host=t.host,this.ssl=t.ssl??lv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$R)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}O2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new T2;switch(a.type){case"firstParty":return new w2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=ov.get(i);a&&(rt("ComponentProvider","Removing Datastore"),ov.delete(i),a.terminate())})(this),Promise.resolve()}}function _I(r,t,i,a={}){r=mi(r,lg);const l=ho(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Iv(`https://${p}`),Nv("Firestore",!0)),c.host!==OT&&c.host!==p&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!fr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=ln.MOCK_USER;else{_=Gb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ln(A)}r._authCredentials=new b2(new EE(_,E))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class je{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ql(i,je._jsonSchema))return new je(t,a||null,new gt(ve.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:ze("string",je._jsonSchemaVersion),referencePath:ze("string")};class Pl extends wh{constructor(t,i,a){super(t,i,ph(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new gt(t))}withConverter(t){return new Pl(this.firestore,t,this._path)}}function dn(r,t,...i){if(r=gn(r),arguments.length===1&&(t=Lm.newId()),D2("doc","path",t),r instanceof lg){const a=ve.fromString(t,...i);return S0(a),new je(r,null,new gt(a))}{if(!(r instanceof je||r instanceof Pl))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ve.fromString(t,...i));return S0(a),new je(r.firestore,r instanceof Pl?r.converter:null,new gt(a))}}const cv="AsyncQueue";class hv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cT(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&rt(cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!yo(t))throw t;rt(cv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",fv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ig.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function fv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function dv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ia extends lg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new hv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hv(t),this._firestoreClient=void 0,await t}}}function vI(r,t){const i=typeof r=="object"?r:Mv(),a=typeof r=="string"?r:Zc,l=Cm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Hb("firestore");c&&_I(l,...c)}return l}function ug(r){if(r._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||EI(r),r._firestoreClient}function EI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new q2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,DT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new mI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ti{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ti(sn.fromBase64String(t))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ti(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,ti._jsonSchema))return ti.fromBase64String(t.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:ze("string",ti._jsonSchemaVersion),bytes:ze("string")};class Rh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ch{constructor(t){this._methodName=t}}class Hi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:ze("string",Hi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};class qi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new qi(t.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:ze("string",qi._jsonSchemaVersion),vectorValues:ze("object")};const TI=/^__.*__$/;class bI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Er(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class MT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Er(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function VT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Ih{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ih({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(VT(this.Ac)&&TI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class SI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||bh(t)}Cc(t,i,a,l=!1){return new Ih({Ac:t,methodName:i,Dc:a,path:nn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kT(r){const t=r._freezeSettings(),i=bh(r._databaseId);return new SI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function AI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);hg("Data must be an object, but it was:",d,a);const p=UT(a,d);let y,_;if(c.merge)y=new Ln(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const M=Tm(t,A,i);if(!d.contains(M))throw new ut($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);PT(E,M)||E.push(M)}y=new Ln(E),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new bI(new wn(p),y,_)}class Nh extends Ch{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nh}}function wI(r,t,i){return new Ih({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cg extends Ch{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=wI(this,t,!0),a=this.vc.map((c=>Zl(c,i))),l=new lo(a);return new pR(t.path,l)}isEqual(t){return t instanceof cg&&fr(this.vc,t.vc)}}function RI(r,t,i,a){const l=r.Cc(1,t,i);hg("Data must be an object, but it was:",l,a);const c=[],d=wn.empty();vr(a,((y,_)=>{const E=fg(t,y,i);_=gn(_);const A=l.yc(E);if(_ instanceof Nh)c.push(E);else{const M=Zl(_,A);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Ln(c);return new MT(d,p,l.fieldTransforms)}function CI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Tm(t,a,i)],y=[l];if(c.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Tm(t,c[M])),y.push(c[M+1]);const _=[],E=wn.empty();for(let M=p.length-1;M>=0;--M)if(!PT(_,p[M])){const q=p[M];let J=y[M];J=gn(J);const nt=d.yc(q);if(J instanceof Nh)_.push(q);else{const Z=Zl(J,nt);Z!=null&&(_.push(q),E.set(q,Z))}}const A=new Ln(_);return new MT(E,A,d.fieldTransforms)}function Zl(r,t){if(LT(r=gn(r)))return hg("Unsupported field value:",t,r),UT(r,t);if(r instanceof Ch)return(function(a,l){if(!VT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Zl(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=gn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ge.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof ge){const c=new ge(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof Hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ti)return{bytesValue:WE(l.serializer,a._byteString)};if(a instanceof je){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof qi)return(function(d,p){return{mapValue:{fields:{[NE]:{stringValue:xE},[Jc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Gm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Pm(a)}`)})(r,t)}function UT(r,t){const i={};return SE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vr(r,((a,l)=>{const c=Zl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function LT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ge||r instanceof Hi||r instanceof ti||r instanceof je||r instanceof Ch||r instanceof qi)}function hg(r,t,i){if(!LT(i)||!TE(i)){const a=Pm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Tm(r,t,i){if((t=gn(t))instanceof Rh)return t._internalPath;if(typeof t=="string")return fg(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const II=new RegExp("[~\\*/\\[\\]]");function fg(r,t,i){if(t.search(II)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Rh(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ut($.INVALID_ARGUMENT,p+r+y)}function PT(r,t){return r.some((i=>i.isEqual(t)))}class zT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(jT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class NI extends zT{data(){return super.data()}}function jT(r,t){return typeof t=="string"?fg(r,t):t instanceof Rh?t._internalPath:t._delegate._internalPath}function xI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DI{convertValue(t,i="none"){switch(pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return vr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Jc].arrayValue?.values?.map((a=>Ne(a.doubleValue)));return new qi(i)}convertGeoPoint(t){return new Hi(Ne(t.latitude),Ne(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=mr(t);return new ge(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ve.fromString(t);Zt(rT(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||vs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function OI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jr extends zT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(jT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:ze("string",Jr._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class Bc extends Jr{data(t={}){return super.data(t)}}class no{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:MI(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function MI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}function Qd(r){r=mi(r,je);const t=mi(r.firestore,ia);return yI(ug(t),r._key).then((i=>HT(t,r,i)))}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:ze("string",no._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class BT extends DI{constructor(t){super(),this.firestore=t}convertBytes(t){return new ti(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,i)}}function VI(r,t,i){r=mi(r,je);const a=mi(r.firestore,ia),l=OI(r.converter,t);return dg(a,[AI(kT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,gi.none())])}function Un(r,t,i,...a){r=mi(r,je);const l=mi(r.firestore,ia),c=kT(l);let d;return d=typeof(t=gn(t))=="string"||t instanceof Rh?CI(c,"updateDoc",r._key,t,i,a):RI(c,"updateDoc",r._key,t),dg(l,[d.toMutation(r._key,gi.exists(!0))])}function kI(r){return dg(mi(r.firestore,ia),[new Fm(r._key,gi.none())])}function mv(r,...t){r=gn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||dv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof je)d=mi(r.firestore,ia),p=ph(r._key.path),c={next:y=>{t[a]&&t[a](HT(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=mi(r,wh);d=mi(y.firestore,ia),p=y._query;const _=new BT(d);c={next:E=>{t[a]&&t[a](new no(d,_,y,E))},error:t[a+1],complete:t[a+2]},xI(r._query)}return(function(_,E,A,M){const q=new NT(M),J=new ET(E,q,A);return _.asyncQueue.enqueueAndForget((async()=>_T(await Em(_),J))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>vT(await Em(_),J)))}})(ug(d),p,l,c)}function dg(r,t){return(function(a,l){const c=new hr;return a.asyncQueue.enqueueAndForget((async()=>rI(await pI(a),l,c))),c.promise})(ug(r),t)}function HT(r,t,i){const a=i.docs.get(t._key),l=new BT(r);return new Jr(r,l,t._key,a,new Al(i.hasPendingWrites,i.fromCache),t.converter)}function El(...r){return new cg("arrayUnion",r)}(function(t,i=!0){(function(l){go=l})(fo),io(new Wr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ia(new S2(a.getProvider("auth-internal")),new R2(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ur(v0,E0,t),ur(v0,E0,"esm2020")})();const UI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),gv=r=>{const t=LI(r);return t.charAt(0).toUpperCase()+t.slice(1)},qT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),PI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var zI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jI=$t.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>$t.createElement("svg",{ref:y,...zI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:qT("lucide",l),...!c&&!PI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>$t.createElement(_,E)),...Array.isArray(c)?c:[c]]));const Ge=(r,t)=>{const i=$t.forwardRef(({className:a,...l},c)=>$t.createElement(jI,{ref:c,iconNode:t,className:qT(`lucide-${UI(gv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=gv(r),i};const BI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],pv=Ge("book-open",BI);const HI=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Kd=Ge("bot",HI);const qI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GI=Ge("circle-check-big",qI);const FI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],QI=Ge("circle-question-mark",FI);const KI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],GT=Ge("crown",KI);const YI=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],XI=Ge("footprints",YI);const $I=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],ZI=Ge("hammer",$I);const JI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],WI=Ge("house",JI);const tN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bm=Ge("log-out",tN);const eN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],nN=Ge("play",eN);const iN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yv=Ge("rotate-ccw",iN);const sN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rN=Ge("settings",sN);const aN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oN=Ge("shield",aN);const lN=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],lh=Ge("siren",lN);const uN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],cN=Ge("skull",uN);const hN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fN=Ge("trash-2",hN);const dN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Sm=Ge("trophy",dN);const mN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],FT=Ge("user",mN);const gN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],QT=Ge("x",gN),pN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:20af4094771c23a46aa637"},KT=Ov(pN),Yd=v2(KT),mn=vI(KT),Sn=typeof __app_id<"u"?__app_id:"police-hunt",yN="3",$r={KING:{name:"King",points:10,icon:GT,color:"bg-yellow-600",textColor:"text-yellow-400",desc:"The ruler. Always scores high (10 pts)."},POLICE:{name:"Police",points:8,icon:oN,color:"bg-blue-600",textColor:"text-blue-400",desc:"The enforcer. Must find the criminal to score (8 pts)."},ROBBER:{name:"Robber",points:6,icon:cN,color:"bg-red-600",textColor:"text-red-500",desc:"The heavy criminal. Scores 6 pts if not caught."},THIEF:{name:"Thief",points:4,icon:XI,color:"bg-red-600",textColor:"text-red-300",desc:"The petty criminal. Scores 4 pts if not caught."}},_N=["Terminator","RoboCop","Wall-E","R2-D2","Jarvis","Ultron","Hal-9000","GLaDOS"],vN=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},Xd=()=>w.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-900 via-blue-750 to-black"}),w.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-blue-500/5 mix-blend-overlay"}),w.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),_v=()=>w.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[w.jsx(lh,{size:12,className:"text-blue-500"}),w.jsx("span",{className:"text-[10px] font-black tracking-widest text-blue-500 uppercase",children:"POLICE HUNT"})]}),vv=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>w.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:w.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[w.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Depart Station?"}),w.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:l?"Leaving now will end the hunt for everyone!":"Leaving the lobby will disconnect you."}),w.jsxs("div",{className:"flex flex-col gap-3",children:[w.jsx("button",{onClick:i,className:"bg-slate-700 hover:bg-slate-600 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),l&&a&&w.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white",children:[w.jsx(WI,{size:18})," Return Squad to Lobby"]}),w.jsxs("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[w.jsx(bm,{size:18})," Leave Game"]})]})]})}),Ev=({onClose:r})=>w.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-0 md:p-4 backdrop-blur-md animate-in fade-in",children:w.jsxs("div",{className:"bg-slate-800 md:rounded-2xl w-full max-w-4xl h-full md:h-auto max-h-[90vh] overflow-hidden border-none md:border border-slate-600 shadow-2xl flex flex-col relative",children:[w.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-700 flex justify-between items-center bg-slate-900/50",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("h2",{className:"text-2xl md:text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-700 to-blue-600 uppercase tracking-widest",children:"Game Rules"}),w.jsx("span",{className:"text-slate-400 text-xs md:text-sm font-bold tracking-wide",children:"Deduction & Deception"})]}),w.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-700 rounded-full text-slate-400 hover:text-white transition-colors",children:w.jsx(QT,{size:24})})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-8 text-slate-300",children:[w.jsxs("div",{className:"bg-slate-700/50 p-6 rounded-xl border border-slate-600",children:[w.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[w.jsx(Sm,{className:"text-yellow-500",size:24})," The Objective"]}),w.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["The goal is to accumulate the highest score after a set number of rounds. Roles are shuffled every round.",w.jsx("br",{}),w.jsx("br",{}),w.jsx("strong",{children:"The Twist:"})," The"," ",w.jsx("span",{className:"text-blue-400 font-bold",children:"Police"})," must find the correct criminal. If they succeed, they score points. If they fail, the criminal escapes with the loot!"]})]}),w.jsxs("div",{children:[w.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[w.jsx(FT,{className:"text-purple-400",size:24})," The Roles"]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.values($r).map(t=>w.jsxs("div",{className:"flex items-start gap-4 bg-slate-700/30 p-4 rounded-xl border border-slate-600",children:[w.jsx("div",{className:"p-3 rounded-xl bg-slate-800 border border-slate-700 shadow-lg",children:w.jsx(t.icon,{className:t.textColor,size:28})}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-1",children:[w.jsx("h4",{className:`font-black text-lg ${t.textColor}`,children:t.name}),w.jsxs("span",{className:"bg-slate-900 px-2 py-0.5 rounded text-xs font-bold text-slate-400",children:[t.points," Pts"]})]}),w.jsx("p",{className:"text-sm text-slate-400 leading-tight",children:t.desc})]})]},t.name))})]}),w.jsxs("div",{children:[w.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[w.jsx(lh,{className:"text-blue-400",size:24})," How It Works"]}),w.jsxs("div",{className:"space-y-4 text-sm md:text-base border-l-2 border-slate-600 pl-4",children:[w.jsxs("div",{children:[w.jsx("strong",{className:"text-white block mb-1",children:"1. Assignment"}),"Each player is secretly assigned a role: King, Police, Robber, or Thief."]}),w.jsxs("div",{children:[w.jsx("strong",{className:"text-white block mb-1",children:"2. The Hunt"}),"The ",w.jsx("span",{className:"text-blue-400 font-bold",children:"Police"}),' must reveal themselves and guess who holds a specific criminal card (e.g., "Find the Robber").']}),w.jsxs("div",{children:[w.jsx("strong",{className:"text-white block mb-1",children:"3. Scoring"}),w.jsxs("ul",{className:"list-disc pl-5 mt-1 space-y-1 text-slate-400",children:[w.jsxs("li",{children:[w.jsx("span",{className:"text-yellow-400",children:"King:"})," Always gets"," ",w.jsx("strong",{children:"10 pts"}),"."]}),w.jsxs("li",{children:[w.jsx("span",{className:"text-blue-400",children:"Police:"})," Gets"," ",w.jsx("strong",{children:"8 pts"})," if they guess correctly."," ",w.jsx("strong",{children:"0 pts"})," if wrong."]}),w.jsxs("li",{children:[w.jsx("span",{className:"text-red-400",children:"Criminals:"})," Get points (6 or 4) only if the Police guesses ",w.jsx("strong",{children:"WRONG"}),". If caught, they get ",w.jsx("strong",{children:"0 pts"}),"."]})]})]})]})]})]}),w.jsx("div",{className:"p-4 md:p-6 bg-slate-900 border-t border-slate-700 text-center",children:w.jsx("button",{onClick:r,className:"w-full md:w-auto bg-blue-600 hover:bg-blue-500 text-white px-12 py-3 rounded-xl font-bold text-lg shadow-lg transition-all",children:"Let's Play!"})})]})}),Tv=({type:r="gold"})=>{const[t,i]=$t.useState([]);return $t.useEffect(()=>{const a=r==="gold"?["#FFD700","#FFA500","#FFFF00","#B8860B"]:["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF"],l=50,c=[];for(let d=0;d<l;d++)c.push({id:d,x:Math.random()*100,y:-10,color:a[Math.floor(Math.random()*a.length)],delay:Math.random()*.5,duration:1+Math.random()*2,left:Math.random()*100});i(c)},[r]),w.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[t.map(a=>w.jsx("div",{className:"absolute w-2 h-2 rounded-full opacity-80 animate-fall",style:{left:`${a.left}%`,backgroundColor:a.color,animationDuration:`${a.duration}s`,animationDelay:`${a.delay}s`,top:"-10px"}},a.id)),w.jsx("style",{children:`
        @keyframes fall {
          0% { transform: translateY(0) rotate(0deg); opacity: 1; }
          100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        .animate-fall {
          animation-name: fall;
          animation-timing-function: linear;
          animation-fill-mode: forwards;
        }
      `})]})};function EN(){const[r,t]=$t.useState(null),[i,a]=$t.useState("menu"),[l,c]=$t.useState(""),[d,p]=$t.useState(""),[y,_]=$t.useState(null),[E,A]=$t.useState(null),[M,q]=$t.useState(""),[J,nt]=$t.useState(!1),[Z,ft]=$t.useState(!1),[Et,dt]=$t.useState(!1),[Xt,ne]=$t.useState(!1),[Mt,N]=$t.useState(25),[S,I]=$t.useState(""),[V,x]=$t.useState(!1),[U,R]=$t.useState(!1),[le,Te]=$t.useState(!1),[G,tt]=$t.useState(!1);if($t.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await rw(Yd,__initial_auth_token):await tw(Yd)})();const ot=lw(Yd,mt=>t(mt));return()=>ot()},[]),$t.useEffect(()=>{if(!y||!r)return;const it=dn(mn,"artifacts",Sn,"public","data","rooms",y),ot=mv(it,mt=>{if(mt.exists()){const Tt=mt.data();if(A({id:mt.id,...Tt}),!Tt.players.some(_e=>_e.id===r.uid)){_(null),a("menu"),q("The Station has been closed! (Room Deleted or Kicked)");return}Tt.status==="playing"||Tt.status==="finished"?a("game"):(a("lobby"),ft(!1))}else _(null),a("menu"),q("The Station has been closed! (Room Deleted)")});return()=>ot()},[y,r,i]),$t.useEffect(()=>{if(!E||!r)return;const it=E.players.find(Tt=>Tt.id===r.uid);if(!it)return;const ot=E.gameInstanceId||"default",mt=`${E.id}-${ot}-${E.currentRound}`;if(E.turnState==="GUESSING"&&it.currentRole==="KING"){const Tt=`king-${mt}`;sessionStorage.getItem(Tt)||(Te(!0),setTimeout(()=>Te(!1),3e3),sessionStorage.setItem(Tt,"true"))}if(E.turnState==="RESULT"){const Tt=`result-${mt}`;if(!sessionStorage.getItem(Tt)){sessionStorage.setItem(Tt,"true");const Gt=E.roundHistory[E.roundHistory.length-1];if(!Gt)return;const _e=Gt.winner==="Police",Pn=it.currentRole==="POLICE",ce=it.currentRole===Gt.target;_e?Pn?(R(!0),setTimeout(()=>R(!1),4e3)):ce&&(tt(!0),setTimeout(()=>tt(!1),500)):Pn&&(tt(!0),setTimeout(()=>tt(!1),500))}}E.status==="finished"&&ft(!0)},[E,r]),$t.useEffect(()=>{if(!(!E||!r||E.hostId!==r.uid)){if(E.turnState==="GUESSING"){const it=E.players.find(ot=>ot.currentRole==="POLICE");if(it&&it.isBot){const ot=setTimeout(()=>{const mt=E.players.filter(Gt=>Gt.id!==it.id&&Gt.currentRole!=="KING"),Tt=mt[Math.floor(Math.random()*mt.length)];Tt&&be(Tt.id)},2500);return()=>clearTimeout(ot)}}if(E.turnState==="RESULT"){const it=E.players.filter(mt=>!mt.isBot);(E.readyPlayers?.length||0)>=it.length&&it.length>0&&setTimeout(()=>Nt(),500)}}},[E?.turnState,E?.readyPlayers?.length]),$t.useEffect(()=>{const it=mv(dn(mn,"game_hub_settings","config"),ot=>{ot.exists()&&(ot.data()[yN]?.maintenance?ne(!0):ne(!1))});return()=>it()},[]),Xt)return w.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:w.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[w.jsx(ZI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),w.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),w.jsx("p",{className:"text-gray-400",children:"All units return to HQ. Shift change in progress."})]})});const ct=async()=>{if(!r||!l.trim())return q("Enter nickname.");nt(!0);const it=Math.random().toString(36).substring(2,6).toUpperCase(),ot=dn(mn,"artifacts",Sn,"public","data","rooms",it),mt={hostId:r.uid,gameInstanceId:Date.now(),maxPlayers:4,maxRounds:25,currentRound:0,status:"lobby",players:[{id:r.uid,name:l,isBot:!1,totalScore:0,currentRole:null,roundScore:0}],roundHistory:[],readyPlayers:[],gameReadyPlayers:[],turnState:"IDLE",roundTarget:null};try{await VI(ot,mt),_(it),N(25)}catch{q("Failed to create room.")}nt(!1)},zt=async()=>{if(!r||!d||!l.trim())return q("Enter details.");nt(!0);const it=dn(mn,"artifacts",Sn,"public","data","rooms",d);try{const ot=await Qd(it);if(!ot.exists())throw new Error("Room not found.");const mt=ot.data();if(mt.players.length>=4)throw new Error("Room full.");mt.players.find(Gt=>Gt.id===r.uid)||await Un(it,{players:El({id:r.uid,name:l,isBot:!1,totalScore:0,currentRole:null,roundScore:0})}),_(d)}catch(ot){q(ot.message)}nt(!1)},qt=async()=>{if(!(!y||!r)){try{const it=dn(mn,"artifacts",Sn,"public","data","rooms",y),ot=await Qd(it);if(ot.exists()){const mt=ot.data();if(mt.hostId===r.uid)mt.status==="lobby"?await kI(it):await O(it,mt);else if(mt.status==="lobby"){const Gt=mt.players.filter(_e=>_e.id!==r.uid);await Un(it,{players:Gt})}else await O(it,mt)}}catch(it){console.error(it)}_(null),a("menu"),x(!1)}},O=async(it,ot)=>{ot.players.filter(mt=>mt.id!==r.uid),await Un(it,{status:"finished",players:ot.players.filter(mt=>mt.id!==r.uid)})},K=async()=>{if(!E||E.hostId!==r.uid)return;const it=E.players.map(ot=>({...ot,totalScore:0,currentRole:null,roundScore:0}));await Un(dn(mn,"artifacts",Sn,"public","data","rooms",y),{gameInstanceId:Date.now(),currentRound:0,status:"lobby",players:it,roundHistory:[],readyPlayers:[],gameReadyPlayers:[],turnState:"IDLE"}),x(!1)},et=async it=>{if(!(!y||!r))try{const ot=dn(mn,"artifacts",Sn,"public","data","rooms",y),mt=await Qd(ot);if(mt.exists()){const Gt=mt.data().players.filter(_e=>_e.id!==it);await Un(ot,{players:Gt})}}catch(ot){console.error(ot)}},st=async()=>{if(!y||!r||E.hostId!==r.uid)return;const it=parseInt(Mt);if(it<5||it>200||isNaN(it)){I("Min 5, Max 200 rounds.");return}I(""),await Un(dn(mn,"artifacts",Sn,"public","data","rooms",y),{maxRounds:it})},_t=async()=>{const it=dn(mn,"artifacts",Sn,"public","data","rooms",y);E.readyPlayers?.includes(r.uid)||await Un(it,{readyPlayers:El(r.uid)})},wt=async()=>{const it=dn(mn,"artifacts",Sn,"public","data","rooms",y);E.gameReadyPlayers?.includes(r.uid)||await Un(it,{gameReadyPlayers:El(r.uid)})},Nt=async()=>{if(E.currentRound>=E.maxRounds){await Un(dn(mn,"artifacts",Sn,"public","data","rooms",y),{status:"finished"});return}const it=vN(["KING","POLICE","ROBBER","THIEF"]),ot=E.currentRound+1,mt=ot%2!==0?"THIEF":"ROBBER",Tt=E.players.map((Gt,_e)=>({...Gt,currentRole:it[_e],roundScore:0}));await Un(dn(mn,"artifacts",Sn,"public","data","rooms",y),{status:"playing",currentRound:ot,turnState:"GUESSING",roundTarget:mt,players:Tt,readyPlayers:[],lastRoundResult:null})},be=async it=>{const ot=E.players.find(ce=>ce.id===it),mt=E.roundTarget;let Tt=[...E.players],Gt="",_e=!1;if(ot.currentRole===mt)_e=!0,Gt=`Success! Police caught the ${$r[mt].name}.`,Tt=Tt.map(ce=>{let xt=0;return ce.currentRole==="KING"?xt=10:ce.currentRole==="POLICE"?xt=8:ce.currentRole===mt?xt=0:xt=$r[ce.currentRole].points,{...ce,roundScore:xt,totalScore:ce.totalScore+xt}});else{_e=!1;const ce=$r[ot.currentRole].name;Gt=`Failed! Police accused ${ot.name} (${ce}).`,Tt=Tt.map(xt=>{let Jt=0;return xt.currentRole==="KING"?Jt=10:xt.currentRole==="POLICE"?Jt=0:Jt=$r[xt.currentRole].points,{...xt,roundScore:Jt,totalScore:xt.totalScore+Jt}})}const Pn={round:E.currentRound,target:E.roundTarget,winner:_e?"Police":"Criminals",scores:Tt.map(ce=>({name:ce.name,role:ce.currentRole,score:ce.roundScore}))};await Un(dn(mn,"artifacts",Sn,"public","data","rooms",y),{players:Tt,turnState:"RESULT",lastRoundResult:Gt,roundHistory:El(Pn)})},ue=async()=>{const it=E.players.map(ot=>({...ot,totalScore:0,currentRole:null,roundScore:0}));await Un(dn(mn,"artifacts",Sn,"public","data","rooms",y),{gameInstanceId:Date.now(),currentRound:0,status:"lobby",players:it,roundHistory:[],readyPlayers:[],gameReadyPlayers:[],turnState:"IDLE"})},Qi=async()=>{const it=`bot-${Date.now()}`,ot=E.players.map(Gt=>Gt.name),mt=_N.filter(Gt=>!ot.includes(Gt)),Tt=mt.length>0?mt[0]:`Bot ${E.players.length+1}`;await Un(dn(mn,"artifacts",Sn,"public","data","rooms",y),{players:El({id:it,name:Tt,isBot:!0,totalScore:0,currentRole:null,roundScore:0})})};if(i==="menu")return w.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[w.jsx(Xd,{}),Et&&w.jsx(Ev,{onClose:()=>dt(!1)}),w.jsxs("div",{className:"z-10 mb-10 text-center animate-in fade-in zoom-in duration-700",children:[w.jsx(lh,{size:64,className:"text-red-700 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(59,130,246,0.5)]"}),w.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-red-700 to-blue-600 font-serif tracking-widest drop-shadow-md",children:"POLICE HUNT"}),w.jsx("p",{className:"text-slate-400 tracking-[0.3em] uppercase mt-2 font-bold",children:"The Heist"})]}),w.jsxs("div",{className:"max-w-md w-full bg-slate-800/90 backdrop-blur border border-slate-600 p-8 rounded-2xl shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[M&&w.jsx("div",{className:"bg-red-900/50 text-red-200 p-3 rounded mb-4 text-sm text-center border border-red-800",children:M}),w.jsx("input",{className:"w-full bg-slate-900 border border-slate-600 p-3 rounded mb-4 text-white placeholder-slate-500 focus:border-blue-500 outline-none transition-colors",placeholder:"Your Nickname",value:l,onChange:it=>c(it.target.value)}),w.jsxs("button",{onClick:ct,disabled:J,className:"w-full bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 p-4 rounded-xl font-bold mb-4 flex items-center justify-center gap-2 border border-yellow-500/30 shadow-[0_0_15px_rgba(234,179,8,0.2)] transition-all text-black",children:[w.jsx(lh,{size:20})," Generate Crime Scene"]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[w.jsx("input",{className:"w-full sm:flex-1 bg-slate-900 border border-slate-600 p-3 rounded text-white placeholder-slate-500 uppercase font-mono tracking-wider focus:border-blue-500 outline-none",placeholder:"ROOM CODE",value:d,onChange:it=>p(it.target.value.toUpperCase())}),w.jsx("button",{onClick:zt,disabled:J,className:"w-full sm:w-auto bg-blue-700 hover:bg-blue-600 border border-blue-500 px-6 py-3 rounded font-bold transition-colors shadow-lg",children:"Join"})]}),w.jsxs("button",{onClick:()=>dt(!0),className:"w-full mt-4 text-sm text-slate-400 hover:text-white flex items-center justify-center gap-2 py-2 transition-colors",children:[w.jsx(pv,{size:16})," How to Play"]})]})]});if(i==="lobby"&&E){const it=E.hostId===r.uid;return w.jsxs("div",{className:"min-h-screen bg-slate-900 text-white p-4 flex flex-col items-center relative overflow-hidden",children:[w.jsx(Xd,{}),V&&w.jsx(vv,{onConfirmLeave:qt,onConfirmLobby:()=>{K(),x(!1)},onCancel:()=>x(!1),isHost:it,inGame:!1}),w.jsxs("div",{className:"w-full max-w-lg z-10 bg-slate-800/90 p-8 rounded-2xl border border-slate-700 shadow-2xl mb-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-slate-700 pb-4",children:[w.jsxs("h2",{className:"text-2xl font-bold font-serif text-blue-400",children:["Station:"," ",w.jsx("span",{className:"text-white font-mono",children:E.id})]}),w.jsx("button",{onClick:()=>x(!0),className:"bg-slate-700 p-2 rounded hover:bg-red-900/50 hover:text-red-400 transition-colors",title:"Leave Room",children:w.jsx(bm,{size:20})})]}),w.jsx("div",{className:"bg-slate-900/50 rounded-xl p-4 mb-6 border border-slate-700",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2 text-slate-400 font-bold uppercase text-xs tracking-wider",children:[w.jsx(rN,{size:16})," Rounds"]}),E.hostId===r.uid?w.jsxs("div",{className:"flex flex-col items-end",children:[w.jsx("input",{type:"number",className:"bg-slate-800 text-center w-20 p-2 rounded border border-slate-600 focus:border-yellow-500 outline-none font-bold",value:Mt,onChange:ot=>N(ot.target.value),onBlur:st,min:"5",max:"200"}),S&&w.jsx("span",{className:"text-red-400 text-[10px] mt-1",children:S})]}):w.jsx("div",{className:"font-black text-2xl text-yellow-500",children:E.maxRounds})]})}),w.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 mb-6 border border-slate-700",children:[w.jsxs("div",{className:"flex justify-between mb-4 text-xs font-bold text-slate-500 uppercase",children:[w.jsx("span",{children:"Squad"}),w.jsxs("span",{children:[E.players.length," / 4"]})]}),E.players.map(ot=>w.jsxs("div",{className:"flex items-center justify-between bg-slate-800 p-3 rounded mb-2 border border-slate-700",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${ot.isBot?"bg-purple-600":"bg-slate-600"}`,children:ot.isBot?w.jsx(Kd,{size:16}):w.jsx(FT,{size:16})}),w.jsxs("span",{className:ot.id===r.uid?"text-yellow-400 font-bold":"text-white",children:[ot.name," ",ot.id===E.hostId&&""]})]}),E.hostId===r.uid&&ot.id!==r.uid&&w.jsx("button",{onClick:()=>et(ot.id),className:"text-slate-500 hover:text-red-500 transition-colors p-1",title:"Kick Player",children:w.jsx(fN,{size:16})})]},ot.id))]}),E.hostId===r.uid?w.jsxs(w.Fragment,{children:[E.players.length<4&&w.jsxs("button",{onClick:Qi,className:"w-full py-3 mb-4 rounded-xl border-2 border-dashed border-slate-600 text-slate-400 hover:bg-slate-800 flex items-center justify-center gap-2",children:[w.jsx(Kd,{size:18})," Add AI Bot"]}),w.jsxs("button",{onClick:Nt,disabled:E.players.length!==4||!!S,className:"w-full bg-green-600 hover:bg-green-500 disabled:opacity-50 disabled:cursor-not-allowed py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2",children:[w.jsx(nN,{size:20})," Start Game"]})]}):w.jsx("div",{className:"text-center text-slate-400 animate-pulse italic",children:"Waiting for Captain to start..."})]}),w.jsx(_v,{})]})}if(i==="game"&&E){const it=E.players.find(jt=>jt.id===r.uid);if(!it)return null;const ot=E.players.find(jt=>jt.currentRole==="POLICE"),mt=it.currentRole==="POLICE",Tt=E.readyPlayers?.includes(r.uid),Gt=E.players.filter(jt=>!jt.isBot).length,_e=E.readyPlayers?.length||0,Pn=E.hostId===r.uid,ce=E.gameReadyPlayers?.includes(r.uid),xt=E.gameReadyPlayers?.length||0,Jt=Gt-1;return w.jsxs("div",{className:`min-h-screen bg-slate-900 text-white flex flex-col relative overflow-hidden transition-transform duration-100 font-sans ${G?"translate-x-1":""}`,children:[w.jsx(Xd,{}),G&&w.jsx("div",{className:"absolute inset-0 bg-red-500/20 z-40 pointer-events-none"}),U&&w.jsx(Tv,{type:"colorful"}),le&&w.jsx(Tv,{type:"gold"}),V&&w.jsx(vv,{onCancel:()=>x(!1),onConfirmLeave:qt,onConfirmLobby:()=>{K(),x(!1)},isHost:Pn,inGame:!0}),Et&&w.jsx(Ev,{onClose:()=>dt(!1)}),w.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md p-3 flex justify-between items-center shadow-lg z-10 border-b border-slate-700",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-xs text-slate-400 font-bold uppercase tracking-wide",children:"Round"}),w.jsxs("div",{className:"font-bold text-xl leading-none text-blue-400",children:[E.currentRound," ",w.jsxs("span",{className:"text-slate-500 text-sm",children:["/ ",E.maxRounds]})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>dt(!0),className:"bg-slate-700 p-2 rounded hover:bg-slate-600 text-slate-300",title:"Game Rules",children:w.jsx(pv,{size:20})}),w.jsx("button",{onClick:()=>ft(!0),className:"bg-slate-700 p-2 rounded hover:bg-slate-600 text-slate-300",title:"Scoreboard",children:w.jsx(Sm,{size:20})}),w.jsx("button",{onClick:()=>x(!0),className:"bg-slate-700 p-2 rounded hover:bg-red-900/50 hover:text-red-400 transition-colors text-slate-300",title:"Leave Game",children:w.jsx(bm,{size:20})})]})]}),w.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center justify-center gap-6 z-10",children:[w.jsx("div",{className:"text-center mb-4 w-full max-w-md",children:E.status==="finished"?w.jsx("div",{className:"text-3xl font-bold text-yellow-400 animate-bounce",children:"GAME OVER"}):E.turnState==="GUESSING"?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"text-slate-400 text-sm uppercase tracking-widest mb-1",children:"Mission"}),w.jsxs("div",{className:"text-2xl font-bold mb-2",children:["Find"," ",w.jsx("span",{className:E.roundTarget==="THIEF"?"text-red-300":"text-red-500",children:E.roundTarget})]}),w.jsx("div",{className:"text-sm bg-slate-800/80 p-2 rounded-lg border border-slate-700 animate-pulse text-blue-300 backdrop-blur-sm",children:mt?"Click a player to guess!":`${ot?.name} is investigating...`})]}):w.jsxs("div",{className:"bg-slate-800/90 backdrop-blur px-6 py-4 rounded-xl border border-slate-600 shadow-xl w-full",children:[w.jsx("div",{className:"text-lg font-bold mb-1 text-center text-white",children:E.lastRoundResult}),E.status!=="finished"&&w.jsxs("div",{className:"mt-4",children:[w.jsx("button",{onClick:_t,disabled:Tt,className:`w-full py-3 rounded-lg font-bold transition-all ${Tt?"bg-slate-600 text-slate-400":"bg-green-600 hover:bg-green-500 text-white shadow-lg hover:scale-105"}`,children:Tt?"Waiting for others...":"Ready for Next Round"}),w.jsxs("div",{className:"text-xs text-center mt-2 text-slate-500",children:[_e,"/",Gt," Players Ready"]})]})]})}),w.jsx("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md",children:E.players.map(jt=>{let Rn=jt.currentRole,rn=!0;(E.turnState==="RESULT"||E.status==="finished"||Rn==="KING"||Rn==="POLICE"||jt.id===r.uid)&&(rn=!1);const he=Rn?$r[Rn]:null,fe=mt&&E.turnState==="GUESSING"&&rn,zn=jt.id===r.uid;return w.jsxs("div",{onClick:()=>fe?be(jt.id):null,className:`
                                relative p-4 rounded-xl border-2 flex flex-col items-center justify-center aspect-[3/4] transition-all backdrop-blur-sm
                                ${zn?"bg-slate-800/90 shadow-[0_0_20px_rgba(6,182,212,0.4)] border-green-400 ring-2 ring-cyan-400/30 transform scale-105 z-10":"bg-slate-800/80 border-slate-700"}
                                ${fe?"cursor-pointer hover:scale-105 border-red-400 bg-red-900/20 shadow-[0_0_15px_rgba(59,130,246,0.5)]":""}
                            `,children:[w.jsxs("div",{className:`font-bold text-sm mb-2 truncate w-full text-center flex items-center justify-center gap-1 ${zn?"text-cyan-300":"text-white"}`,children:[jt.isBot&&w.jsx(Kd,{size:12,className:"text-purple-400"}),jt.name," ",zn&&"(You)"]}),rn?w.jsxs("div",{className:"flex-1 flex items-center justify-center",children:[w.jsx(QI,{size:48,className:"text-slate-600"}),w.jsx("div",{className:"absolute bottom-4 text-xs font-bold text-slate-500",children:"UNKNOWN"})]}):w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center animate-in fade-in zoom-in duration-300",children:[w.jsx(he.icon,{size:48,className:he.textColor}),w.jsx("div",{className:`mt-2 font-black uppercase ${he.textColor}`,children:he.name}),w.jsxs("div",{className:"text-xs text-slate-400",children:[he.points," pts"]})]}),E.turnState==="RESULT"&&w.jsx("div",{className:`absolute -top-2 -right-2 w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs border-2 border-slate-900 shadow-lg ${jt.roundScore>0?"bg-green-500":"bg-red-500"}`,children:jt.roundScore}),E.turnState==="RESULT"&&E.readyPlayers?.includes(jt.id)&&w.jsx("div",{className:"absolute bottom-2 right-2 text-green-500 bg-slate-900 rounded-full",children:w.jsx(GI,{size:16})})]},jt.id)})}),w.jsxs("div",{className:"mt-auto bg-slate-800/90 backdrop-blur w-full max-w-md p-4 rounded-xl border border-slate-700 flex justify-between items-center shadow-lg",children:[w.jsx("span",{className:"text-slate-400 text-sm font-bold uppercase",children:"My Score"}),w.jsx("span",{className:"text-3xl font-black text-yellow-500",children:it.totalScore})]})]}),Z&&w.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-slate-800 w-full max-w-2xl max-h-[85vh] rounded-2xl flex flex-col border border-slate-700 shadow-2xl relative",children:[w.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center",children:[w.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[w.jsx(Sm,{className:"text-yellow-400"})," Scoreboard"]}),E.status!=="finished"&&w.jsx("button",{onClick:()=>ft(!1),children:w.jsx(QT,{})})]}),(()=>{const jt=[...E.players].sort((fe,zn)=>zn.totalScore-fe.totalScore),Rn=jt[0]?.totalScore||0,rn=jt.filter(fe=>fe.totalScore===Rn),he=rn.length>1;return w.jsxs(w.Fragment,{children:[E.status==="finished"&&w.jsxs("div",{className:"bg-gradient-to-r from-yellow-600 to-yellow-800 p-4 text-center",children:[w.jsx("div",{className:"text-sm font-bold text-yellow-200 uppercase tracking-widest",children:he?"Champions":"Champion"}),w.jsx("div",{className:"text-3xl font-black text-white drop-shadow-md",children:rn.map(fe=>fe.name).join(" & ")})]}),w.jsxs("div",{className:"p-4 bg-slate-900/50",children:[w.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs font-bold text-slate-500 uppercase mb-2 text-center",children:[w.jsx("div",{className:"text-left pl-2",children:"Player"}),w.jsx("div",{children:"Role"}),w.jsx("div",{children:"Last"}),w.jsx("div",{children:"Total"})]}),jt.map((fe,zn)=>{const bs=E.status==="finished"&&fe.totalScore===Rn;return w.jsxs("div",{className:`grid grid-cols-4 gap-2 p-3 rounded mb-1 items-center text-center ${bs?"bg-yellow-900/30 border border-yellow-500/50":"bg-slate-700"}`,children:[w.jsxs("div",{className:"text-left font-bold truncate flex items-center gap-1",children:[bs&&w.jsx(GT,{size:12,className:"text-yellow-400"})," ",fe.name]}),w.jsx("div",{className:"text-xs opacity-70",children:fe.currentRole?$r[fe.currentRole].name:"-"}),w.jsxs("div",{className:`font-bold ${fe.roundScore>0?"text-green-400":"text-slate-500"}`,children:["+",fe.roundScore]}),w.jsx("div",{className:"font-black text-yellow-400 text-lg",children:fe.totalScore})]},fe.id)})]})]})})(),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[w.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"History"}),[...E.roundHistory||[]].reverse().map((jt,Rn)=>w.jsxs("div",{className:"mb-2 text-sm border-b border-slate-700 pb-2",children:[w.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[w.jsxs("span",{children:["Round ",jt.round,"  Hunted ",jt.target]}),w.jsxs("span",{className:jt.winner==="Police"?"text-blue-400":"text-red-400",children:[jt.winner," Won"]})]}),w.jsx("div",{className:"grid grid-cols-4 gap-1",children:jt.scores.map((rn,he)=>w.jsxs("div",{className:"bg-slate-800 p-1 rounded text-center",children:[w.jsx("div",{className:"text-[10px] text-slate-500 truncate",children:rn.name}),w.jsxs("div",{className:`font-bold text-xs ${rn.score>0?"text-green-400":"text-slate-600"}`,children:["+",rn.score]})]},he))})]},Rn))]}),E.status==="finished"&&w.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-800 rounded-b-2xl",children:w.jsxs("div",{className:"flex flex-col gap-3",children:[E.hostId===r.uid?w.jsx("button",{onClick:ue,disabled:xt<Jt,className:"w-full bg-green-600 hover:bg-green-500 disabled:bg-slate-600 disabled:text-slate-400 py-3 rounded-xl font-bold flex items-center justify-center gap-2 text-lg shadow-lg",children:xt<Jt?w.jsxs(w.Fragment,{children:[w.jsx(yv,{className:"animate-spin"})," Waiting for Players (",xt,"/",Jt,")"]}):w.jsxs(w.Fragment,{children:[w.jsx(yv,{})," Play Again"]})}):w.jsx("button",{onClick:wt,disabled:ce,className:`w-full py-3 rounded-xl font-bold transition-colors ${ce?"bg-slate-600 text-slate-400":"bg-blue-600 hover:bg-blue-500"}`,children:ce?"Waiting for Host...":"Ready for Next Game"}),w.jsx("button",{onClick:qt,className:"w-full bg-slate-700 hover:bg-slate-600 py-3 rounded-xl font-bold text-white border border-slate-500",children:"Exit to Menu"})]})})]})}),w.jsx(_v,{})]})}return w.jsx("div",{className:"text-white text-center p-10",children:"Loading Game Resources..."})}Mb.createRoot(document.getElementById("root")).render(w.jsx($t.StrictMode,{children:w.jsx(EN,{})}));
